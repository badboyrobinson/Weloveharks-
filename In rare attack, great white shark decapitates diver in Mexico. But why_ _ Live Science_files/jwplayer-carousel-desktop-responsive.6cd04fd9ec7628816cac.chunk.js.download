/*! jwplayer-carousel-desktop-responsive.ed681294 Fri Mar 24 2023 14:22:15 GMT+0000 (Coordinated Universal Time) */
(window.vanillaJsonp=window.vanillaJsonp||[]).push([["jwplayer-carousel-desktop-responsive"],{"./src/progressive/ts/video/config/config.ts":function(e,t,r){"use strict";var n=r("./src/progressive/ts/utils/geo/read-cookie-value.ts"),a={techradar:["FR"]},i=function(){if(!window.ffte.hasOwnProperty("properties"))return!1;if(void 0!==(e=window.ffte.properties)&&(e.articleTagHandle.includes("deals")||e.articleControlTag.includes("van-disable-inbody-ads")||e.articleControlTag.includes("_van_ads_none")||e.articleControlTag.includes("van_ads_none")||e.articleControlTag.includes("van-ads-none")||e.articleControlTag.includes("deals")||e.articleControlTag.includes("no-in-article-video")))return!1;var e;if(!function(){if(!window.ffte.isGlobal)return!0;var e=a[window.ffte.site];return!e||!e.includes(window.ffte.locale)}())return!1;if(!window.FEP)return!1;if(null!==document.querySelector(".future__jwplayer"))return!1;var t=document.querySelector("#article-body");return!(!document.querySelector(".article__body")&&!t)};r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return u}));var o={coreGeos:["US","GB","AU","CA"],mobileCoreGeos:["US","GB","CA","ES","FR","DE"],euGeos:["BE","BG","CZ","DK","DE","EE","IE","EL","ES","FR","HR","IT","CY","LV","LT","LU","HU","MT","NL","AT","PL","PT","RO","SI","SK","FI","SE","GB"],flags:{ALL_GEOS:"ALL_GEOS",CORE_GEOS:"CORE_GEOS",NON_CORE_GEOS:"NON_CORE_GEOS",NO_EU_NO_CORE:"NO_EU_NO_CORE",GB_US_ONLY:"GB_US_ONLY",US_ONLY:"US_ONLY",MOBILE_CORE_GEOS:"MOBILE_CORE_GEOS",MOBILE_NON_CORE_GEOS:"MOBILE_NON_CORE_GEOS",NEVER:"NEVER"},mobilePlayers:{JWPLAYER_CAROUSEL_MOBILE:"JWPLAYER_CAROUSEL_MOBILE",JWPLAYER_EDITORIAL_MOBILE:"JWPLAYER_EDITORIAL_MOBILE",DIGITEKA_CAROUSEL_MOBILE:"DIGITEKA_CAROUSEL_MOBILE"},desktopPlayers:{JWPLAYER_CAROUSEL_DESKTOP:"JWPLAYER_CAROUSEL_DESKTOP",DIGITEKA_CAROUSEL_DESKTOP:"DIGITEKA_CAROUSEL_DESKTOP"}},s=window.innerWidth<=450,c=function(e){return Object.keys(o.mobilePlayers).includes(e)},l=function(e){var t=o.flags,r=o.coreGeos,a=o.euGeos,i=o.mobileCoreGeos,s=null===Object(n.a)("FTR_Country_Code")?"US":Object(n.a)("FTR_Country_Code");switch(e){case t.ALL_GEOS:return!0;case t.CORE_GEOS:return r.includes(s);case t.NON_CORE_GEOS:return!r.includes(s);case t.NO_EU_NO_CORE:return!r.includes(s)&&!a.includes(s);case t.GB_US_ONLY:return"GB"===s||"US"===s;case t.MOBILE_CORE_GEOS:return i.includes(s);case t.MOBILE_NON_CORE_GEOS:return!i.includes(s);case t.US_ONLY:return"US"===s;default:return!1}};function u(e){var t,r=window.vanilla.featureFlags.jwplayer.typeUsed;return void 0!==r&&(!!(c(t=e)&&s||!c(t)&&!s)&&(!(function(e){return e!==o.mobilePlayers.JWPLAYER_EDITORIAL_MOBILE}(e)&&!i())&&l(r[e])))}},"./src/progressive/ts/video/jwplayer/carousel/carousel-placeholder.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("./node_modules/fastdom/fastdom.js"),a=r.n(n),i=function(){var e=document.querySelector(".van_vid_carousel");e&&a.a.mutate((function(){e.classList.add("vid-present")}))}},"./src/progressive/ts/video/jwplayer/carousel/config.ts":function(e,t,r){"use strict";var n=function(){var e,t,r,n,a=window.vanilla.featureFlags.jwplayer.carousel;if(!a.enabled)return null;var i=null==a?void 0:a.IDs;return!!i&&((!(null===(t=null===(e=window.ffte)||void 0===e?void 0:e.properties)||void 0===t?void 0:t.articleType)||!window.vanilla.featureFlags.jwplayer.hasOwnProperty(null===(n=null===(r=window.ffte)||void 0===r?void 0:r.properties)||void 0===n?void 0:n.articleType))&&i)}();t.a=n},"./src/progressive/ts/video/jwplayer/carousel/desktop-responsive.ts":function(e,t,r){"use strict";r.r(t);var n=r("./src/progressive/ts/video/config/config.ts"),a=r("./src/progressive/ts/video/config/config-behaviour.ts"),i=r("./src/progressive/ts/feature-variables/feature-variables.ts"),o=r("./src/progressive/ts/translator/translator.ts"),s=r("./src/progressive/ts/utils/debouncer.ts"),c=r("./src/progressive/ts/utils/give-element-with-classes.ts"),l=r("./src/progressive/ts/utils/is-IE.ts"),u=r("./src/progressive/ts/utils/is-safari.ts"),d=r("./src/progressive/ts/video/jwplayer/showcase/add-link.ts"),v=r("./src/progressive/ts/video/jwplayer/utils/setup-and-dispatch.ts"),f=r("./src/progressive/ts/video/jwplayer/carousel/carousel-placeholder.ts"),p=r("./src/progressive/ts/video/jwplayer/carousel/config.ts"),O=r("./src/progressive/ts/video/jwplayer/carousel/livestream.ts"),_=r("./node_modules/fastdom/fastdom.js"),E=r.n(_);r.d(t,"fetchFallbackPlaylist",(function(){return h}));var w=p.a,y=function(e,t){var r,n,a=Object(c.a)("div",["jw-carousel"]),i=Object(c.a)("div",["carousel__title"]),l=Object(c.a)("div",["carousel--background"]),u=document.querySelector(".site-logo svg");E.a.mutate((function(){w.tintLogo&&i.classList.add("carousel__title--black-logo"),i.textContent=Object(o.b)("RECOMMENDED VIDEOS FOR YOU..."),function(e,t,r){if(null!==r){var n=r.cloneNode(!0);e.appendChild(n)}}(i,w.tintLogo,u);var r,n,s,c=t?w.fallbackDivID:w.divID,d=(r="div",n=c,(s=document.createElement(r)).setAttribute("id",n),s);a.appendChild(i),a.appendChild(l),a.appendChild(d),e.appendChild(a)})),r=a,n=Object(s.a)((function(){E.a.mutate((function(){r.style.display=window.innerWidth<1e3?"none":"block"}))}),200),window.addEventListener("resize",n)},b=function(e,t,r,n){var i=n?e.fallbackDivID:e.divID,o=function(e,t){void 0!==e.advertising&&(e.advertising.vpaidcontrols=!0,e.advertising.autoplayadsmuted=!0);var r=Object(a.b)(a.a.AUTOPLAY)?"viewable":"false";return Object.assign({},e,{visualplaylist:!1,key:t.key,autostart:r,displaytitle:!0,mute:!0})}(t,e),s=r(i);void 0!==s&&(Object(d.a)(i,o),console.log("set up desktop-responsive carousel at ".concat(performance.now())),Object(v.a)(s,i,o),"false"!==o.autostart&&s.on("adError",(function(){s.setup(Object.assign(Object.assign({},o),{autostart:"false"}))})),Object(O.b)()&&e.channelID&&Object(O.c)(s,e))},g=function(e,t,r,n){return function(){var a=function(e,t){var r=e.defaults;return Object.assign({},r,{playlist:t.playlist})}(n,t);b(e,a,n,r)}},h=function(e){return fetch("https://cdn.jwplayer.com/v2/playlists/".concat(e)).then((function(e){return e.json()})).then((function(e){return e}))},m=function(e,t){return new Promise((function(r){if(e.useSearchPlaylist){var n=e.searchPlaylistID;(function(e){return["fepPrimaryProduct","primaryCategory","fepSecondaryProducts","secondaryCategories"].map((function(t){var r=e[t];return Array.isArray(r)?r[0]:r}))})(t).reduce((function(e,t){return e.then((function(e){return e.playlist.length>0?e:function(e,t){return fetch("https://cdn.jwplayer.com/v2/playlists/".concat(e,"?search=").concat(encodeURIComponent(t),"&published=90D")).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(n,t)}))}),Promise.resolve({feed_instance_id:"",title:"",kind:"",playlist:[],description:"",feedid:""})).then((function(t){t.playlist.length>0?r(t):r(h(e.fallbackPlaylistID))})).catch((function(e){return console.log(e)}))}else r(h(e.fallbackPlaylistID))}))},j=function(e,t,r,n,a){r.playlist=function(e){for(var t,r,n=e.length;0!==n;)r=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[r],e[r]=t;return e}(r.playlist);var o=g(t,r,n,a),s=Object(i.a)("jwplayer"),c=s.jwplayerCarousel.intersectionObserver.enabled;window.IntersectionObserver&&!Object(u.a)()?c?function(e,t,r){var n={rootMargin:"0px 0px ".concat(r.jwplayerCarousel.intersectionObserver.offset," 0px"),threshold:[0]},a=new IntersectionObserver((function(e,r){var n=e[0];if(n.isIntersecting){var i=n.target;a.unobserve(i),t()}}),n);a.observe(e)}(e,o,s):o():setTimeout(o,2e3)},C=function e(){E.a.measure((function(){Object(n.b)(n.a.desktopPlayers.JWPLAYER_CAROUSEL_DESKTOP)&&w&&(void 0!==window.FUTR&&void 0!==window.FUTR.Kiosq&&void 0!==window.FUTR.Kiosq.hasBarrier&&window.FUTR.Kiosq.hasBarrier&&(window.FUTR.Kiosq.servicesCallback=window.FUTR.Kiosq.servicesCallback||[],void 0!==window.FUTR.Kiosq.servicesCallback)?window.FUTR.Kiosq.servicesCallback.push(e):(Object(f.a)(),function(){var e=document.querySelector(".van_vid_carousel__container");if(e){var t=Object(c.a)("div",["future__jwplayer--carousel"]);e.appendChild(t);var r,n,a=window.FEP;Object(O.b)()&&(w=Object(O.a)(w)),Promise.all([m(w,a),(r=w,n=t,new Promise((function(e){var t=document.createElement("script");t.setAttribute("src","https://content.jwplatform.com/libraries/".concat(r.playerID,".js")),t.setAttribute("async",""),t.onload=function(){return e(window.jwplayer)};var a=n.parentElement;null!==a&&E.a.mutate((function(){a.insertBefore(t,n)}))})))]).then((function(e){var r=e[0],n=e[1];if(r&&r.playlist){var a=!w.useSearchPlaylist||!1;y(t,a),j(t,w,r,a,n)}})).catch((function(e){return console.log("Failed to get request jwplayer assets. ".concat(e))}))}}()))}))},L=function(){Object(l.a)()||C()};"complete"===document.readyState||"interactive"===document.readyState?L():document.addEventListener("DOMContentLoaded",L)},"./src/progressive/ts/video/jwplayer/carousel/livestream.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return l}));var n,a=r("./src/progressive/ts/video/jwplayer/carousel/desktop-responsive.ts"),i=function(){var e=new Date("June 16, 2021 00:00:00 GMT"),t=new Date<e;return["gamesradar","pcgamer"].includes(window.ffte.site)&&t},o=function(e){e.useSearchPlaylist=!1,e.fallbackPlaylistID="87B9MsPY?recommendations_playlist_id=X7f11WNk",e.channelID="DG99N48a";var t=window.ffte.site;return"gamesradar"===t&&(e.fallbackDivID="botr_87B9MsPY_jiAmRguh_div",e.playerID="jiAmRguh"),"pcgamer"===t&&(e.fallbackDivID="botr_87B9MsPY_3EvKJhqC_div",e.playerID="3EvKJhqC"),e},s=!1,c=function(e,t,r){if(!s){e.on("error",(function(n){230001===n.code&&function(e,t,r){Object(a.fetchFallbackPlaylist)(t.fallbackPlaylistID).then((function(t){t&&t.playlist&&(e.load(t.playlist),e.play(),setTimeout(r,4e4))})).catch((function(e){return console.log("Failed to get JWPlayer playlist",e)}))}(e,t,r)})),s=!0}},l=function e(t,r){var i=r.channelID,o=function(){return e(t,r)};n||(n=window.setInterval(o,3e4)),fetch("https://cdn.jwplayer.com/live/channels/".concat(i,".json")).then((function(e){return e.json()})).then((function(e){if("active"===e.status){window.clearInterval(n),n=0;var i=e.current_event;i!==t.getPlaylistItem().mediaid&&Object(a.fetchFallbackPlaylist)(i).then((function(e){t.load(e.playlist),t.play(),c(t,r,o)})).catch((function(e){return console.log("Failed to fetch JWPlayer live media",e)}))}})).catch((function(e){return console.log("Failed to fetch JWPlayer live channel",e)}))}}}]);
//# sourceMappingURL=jwplayer-carousel-desktop-responsive.6cd04fd9ec7628816cac.chunk.js.map