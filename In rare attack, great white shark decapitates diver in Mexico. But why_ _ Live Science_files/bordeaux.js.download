/*! For license information please see bordeaux.js.LICENSE.txt */
(()=>{var e,t,n={766:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Collector=void 0;var r=n(718);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=void 0,(t="data")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this.data=n,this.data=[]}var t,n;return t=e,(n=[{key:"get",value:function(e){return(0,r.findExistingMetric)(e,this.data)}},{key:"set",value:function(e,t){var n=(0,r.findExistingMetric)(t,this.data);return n?n.value=e:this.data.push({labels:t,value:e}),this}},{key:"collect",value:function(e){return null==e?this.data:this.data.filter((function(t){return(0,r.shallowObjectEqual)(e,t.labels||{})}))}},{key:"resetAll",value:function(){var e=this;return this.data.forEach((function(t){e.reset(t.labels)})),this}}])&&o(t.prototype,n),e}();t.Collector=i},641:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Counter=void 0;var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(d,e);var t,n,r,u,l=(r=d,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(r);if(u){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function d(){return o(this,d),l.apply(this,arguments)}return t=d,(n=[{key:"inc",value:function(e){return this.add(1,e),this}},{key:"add",value:function(e,t){if(e<0)throw new Error("Expected increment amount to be greater than -1. Received: ".concat(e));var n=this.get(t);return this.set(n?n.value+e:e,t),this}},{key:"reset",value:function(e){this.set(0,e)}}])&&i(t.prototype,n),d}(n(766).Collector);t.Counter=u},300:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Gauge=void 0;var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(d,e);var t,n,r,u,l=(r=d,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(r);if(u){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function d(){return o(this,d),l.apply(this,arguments)}return t=d,(n=[{key:"dec",value:function(e){var t=this.get(e);return this.set(t?t.value-1:0,e),this}},{key:"sub",value:function(e,t){var n=this.get(t);return this.set(n?n.value-e:0,t),this}}])&&i(t.prototype,n),d}(n(641).Counter);t.Gauge=u},161:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return{entries:e.reduce((function(e,t){return e[t.toString()]=0,e}),{"+Inf":0}),sum:0,count:0,raw:[]}}Object.defineProperty(t,"__esModule",{value:!0}),t.Histogram=void 0;var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(h,e);var t,n,r,p,f=(r=h,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(r);if(p){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function h(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o(this,h),l(c(e=f.call(this)),"buckets",void 0),e.buckets=t.sort((function(e,t){return e>t?1:-1})),e.set(d(e.buckets)),e.observe=e.observe.bind(c(e)),e}return t=h,(n=[{key:"observe",value:function(e,t){var n=this.get(t);null==n&&(n=this.set(d(this.buckets),t).get(t)),n.value.raw.push(e),n.value.entries["+Inf"]+=1;var r=function(e,t){if(t<e[e.length-1])for(var n=0;n<e.length;n+=1)if(t<=e[n])return n}(this.buckets,e);if(null!=r)for(var o=r;o<this.buckets.length;o+=1){var i=n.value.entries[this.buckets[o].toString()];n.value.entries[this.buckets[o].toString()]=i+1}return n.value.sum=n.value.raw.reduce((function(e,t){return e+t})),n.value.count+=1,this}},{key:"reset",value:function(e){this.set(d(this.buckets),e)}}])&&i(t.prototype,n),h}(n(766).Collector);t.Histogram=p},63:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};t.default=void 0;var o=n(512),i=n(894);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))})),t.default=function(){return new o.Registry}},512:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Registry=void 0;var r=n(641),o=n(300),i=n(161),a=n(718);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=void 0,(t="data")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this.data=n,this.data={counter:{},gauge:{},histogram:{}}}var t,n;return t=e,n=[{key:"validateInput",value:function(e,t,n,r){if(""===String(t))throw new Error("Metric name cannot be empty");if(-1===["counter","gauge","histogram"].indexOf(e))throw new Error("Unknown metric type ".concat(e));if("string"!=typeof n&&null!=n)throw new Error("help must be string or undefined/null");if(e in this.data&&t in this.data[e])throw new Error("A metric with the name '".concat(t,"' already exists for type '").concat(e,"'"));if(!Array.isArray(r)&&null!=r)throw new Error("buckets must be array or undefined/null")}},{key:"create",value:function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return this.validateInput(e,t,a,s),"counter"===e?(n=new r.Counter,this.data.counter[t]={help:a,instance:n,type:e}):"gauge"===e?(n=new o.Gauge,this.data.gauge[t]={help:a,instance:n,type:e}):(n=new i.Histogram(s),this.data.histogram[t]={help:a,instance:n,type:e}),n}},{key:"metrics",value:function(){return Object.values(this.data).reduce((function(e,t){return e+Object.entries(t).reduce((function(e,t){var n=t[0],r=t[1];return r.help.length>0&&(e+="# HELP ".concat(n," ").concat(r.help,"\n")),(e+="# TYPE ".concat(n," ").concat(r.type,"\n"))+Object.values(r.instance.data).reduce((function(e,t){return e+("histogram"===r.type?(0,a.formatHistogramOrSummary)(n,t):(0,a.formatCounterOrGauge)(n,t))}),"")}),"")}),"")}},{key:"reset",value:function(){return Object.values(this.data).forEach((function(e){Object.values(e).forEach((function(e){e.instance.resetAll()}))})),this}},{key:"clear",value:function(){return this.data={counter:{},gauge:{},histogram:{}},this}},{key:"get",value:function(e,t){var n=(null!=e?[this.data[e]]:Object.values(this.data)).find((function(e){return t in e}));return null!=n?n[t].instance:void 0}}],n&&s(t.prototype,n),e}();t.Registry=c},894:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},718:(e,t)=>{"use strict";function n(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0,i=n;o<i.length;o++){var a=i[o];if(!(a in t))return!1;if(e[a]!==t[a])return!1}return!0}function r(e){if(void 0===e.labels)return"";var t=Object.entries(e.labels).map((function(e){return"".concat(e[0],'="').concat(e[1],'"')}));return 0===t.length?"":"".concat(t.join(","))}Object.defineProperty(t,"__esModule",{value:!0}),t.shallowObjectEqual=n,t.formatHistogramOrSummary=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"le",o="",i=r(t);return i.length>0?(o+="".concat(e,"_count{").concat(i,"} ").concat(t.value.count,"\n"),o+="".concat(e,"_sum{").concat(i,"} ").concat(t.value.sum,"\n")):(o+="".concat(e,"_count ").concat(t.value.count,"\n"),o+="".concat(e,"_sum ").concat(t.value.sum,"\n")),Object.entries(t.value.entries).reduce((function(t,r){return i.length>0?t+="".concat(e,"_bucket{").concat(n,'="').concat(r[0],'",').concat(i,"} ").concat(r[1],"\n"):t+="".concat(e,"_bucket{").concat(n,'="').concat(r[0],'"} ').concat(r[1],"\n"),t}),o)},t.findExistingMetric=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e?t.find((function(t){return void 0!==t.labels&&n(t.labels,e)})):t[0]},t.formatCounterOrGauge=function(e,t){var n=" ".concat(t.value.toString());if(null==t.labels||0===Object.keys(t.labels).length)return"".concat(e).concat(n,"\n");var r=Object.entries(t.labels).map((function(e){return"".concat(e[0],'="').concat(e[1],'"')}));return"".concat(e,"{").concat(r.join(","),"}").concat(n,"\n")}},344:()=>{!function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(r){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})}(document)},701:function(e,t,n){"use strict";var r=n(155),o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeVersion=t.detectOS=t.parseUserAgent=t.browserName=t.detect=t.ReactNativeInfo=t.BotInfo=t.SearchBotDeviceInfo=t.NodeInfo=t.BrowserInfo=void 0;var i=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"};t.BrowserInfo=i;var a=function(e){this.version=e,this.type="node",this.name="node",this.os=r.platform};t.NodeInfo=a;var s=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"};t.SearchBotDeviceInfo=s;var c=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null};t.BotInfo=c;var u=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null};t.ReactNativeInfo=u;var l=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,d=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],p=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(e){return""!==e&&d.reduce((function(t,n){var r=n[0],o=n[1];if(t)return t;var i=o.exec(e);return!!i&&[r,i]}),!1)}function h(e){var t=f(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new c;var a=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);a?a.length<3&&(a=o(o([],a,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-a.length),!0)):a=[];var u=a.join("."),d=m(e),p=l.exec(e);return p&&p[1]?new s(n,u,d,p[1]):new i(n,u,d)}function m(e){for(var t=0,n=p.length;t<n;t++){var r=p[t],o=r[0];if(r[1].exec(e))return o}return null}function g(){return void 0!==r&&r.version?new a(r.version.slice(1)):null}t.detect=function(e){return e?h(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new u:"undefined"!=typeof navigator?h(navigator.userAgent):g()},t.browserName=function(e){var t=f(e);return t?t[0]:null},t.parseUserAgent=h,t.detectOS=m,t.getNodeVersion=g},180:function(e,t,n){var r,o,i;!function(a,s){"use strict";o=[n(829)],void 0===(i="function"==typeof(r=function(e){var t=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(n)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),o=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),i=this.extractLocation(r?r[1]:o.pop()),a=o.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0];return new e({functionName:a,fileName:s,lineNumber:i[1],columnNumber:i[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(r)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(n),o=r&&r[1]?r[1]:void 0,i=this.extractLocation(t.replace(n,""));return new e({functionName:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),o=[],i=2,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e({fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),o=[],i=0,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera11:function(n){return n.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var n,r=t.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;i.match(/\(([^)]*)\)/)&&(n=i.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:a,args:s,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)}}})?r.apply(t,o):r)||(e.exports=i)}()},409:(e,t,n)=>{var r;!function(){var t={initialize:function(){this._tasks=new Map},mutate:function(e,t){return o(this,"mutate",e,t)},measure:function(e,t){return o(this,"measure",e,t)},clear:function(e){var t=this._tasks,n=t.get(e);this.fastdom.clear(n),t.delete(e)}};function o(e,t,n,r){var o,i=e._tasks,a=e.fastdom,s=new Promise((function(e,c){o=a[t]((function(){i.delete(s);try{e(r?n.call(r):n())}catch(e){c(e)}}),r)}));return i.set(s,o),s}"f"=="function"[0]?void 0===(r=function(){return t}.call(t,n,t,e))||(e.exports=r):"o"=="object"[0]?e.exports=t:window.fastdomPromised=t}()},149:function(e,t,n){var r;!function(t){"use strict";var o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function i(){var e=this;e.reads=[],e.writes=[],e.raf=o.bind(t)}function a(e){e.scheduled||(e.scheduled=!0,e.raf(s.bind(null,e)))}function s(e){var t,n=e.writes,r=e.reads;try{r.length,e.runTasks(r),n.length,e.runTasks(n)}catch(e){t=e}if(e.scheduled=!1,(r.length||n.length)&&a(e),t){if(t.message,!e.catch)throw t;e.catch(t)}}function c(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}i.prototype={constructor:i,runTasks:function(e){for(var t;t=e.shift();)t()},measure:function(e,t){var n=t?e.bind(t):e;return this.reads.push(n),a(this),n},mutate:function(e,t){var n=t?e.bind(t):e;return this.writes.push(n),a(this),n},clear:function(e){return c(this.reads,e)||c(this.writes,e)},extend:function(e){if("object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var u=t.fastdom=t.fastdom||new i;void 0===(r=function(){return u}.call(u,n,u,e))||(e.exports=r)}("undefined"!=typeof window?window:this)},897:(e,t,n)=>{"use strict";const r=n(124);e.exports=(e,t)=>{const n=r((()=>[]),new WeakMap),o=new e((e=>{e.forEach((e=>{n.get(e.target).forEach((t=>t(e)))}))}),t);return function(e,t,r){"function"==typeof t&&(r=t,t=void 0);const i=n.get(e);return i.push(r),o.observe(e,t),function(){const t=i.indexOf(r);if(i.splice(t,1),0===i.length)return n.delete(e),o.unobserve&&o.unobserve(e)}}}},337:()=>{!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var t=window.document,n=o(t);n;)n=o(t=n.ownerDocument);return t}(),t=[],n=null,r=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(e,n){r=e&&n?d(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,r=null},a.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},a.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,i=null,a=null;if(this.POLL_INTERVAL?i=n.setInterval(r,this.POLL_INTERVAL):(s(n,"resize",r,!0),s(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(r)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(i&&e.clearInterval(i),c(e,"resize",r,!0)),c(t,"scroll",r,!0),a&&a.disconnect()})),t!=(this.root&&this.root.ownerDocument||e)){var u=o(t);u&&this._monitorIntersections(u.ownerDocument)}}},a.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&this.root.ownerDocument||e,i=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=r;){var i=o(n);if((n=i&&i.ownerDocument)==t)return!0}return!1}));if(!i){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),t!=r){var s=o(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},a.prototype._checkForIntersections=function(){if(this.root||!n||r){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var o=r.element,a=u(o),s=this._rootContainsTarget(o),c=r.entry,l=e&&s&&this._computeTargetAndRootIntersection(o,a,t),d=r.entry=new i({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:a,rootBounds:n&&!this.root?null:t,intersectionRect:l});c?e&&s?this._hasCrossedThreshold(c,d)&&this._queuedEntries.push(d):c&&c.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(t,o,i){if("none"!=window.getComputedStyle(t).display){for(var a,s,c,l,p,h,m,g,y=o,v=f(t),b=!1;!b&&v;){var w=null,_=1==v.nodeType?window.getComputedStyle(v):{};if("none"==_.display)return null;if(v==this.root||9==v.nodeType)if(b=!0,v==this.root||v==e)n&&!this.root?!r||0==r.width&&0==r.height?(v=null,w=null,y=null):w=r:w=i;else{var S=f(v),E=S&&u(S),x=S&&this._computeTargetAndRootIntersection(S,E,i);E&&x?(v=S,w=d(E,x)):(v=null,y=null)}else{var k=v.ownerDocument;v!=k.body&&v!=k.documentElement&&"visible"!=_.overflow&&(w=u(v))}if(w&&(a=w,s=y,void 0,void 0,void 0,void 0,void 0,void 0,c=Math.max(a.top,s.top),l=Math.min(a.bottom,s.bottom),p=Math.max(a.left,s.left),g=l-c,y=(m=(h=Math.min(a.right,s.right))-p)>=0&&g>=0&&{top:c,bottom:l,left:p,right:h,width:m,height:g}||null),!y)break;v=v&&f(v)}return y}},a.prototype._getRootRect=function(){var t;if(this.root)t=u(this.root);else{var n=e.documentElement,r=e.body;t={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==n||i==r||i<n!=i<r)return!0}},a.prototype._rootIsInDom=function(){return!this.root||p(e,this.root)},a.prototype._rootContainsTarget=function(t){return p(this.root||e,t)&&(!this.root||this.root.ownerDocument==t.ownerDocument)},a.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},a.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=i}function o(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function i(e){this.time=e.time,this.target=e.target,this.rootBounds=l(e.rootBounds),this.boundingClientRect=l(e.boundingClientRect),this.intersectionRect=l(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function a(e,t){var n,r,o,i=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){n(),o=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function c(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function u(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function d(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function p(e,t){for(var n=t;n;){if(n==e)return!0;n=f(n)}return!1}function f(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?o(t):n&&11==n.nodeType&&n.host?n.host:n&&n.assignedSlot?n.assignedSlot.parentNode:n}}()},444:e=>{"use strict";e.exports=e=>{if("string"!=typeof e)throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return!/^[a-zA-Z]:\\/.test(e)&&/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e)}},124:e=>{"use strict";e.exports=function(e,t=new Map){return{has:e=>t.has(e),get:n=>(t.has(n)||t.set(n,e(n)),t.get(n)),delete:e=>t.delete(e),set:(e,n)=>{t.set(e,n)},getUnderlyingDataStructure:()=>t}}},237:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=this.event&&this.event.type,r="unload"===n||"beforeunload"===n,o="XMLHttpRequest"in this?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");o.open("POST",e,!r),o.withCredentials=!0,o.setRequestHeader("Accept","*/*"),"string"==typeof t?(o.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),o.responseType="text"):t instanceof Blob&&t.type&&o.setRequestHeader("Content-Type",t.type);try{o.send(t)}catch(e){return!1}return!0}(function(){"navigator"in this||(this.navigator={}),"function"!=typeof this.navigator.sendBeacon&&(this.navigator.sendBeacon=t.bind(this))}).call("object"===("undefined"==typeof window?"undefined":e(window))?window:{})},155:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,c=[],u=!1,l=-1;function d(){u&&s&&(u=!1,s.length?c=s.concat(c):l=-1,c.length&&p())}function p(){if(!u){var e=a(d);u=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},829:function(e,t){var n,r,o;!function(i,a){"use strict";r=[],void 0===(o="function"==typeof(n=function(){function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(e){return function(){return this[e]}}var n=["isConstructor","isEval","isNative","isToplevel"],r=["columnNumber","lineNumber"],o=["fileName","functionName","source"],i=n.concat(r,o,["args"],["evalOrigin"]);function a(t){if(t)for(var n=0;n<i.length;n++)void 0!==t[i[n]]&&this["set"+e(i[n])](t[i[n]])}a.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof a)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new a(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:r?r+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},a.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),r=e.substring(0,t),o=e.substring(t+1,n).split(","),i=e.substring(n+1);if(0===i.indexOf("@"))var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i,""),c=s[1],u=s[2],l=s[3];return new a({functionName:r,args:o||void 0,fileName:c,lineNumber:u||void 0,columnNumber:l||void 0})};for(var s=0;s<n.length;s++)a.prototype["get"+e(n[s])]=t(n[s]),a.prototype["set"+e(n[s])]=function(e){return function(t){this[e]=Boolean(t)}}(n[s]);for(var c=0;c<r.length;c++)a.prototype["get"+e(r[c])]=t(r[c]),a.prototype["set"+e(r[c])]=function(e){return function(t){if(n=t,isNaN(parseFloat(n))||!isFinite(n))throw new TypeError(e+" must be a Number");var n;this[e]=Number(t)}}(r[c]);for(var u=0;u<o.length;u++)a.prototype["get"+e(o[u])]=t(o[u]),a.prototype["set"+e(o[u])]=function(e){return function(t){this[e]=String(t)}}(o[u]);return a})?n.apply(t,r):n)||(e.exports=o)}()},944:()=>{"use strict";Object.fromEntries||(Object.fromEntries=e=>e.reduce(((e,[t,n])=>(e[t]=n,e)),{}))}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e].call(i.exports,i,i.exports,o),i.exports}o.m=n,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>"[request].97fa6f1a01a3ed09615a.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="bordeaux:",o.l=(n,r,i,a)=>{if(e[n])e[n].push(r);else{var s,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[r];var p=(t,r)=>{s.onerror=s.onload=null,clearTimeout(f);var o=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(r))),t)return t(r)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={769:0};o.f.j=(t,n)=>{var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=i);var a=o.p+o.u(t),s=new Error;o.l(a,(n=>{if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[a,s,c]=n,u=0;if(a.some((t=>0!==e[t]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);c&&c(o)}for(t&&t(n);u<a.length;u++)i=a[u],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkbordeaux=self.webpackChunkbordeaux||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e,t,n,r,i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function u(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}(r=e||(e={})).Start="xstate.start",r.Stop="xstate.stop",r.Raise="xstate.raise",r.Send="xstate.send",r.Cancel="xstate.cancel",r.NullEvent="",r.Assign="xstate.assign",r.After="xstate.after",r.DoneState="done.state",r.DoneInvoke="done.invoke",r.Log="xstate.log",r.Init="xstate.init",r.Invoke="xstate.invoke",r.ErrorExecution="error.execution",r.ErrorCommunication="error.communication",r.ErrorPlatform="error.platform",r.ErrorCustom="xstate.error",r.Update="xstate.update",r.Pure="xstate.pure",r.Choose="xstate.choose",(n=t||(t={})).Parent="#_parent",n.Internal="#_internal";var l,d={},p="xstate.guard";function f(e,t,n){void 0===n&&(n=".");var r=g(e,n),o=g(t,n);return j(o)?!!j(r)&&o===r:j(r)?r in o:Object.keys(r).every((function(e){return e in o&&f(r[e],o[e])}))}function h(e){try{return j(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function m(e,t){try{return A(e)?e:e.toString().split(t)}catch(t){throw new Error("'".concat(e,"' is not a valid state path."))}}function g(e,t){return function(e){return"object"==typeof e&&"value"in e&&"context"in e&&"event"in e&&"_event"in e}(e)?e.value:A(e)?y(e):"string"!=typeof e?e:y(m(e,t))}function y(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function v(e,t){for(var n={},r=Object.keys(e),o=0;o<r.length;o++){var i=r[o];n[i]=t(e[i],i,e,o)}return n}function b(e,t,n){var r,o,i={};try{for(var a=s(Object.keys(e)),c=a.next();!c.done;c=a.next()){var u=c.value,l=e[u];n(l)&&(i[u]=t(l,u,e))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i}var w=function(e){return function(t){var n,r,o=t;try{for(var i=s(e),a=i.next();!a.done;a=i.next())o=o[a.value]}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o}};function _(e){return e?j(e)?[[e]]:S(Object.keys(e).map((function(t){var n=e[t];return"string"==typeof n||n&&Object.keys(n).length?_(e[t]).map((function(e){return[t].concat(e)})):[[t]]}))):[[]]}function S(e){var t;return(t=[]).concat.apply(t,u([],c(e),!1))}function E(e){return A(e)?e:[e]}function x(e){return void 0===e?[]:E(e)}function k(e,t,n){var r,o;if(I(e))return e(t,n.data);var i={};try{for(var a=s(Object.keys(e)),c=a.next();!c.done;c=a.next()){var u=c.value,l=e[u];I(l)?i[u]=l(t,n.data):i[u]=l}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i}function P(e){return e instanceof Promise||!(null===e||!I(e)&&"object"!=typeof e||!I(e.then))}function T(e,t){return v(e.states,(function(e,n){if(e){var r=(j(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:T(e,r)}}}))}function O(e,t,n,r){var o=e?n.reduce((function(e,n){var o,i,a=n.assignment,c={state:r,action:n,_event:t},u={};if(I(a))u=a(e,t.data,c);else try{for(var l=s(Object.keys(a)),d=l.next();!d.done;d=l.next()){var p=d.value,f=a[p];u[p]=I(f)?f(e,t.data,c):f}}catch(e){o={error:e}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}return Object.assign({},e,u)}),e):e;return o}function A(e){return Array.isArray(e)}function I(e){return"function"==typeof e}function j(e){return"string"==typeof e}function N(e,t){if(e)return j(e)?{type:p,name:e,predicate:t?t[e]:void 0}:I(e)?{type:p,name:e.name,predicate:e}:e}var C=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function R(e){return!!e&&"__xstatenode"in e}function D(e,t){return j(e)||"number"==typeof e?i({type:e},t):e}function L(e,t){if(!j(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=D(e);return i({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function M(e,t){return E(t).map((function(t){return void 0===t||"string"==typeof t||R(t)?{target:t,event:e}:i(i({},t),{event:e})}))}function U(e,t,n,r,o){var i=e.options.guards,a={state:o,cond:t,_event:r};if(t.type===p)return((null==i?void 0:i[t.name])||t.predicate)(n,r.data,a);var s=null==i?void 0:i[t.type];if(!s)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return s(n,r.data,a)}function $(e){return"string"==typeof e?{type:e}:e}function z(e,t,n){var r=function(){},o="object"==typeof e,i=o?e:null;return{next:((o?e.next:e)||r).bind(i),error:((o?e.error:t)||r).bind(i),complete:((o?e.complete:n)||r).bind(i)}}function B(e,t){return"".concat(e,":invocation[").concat(t,"]")}(l={})[C]=function(){return this},l[Symbol.observable]=function(){return this};var V=function(e){return"atomic"===e.type||"final"===e.type};function q(e){return Object.keys(e.states).map((function(t){return e.states[t]}))}function F(e){return q(e).filter((function(e){return"history"!==e.type}))}function Z(e){var t=[e];return V(e)?t:t.concat(S(F(e).map(Z)))}function H(e,t){var n,r,o,i,a,c,u,l,d=W(new Set(e)),p=new Set(t);try{for(var f=s(p),h=f.next();!h.done;h=f.next())for(var m=(x=h.value).parent;m&&!p.has(m);)p.add(m),m=m.parent}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}var g=W(p);try{for(var y=s(p),v=y.next();!v.done;v=y.next())if("compound"!==(x=v.value).type||g.get(x)&&g.get(x).length){if("parallel"===x.type)try{for(var b=(a=void 0,s(F(x))),w=b.next();!w.done;w=b.next()){var _=w.value;p.has(_)||(p.add(_),d.get(_)?d.get(_).forEach((function(e){return p.add(e)})):_.initialStateNodes.forEach((function(e){return p.add(e)})))}}catch(e){a={error:e}}finally{try{w&&!w.done&&(c=b.return)&&c.call(b)}finally{if(a)throw a.error}}}else d.get(x)?d.get(x).forEach((function(e){return p.add(e)})):x.initialStateNodes.forEach((function(e){return p.add(e)}))}catch(e){o={error:e}}finally{try{v&&!v.done&&(i=y.return)&&i.call(y)}finally{if(o)throw o.error}}try{for(var S=s(p),E=S.next();!E.done;E=S.next()){var x;for(m=(x=E.value).parent;m&&!p.has(m);)p.add(m),m=m.parent}}catch(e){u={error:e}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(u)throw u.error}}return p}function G(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var r=n[0];if(!r)return{};if(V(r))return r.key}var o={};return n.forEach((function(e){o[e.key]=G(e,t)})),o}function W(e){var t,n,r=new Map;try{for(var o=s(e),i=o.next();!i.done;i=o.next()){var a=i.value;r.has(a)||r.set(a,[]),a.parent&&(r.has(a.parent)||r.set(a.parent,[]),r.get(a.parent).push(a))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}function J(e,t){return G(e,W(H([e],t)))}function Q(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}function K(e,t){return"compound"===t.type?F(t).some((function(t){return"final"===t.type&&Q(e,t)})):"parallel"===t.type&&F(t).every((function(t){return K(e,t)}))}function Y(e){return new Set(S(e.map((function(e){return e.tags}))))}var X=e.Start,ee=e.Stop,te=e.Raise,ne=e.Send,re=e.Cancel,oe=e.NullEvent,ie=e.Assign,ae=(e.After,e.DoneState,e.Log),se=e.Init,ce=e.Invoke,ue=(e.ErrorExecution,e.ErrorPlatform),le=e.ErrorCustom,de=e.Update,pe=e.Choose,fe=e.Pure,he=L({type:se});function me(e,t){return t&&t[e]||void 0}function ge(e,t){var n;if(j(e)||"number"==typeof e)n=I(r=me(e,t))?{type:e,exec:r}:r||{type:e,exec:void 0};else if(I(e))n={type:e.name||e.toString(),exec:e};else{var r;if(I(r=me(e.type,t)))n=i(i({},e),{exec:r});else if(r){var o=r.type||e.type;n=i(i(i({},r),e),{type:o})}else n=e}return n}var ye=function(e,t){return e?(A(e)?e:[e]).map((function(e){return ge(e,t)})):[]};function ve(e){var t=ge(e);return i(i({id:j(e)?e:t.id},t),{type:t.type})}function be(e){return j(e)?{type:te,event:e}:we(e,{to:t.Internal})}function we(e,t){return{to:t?t.to:void 0,type:ne,event:I(e)?e:D(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:I(e)?e.name:h(e)}}function _e(t,n){var r="".concat(e.DoneState,".").concat(t);return{type:r,data:n,toString:function(){return r}}}function Se(t,n){var r="".concat(e.DoneInvoke,".").concat(t);return{type:r,data:n,toString:function(){return r}}}function Ee(t,n){var r="".concat(e.ErrorPlatform,".").concat(t);return{type:r,data:n,toString:function(){return r}}}function xe(n,r,o,a,l,d,p){void 0===p&&(p=!1);var f=p?[]:function(e){var t,n,r=[];try{for(var o=s(e),i=o.next();!i.done;i=o.next())for(var a=i.value,c=0;c<a.length;)a[c].type!==ie?c++:(r.push(a[c]),a.splice(c,1))}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(l),h=f.length?O(o,a,f,r):o,m=p?[o]:void 0,g=[];function y(s){var l;switch(s.type){case te:return{type:te,_event:L(s.event)};case ne:var f=function(e,t,n,r){var o,a={_event:n},s=L(I(e.event)?e.event(t,n.data,a):e.event);if(j(e.delay)){var c=r&&r[e.delay];o=I(c)?c(t,n.data,a):c}else o=I(e.delay)?e.delay(t,n.data,a):e.delay;var u=I(e.to)?e.to(t,n.data,a):e.to;return i(i({},e),{to:u,_event:s,event:s.data,delay:o})}(s,h,a,n.options.delays);return d&&f.to!==t.Internal&&g.push(f),f;case ae:var y=function(e,t,n){return i(i({},e),{value:j(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})}(s,h,a);return null==d||d(y,h,a),y;case pe:if(!(_=null===(l=s.conds.find((function(e){var t=N(e.cond,n.options.guards);return!t||U(n,t,h,a,d?void 0:r)})))||void 0===l?void 0:l.actions))return[];var v=c(xe(n,r,h,a,[ye(x(_),n.options.actions)],d,p),2),b=v[0],w=v[1];return h=w,null==m||m.push(h),b;case fe:var _;if(!(_=s.get(h,a.data)))return[];var S=c(xe(n,r,h,a,[ye(x(_),n.options.actions)],d,p),2),E=S[0],k=S[1];return h=k,null==m||m.push(h),E;case ee:return y=function(t,n,r){var o=I(t.activity)?t.activity(n,r.data):t.activity,i="string"==typeof o?{id:o}:o;return{type:e.Stop,activity:i}}(s,h,a),null==d||d(y,o,a),y;case ie:h=O(h,a,[s],d?void 0:r),null==m||m.push(h);break;default:var P=ge(s,n.options.actions),T=P.exec;if(d)d(P,h,a);else if(T&&m){var A=m.length-1;P=i(i({},P),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];T.apply(void 0,u([m[A]],c(t),!1))}})}return P}}var v=S(l.map((function(e){var t,n,r=[];try{for(var o=s(e),i=o.next();!i.done;i=o.next()){var c=y(i.value);c&&(r=r.concat(c))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return g.forEach((function(e){d(e,h,a)})),g.length=0,r})));return[v,h]}function ke(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(j(e)||j(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return ke(e[n],t[n])}))}var Pe=function(){function e(e){var t,n,r=this;this.actions=[],this.activities=d,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||d,this.meta=(void 0===(n=e.configuration)&&(n=[]),n.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return function(e){return u([],c(new Set(S(u([],c(e.map((function(e){return e.ownEvents}))),!1)))),!1)}(r.configuration)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:he,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=he;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),j(e))return[e];var r=Object.keys(e);return r.concat.apply(r,u([],c(r.map((function(r){return n.toStrings(e[r],t).map((function(e){return r+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var n=a(e,["configuration","transitions","tags","machine"]);return i(i({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return f(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;this.machine;var n=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==n?void 0:n.transitions.length)&&n.transitions.some((function(e){return void 0!==e.target||e.actions.length}))},e}(),Te={deferEvents:!1},Oe=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=i(i({},Te),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}(),Ae=[],Ie=function(e,t){Ae.push(e);var n=t(e);return Ae.pop(),n};function je(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[C]=function(){return this},t}function Ne(e,t,n){var r=je(t);if(r.deferred=!0,R(e)){var o=r.state=Ie(void 0,(function(){return(n?e.withContext(n):e).initialState}));r.getSnapshot=function(){return o}}return r}var Ce=new Map,Re=0;function De(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o.g?o.g:void 0}var Le,Me={sync:!1,autoForward:!1};!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(Le||(Le={}));var Ue=function(){function n(r,o){void 0===o&&(o=n.defaultOptions);var a=this;this.machine=r,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=Le.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if(A(e))return a.batch(e),a.state;var n=L(D(e,t));if(a.status===Le.Stopped)return a.state;if(a.status!==Le.Running&&!a.options.deferEvents)throw new Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(a.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return a.scheduler.schedule((function(){a.forward(n);var e=a._nextState(n);a.update(e,n)})),a._state},this.sendTo=function(e,n,r){var o,s=a.parent&&(n===t.Parent||a.parent.id===n),c=s?a.parent:j(n)?a.children.get(n)||function(e){return Ce.get(e)}(n):(o=n)&&"function"==typeof o.send?n:void 0;if(c)if("machine"in c){if(a.status!==Le.Stopped||a.parent!==c||a.state.done){var u=i(i({},e),{name:e.name===le?"".concat(Ee(a.id)):e.name,origin:a.sessionId});!r&&a.machine.config.predictableActionArguments?a._outgoingQueue.push([c,u]):c.send(u)}}else!r&&a.machine.config.predictableActionArguments?a._outgoingQueue.push([c,e.data]):c.send(e.data);else if(!s)throw new Error("Unable to send event to child '".concat(n,"' from service '").concat(a.id,"'."))},this._exec=function(t,n,r,o){void 0===o&&(o=a.machine.options.actions);var i=t.exec||me(t.type,o),s=I(i)?i:i?i.exec:t.exec;if(s)try{return s(n,r.data,a.machine.config.predictableActionArguments?{action:t,_event:r}:{action:t,state:a.state,_event:r})}catch(e){throw a.parent&&a.parent.send({type:"xstate.error",data:e}),e}switch(t.type){case ne:var c=t;if("number"==typeof c.delay)return void a.defer(c);c.to?a.sendTo(c._event,c.to,r===he):a.send(c._event);break;case re:a.cancel(t.sendId);break;case X:if(a.status!==Le.Running)return;var u=t.activity;if(!a.machine.config.predictableActionArguments&&!a.state.activities[u.id||u.type])break;if(u.type===e.Invoke){var l=$(u.src),d=a.machine.options.services?a.machine.options.services[l.type]:void 0,p=u.id,f=u.data,h="autoForward"in u?u.autoForward:!!u.forward;if(!d)return;var m=f?k(f,n,r):void 0;if("string"==typeof d)return;var g=I(d)?d(n,r.data,{data:m,src:l,meta:u.meta}):d;if(!g)return;var y=void 0;R(g)&&(g=m?g.withContext(m):g,y={autoForward:h}),a.spawn(g,p,y)}else a.spawnActivity(u);break;case ee:a.stopChild(t.activity.id);break;case ae:var v=t.label,b=t.value;v?a.logger(v,b):a.logger(b)}};var s=i(i({},n.defaultOptions),o),c=s.clock,u=s.logger,l=s.parent,d=s.id,p=void 0!==d?d:r.id;this.id=p,this.logger=u,this.clock=c,this.parent=l,this.options=s,this.scheduler=new Oe({deferEvents:this.options.deferEvents}),this.sessionId="x:".concat(Re++)}return Object.defineProperty(n.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:Ie(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),n.prototype.execute=function(e,t){var n,r;try{for(var o=s(e.actions),i=o.next();!i.done;i=o.next()){var a=i.value;this.exec(a,e,t)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},n.prototype.update=function(e,t){var n,r,o,i,a,c,u,l,d=this;if(e._sessionid=this.sessionId,this._state=e,this.machine.config.predictableActionArguments&&t!==he||!this.options.execute)for(var p=void 0;p=this._outgoingQueue.shift();)p[0].send(p[1]);else this.execute(this.state);if(this.children.forEach((function(e){d.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var f=s(this.eventListeners),h=f.next();!h.done;h=f.next())(0,h.value)(e.event)}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}try{for(var m=s(this.listeners),g=m.next();!g.done;g=m.next())(0,g.value)(e,e.event)}catch(e){o={error:e}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}try{for(var y=s(this.contextListeners),v=y.next();!v.done;v=y.next())(0,v.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(e){a={error:e}}finally{try{v&&!v.done&&(c=y.return)&&c.call(y)}finally{if(a)throw a.error}}if(this.state.done){var b=e.configuration.find((function(e){return"final"===e.type&&e.parent===d.machine})),w=b&&b.doneData?k(b.doneData,e.context,t):void 0;try{for(var _=s(this.doneListeners),S=_.next();!S.done;S=_.next())(0,S.value)(Se(this.id,w))}catch(e){u={error:e}}finally{try{S&&!S.done&&(l=_.return)&&l.call(_)}finally{if(u)throw u.error}}this._stop(),this._stopChildren()}},n.prototype.onTransition=function(e){return this.listeners.add(e),this.status===Le.Running&&e(this.state,this.state.event),this},n.prototype.subscribe=function(e,t,n){var r=this,o=z(e,t,n);this.listeners.add(o.next),this.status!==Le.NotStarted&&o.next(this.state);var i=function(){r.doneListeners.delete(i),r.stopListeners.delete(i),o.complete()};return this.status===Le.Stopped?o.complete():(this.onDone(i),this.onStop(i)),{unsubscribe:function(){r.listeners.delete(o.next),r.doneListeners.delete(i),r.stopListeners.delete(i)}}},n.prototype.onEvent=function(e){return this.eventListeners.add(e),this},n.prototype.onSend=function(e){return this.sendListeners.add(e),this},n.prototype.onChange=function(e){return this.contextListeners.add(e),this},n.prototype.onStop=function(e){return this.stopListeners.add(e),this},n.prototype.onDone=function(e){return this.doneListeners.add(e),this},n.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},n.prototype.start=function(e){var t=this;if(this.status===Le.Running)return this;this.machine._init(),function(e,t){Ce.set(e,t)}(this.sessionId,this),this.initialized=!0,this.status=Le.Running;var n=void 0===e?this.initialState:Ie(this,(function(){return function(e){return"object"==typeof e&&null!==e&&"value"in e&&"_event"in e}(e)?t.machine.resolveState(e):t.machine.resolveState(Pe.from(e,t.machine.context))}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){t.update(n,he)})),this},n.prototype._stopChildren=function(){this.children.forEach((function(e){I(e.stop)&&e.stop()})),this.children.clear()},n.prototype._stop=function(){var e,t,n,r,o,i,a,c,u,l;try{for(var d=s(this.listeners),p=d.next();!p.done;p=d.next()){var f=p.value;this.listeners.delete(f)}}catch(t){e={error:t}}finally{try{p&&!p.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}try{for(var h=s(this.stopListeners),m=h.next();!m.done;m=h.next())(f=m.value)(),this.stopListeners.delete(f)}catch(e){n={error:e}}finally{try{m&&!m.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}try{for(var g=s(this.contextListeners),y=g.next();!y.done;y=g.next())f=y.value,this.contextListeners.delete(f)}catch(e){o={error:e}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}try{for(var v=s(this.doneListeners),b=v.next();!b.done;b=v.next())f=b.value,this.doneListeners.delete(f)}catch(e){a={error:e}}finally{try{b&&!b.done&&(c=v.return)&&c.call(v)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=Le.Stopped,this._initialState=void 0;try{for(var w=s(Object.keys(this.delayedEventsMap)),_=w.next();!_.done;_=w.next()){var S=_.value;this.clock.clearTimeout(this.delayedEventsMap[S])}}catch(e){u={error:e}}finally{try{_&&!_.done&&(l=w.return)&&l.call(w)}finally{if(u)throw u.error}}this.scheduler.clear(),this.scheduler=new Oe({deferEvents:this.options.deferEvents})},n.prototype.stop=function(){var e=this,n=this.scheduler;return this._stop(),n.schedule((function(){var n=L({type:"xstate.stop"}),r=Ie(e,(function(){var r=S(u([],c(e.state.configuration),!1).sort((function(e,t){return t.order-e.order})).map((function(t){return ye(t.onExit,e.machine.options.actions)}))),o=c(xe(e.machine,e.state,e.state.context,n,[r],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),i=o[0],a=o[1],s=new Pe({value:e.state.value,context:a,_event:n,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:i.filter((function(e){return e.type!==te&&(e.type!==ne||!!e.to&&e.to!==t.Internal)})),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return s.changed=!0,s}));e.update(r,n),e._stopChildren(),function(e){Ce.delete(e)}(e.sessionId)})),this},n.prototype.batch=function(e){var t=this;if(this.status===Le.NotStarted&&this.options.deferEvents);else if(this.status!==Le.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule((function(){var r,o,a=t.state,l=!1,d=[],p=function(e){var r=L(e);t.forward(r),a=Ie(t,(function(){return t.machine.transition(a,r,void 0,n||void 0)})),d.push.apply(d,u([],c(t.machine.config.predictableActionArguments?a.actions:a.actions.map((function(e){return function(e,t){var n=e.exec;return i(i({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})}(e,a)}))),!1)),l=l||!!a.changed};try{for(var f=s(e),h=f.next();!h.done;h=f.next())p(h.value)}catch(e){r={error:e}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}a.changed=l,a.actions=d,t.update(a,L(e[e.length-1]))}))}},n.prototype.sender=function(e){return this.send.bind(this,e)},n.prototype._nextState=function(e,t){var n=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var r=L(e);if(0===r.name.indexOf(ue)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(ue)})))throw r.data.data;return Ie(this,(function(){return n.machine.transition(n.state,r,void 0,t||void 0)}))},n.prototype.nextState=function(e){return this._nextState(e,!1)},n.prototype.forward=function(e){var t,n;try{for(var r=s(this.forwardTo),o=r.next();!o.done;o=r.next()){var i=o.value,a=this.children.get(i);if(!a)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(i,"'."));a.send(e)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},n.prototype.defer=function(e){var t=this;this.delayedEventsMap[e.id]=this.clock.setTimeout((function(){e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)}),e.delay)},n.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},n.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions),this._exec(e,t.context,t._event,n)},n.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},n.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),I(t.stop)&&t.stop())},n.prototype.spawn=function(e,t,n){if(this.status!==Le.Running)return Ne(e,t);if(P(e))return this.spawnPromise(Promise.resolve(e),t);if(I(e))return this.spawnCallback(e,t);if(function(e){try{return"function"==typeof e.send}catch(e){return!1}}(o=e)&&"id"in o)return this.spawnActor(e,t);if(function(e){try{return"subscribe"in e&&I(e.subscribe)}catch(e){return!1}}(e))return this.spawnObservable(e,t);if(R(e))return this.spawnMachine(e,i(i({},n),{id:t}));if(null!==(r=e)&&"object"==typeof r&&"transition"in r&&"function"==typeof r.transition)return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'));var r,o},n.prototype.spawnMachine=function(e,t){var r=this;void 0===t&&(t={});var o=new n(e,i(i({},this.options),{parent:this,id:t.id||e.id})),a=i(i({},Me),t);a.sync&&o.onTransition((function(e){r.send(de,{state:e,id:o.id})}));var s=o;return this.children.set(o.id,s),a.autoForward&&this.forwardTo.add(o.id),o.onDone((function(e){r.removeChild(o.id),r.send(L(e,{origin:o.id}))})).start(),s},n.prototype.spawnBehavior=function(e,t){var n=function(e,t){void 0===t&&(t={});var n=e.initialState,r=new Set,o=[],a=!1,s=function(e){var t;return i(((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[C]=function(){return this},t),e)}({id:t.id,send:function(t){o.push(t),function(){if(!a){for(a=!0;o.length>0;){var t=o.shift();n=e.transition(n,t,c),r.forEach((function(e){return e.next(n)}))}a=!1}}()},getSnapshot:function(){return n},subscribe:function(e,t,o){var i=z(e,t,o);return r.add(i),i.next(n),{unsubscribe:function(){r.delete(i)}}}}),c={parent:t.parent,self:s,id:t.id||"anonymous",observers:r};return n=e.start?e.start(c):n,s}(e,{id:t,parent:this});return this.children.set(t,n),n},n.prototype.spawnPromise=function(e,t){var n,r,o=this,i=!1;e.then((function(e){i||(r=e,o.removeChild(t),o.send(L(Se(t,e),{origin:t})))}),(function(e){if(!i){o.removeChild(t);var n=Ee(t,e);try{o.send(L(n,{origin:t}))}catch(e){o.devTools&&o.devTools.send(n,o.state),o.machine.strict&&o.stop()}}}));var a=((n={id:t,send:function(){},subscribe:function(t,n,r){var o=z(t,n,r),i=!1;return e.then((function(e){i||(o.next(e),i||o.complete())}),(function(e){i||o.error(e)})),{unsubscribe:function(){return i=!0}}},stop:function(){i=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[C]=function(){return this},n);return this.children.set(t,a),a},n.prototype.spawnCallback=function(e,t){var n,r,o,i=this,a=!1,s=new Set,c=new Set;try{o=e((function(e){r=e,c.forEach((function(t){return t(e)})),a||i.send(L(e,{origin:t}))}),(function(e){s.add(e)}))}catch(e){this.send(Ee(t,e))}if(P(o))return this.spawnPromise(o,t);var u=((n={id:t,send:function(e){return s.forEach((function(t){return t(e)}))},subscribe:function(e){var t=z(e);return c.add(t.next),{unsubscribe:function(){c.delete(t.next)}}},stop:function(){a=!0,I(o)&&o()},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[C]=function(){return this},n);return this.children.set(t,u),u},n.prototype.spawnObservable=function(e,t){var n,r,o=this,i=e.subscribe((function(e){r=e,o.send(L(e,{origin:t}))}),(function(e){o.removeChild(t),o.send(L(Ee(t,e),{origin:t}))}),(function(){o.removeChild(t),o.send(L(Se(t),{origin:t}))})),a=((n={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return i.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:t}}})[C]=function(){return this},n);return this.children.set(t,a),a},n.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},n.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}},n.prototype.spawnEffect=function(e,t){var n;this.children.set(e,((n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[C]=function(){return this},n))},n.prototype.attachDev=function(){var e=De();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(i(i({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:i({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}!function(e){if(De()){var t=function(){var e=De();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}(this)}},n.prototype.toJSON=function(){return{id:this.id}},n.prototype[C]=function(){return this},n.prototype.getSnapshot=function(){return this.status===Le.NotStarted?this.initialState:this._state},n.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},n.interpret=$e,n}();function $e(e,t){return new Ue(e,t)}const ze=()=>window,Be=ze();let Ve=0;const qe=[],Fe={all:0,info:0,warn:0,error:0},Ze=[],He={all:[],info:[],warn:[],error:[]},Ge={history:qe,counts:Fe,logs:Ze,onLogAll:e=>He.all.push(e),onLogInfo:e=>He.info.push(e),onLogWarn:e=>He.warn.push(e),onLogError:e=>He.error.push(e)},We=e=>function(...t){const n=Array.prototype.slice.call(t),r={id:Ve,timestamp:Date.now(),level:e,args:n};Ve+=1,Fe.all+=1,Fe[e]+=1,qe.push(r);const o={type:`log-${e}`,logItem:r};switch(Ze.push(o),He.all.forEach((e=>e(o))),e){case"info":He.info.forEach((e=>e(o)));break;case"warn":He.warn.forEach((e=>e(o)));break;case"error":He.error.forEach((e=>e(o)))}const i={info:"log",warn:"warn",error:"error"}[e],a=Array.prototype.slice.call(t);a.unshift("background: #800020; color: #ffffff"),a.unshift("%c BORDEAUX "),Be.console[i](...a)},Je={info:We("info"),warn:We("warn"),error:We("error")};o(337),o(237);const Qe=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},Ke=function(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(t){i(e,t)}),(function(n){r[e]={status:"rejected",reason:n},0==--o&&t(r)}))}r[e]={status:"fulfilled",value:n},0==--o&&t(r)}for(var a=0;a<r.length;a++)i(a,r[a])}))};var Ye=setTimeout,Xe="undefined"!=typeof setImmediate?setImmediate:null;function et(e){return Boolean(e&&void 0!==e.length)}function tt(){}function nt(e){if(!(this instanceof nt))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],ct(e,this)}function rt(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,nt._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void it(t.promise,e)}ot(t.promise,r)}else(1===e._state?ot:it)(t.promise,e._value)}))):e._deferreds.push(t)}function ot(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof nt)return e._state=3,e._value=t,void at(e);if("function"==typeof n)return void ct((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,at(e)}catch(t){it(e,t)}var r,o}function it(e,t){e._state=2,e._value=t,at(e)}function at(e){2===e._state&&0===e._deferreds.length&&nt._immediateFn((function(){e._handled||nt._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)rt(e,e._deferreds[t]);e._deferreds=null}function st(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function ct(e,t){var n=!1;try{e((function(e){n||(n=!0,ot(t,e))}),(function(e){n||(n=!0,it(t,e))}))}catch(e){if(n)return;n=!0,it(t,e)}}nt.prototype.catch=function(e){return this.then(null,e)},nt.prototype.then=function(e,t){var n=new this.constructor(tt);return rt(this,new st(e,t,n)),n},nt.prototype.finally=Qe,nt.all=function(e){return new nt((function(t,n){if(!et(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){i(e,t)}),n)}r[e]=a,0==--o&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)i(a,r[a])}))},nt.allSettled=Ke,nt.resolve=function(e){return e&&"object"==typeof e&&e.constructor===nt?e:new nt((function(t){t(e)}))},nt.reject=function(e){return new nt((function(t,n){n(e)}))},nt.race=function(e){return new nt((function(t,n){if(!et(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=e.length;r<o;r++)nt.resolve(e[r]).then(t,n)}))},nt._immediateFn="function"==typeof Xe&&function(e){Xe(e)}||function(e){Ye(e,0)},nt._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};const ut=nt;var lt=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==o.g)return o.g;throw new Error("unable to locate global object")}();"function"!=typeof lt.Promise?lt.Promise=ut:(lt.Promise.prototype.finally||(lt.Promise.prototype.finally=Qe),lt.Promise.allSettled||(lt.Promise.allSettled=Ke)),o(344),o(944);var dt=o(444),pt=o.n(dt);const ft=ze().document.currentScript;if(!pt()(o.p)){const e=(()=>{if(ft)return(e=>{const{origin:t}=e;return t+e.pathname.split("/").slice(0,-1).join("/")})(new URL(ft.src));return""})();o.p=e+"/"}if(!o.p)throw new Error("No __webpack_public_path__ - chunk loading will not work");function ht(e){return"string"==typeof e?{type:e,toString:function(){return e}}:e}function mt(e){return i(i({type:ce},e),{toJSON:function(){e.onDone,e.onError;var t=a(e,["onDone","onError"]);return i(i({},t),{type:ce,src:ht(e.src)})}})}var gt={},yt=function(e){return"#"===e[0]},vt=function(){function n(e,t,r,o){void 0===r&&(r="context"in e?e.context:void 0);var a,l=this;this.config=e,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},t),this.parent=null==o?void 0:o.parent,this.key=this.config.key||(null==o?void 0:o.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||u([this.machine.key],c(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(a=this.config.schema)&&void 0!==a?a:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?v(this.config.states,(function(e,t){var r,o=new n(e,{},void 0,{parent:l,key:t});return Object.assign(l.idMap,i(((r={})[o.id]=o,r),o.idMap)),o})):gt;var d=0;!function e(t){var n,r;t.order=d++;try{for(var o=s(q(t)),i=o.next();!i.done;i=o.next())e(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){return""===e.event})):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=x(this.config.entry||this.config.onEntry).map((function(e){return ge(e)})),this.onExit=x(this.config.exit||this.config.onExit).map((function(e){return ge(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=x(this.config.invoke).map((function(e,t){var n,r;if(R(e)){var o=B(l.id,t);return l.machine.options.services=i(((n={})[o]=e,n),l.machine.options.services),mt({src:o,id:o})}if(j(e.src))return o=e.id||B(l.id,t),mt(i(i({},e),{id:o,src:e.src}));if(R(e.src)||I(e.src))return o=e.id||B(l.id,t),l.machine.options.services=i(((r={})[o]=e.src,r),l.machine.options.services),mt(i(i({id:o},e),{src:o}));var a=e.src;return mt(i(i({id:B(l.id,t)},e),{src:a}))})),this.activities=x(this.config.activities).concat(this.invoke).map((function(e){return ve(e)})),this.transition=this.transition.bind(this),this.tags=x(this.config.tags)}return n.prototype._init=function(){this.__cache.transitions||Z(this).forEach((function(e){return e.on}))},n.prototype.withConfig=function(e,t){var r=this.options,o=r.actions,a=r.activities,s=r.guards,c=r.services,u=r.delays;return new n(this.config,{actions:i(i({},o),e.actions),activities:i(i({},a),e.activities),guards:i(i({},s),e.guards),services:i(i({},c),e.services),delays:i(i({},u),e.delays)},null!=t?t:this.context)},n.prototype.withContext=function(e){return new n(this.config,this.options,e)},Object.defineProperty(n.prototype,"context",{get:function(){return I(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:v(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),n.prototype.toJSON=function(){return this.definition},Object.defineProperty(n.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),n.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=""===e,n=this.transitions.filter((function(n){var r=n.eventType===e;return t?r:r||"*"===n.eventType}));return this.__cache.candidates[e]=n,n},n.prototype.getDelayedTransitions=function(){var t=this,n=this.config.after;if(!n)return[];var r=function(n,r){var o=function(t,n){var r=n?"#".concat(n):"";return"".concat(e.After,"(").concat(t,")").concat(r)}(I(n)?"".concat(t.id,":delay[").concat(r,"]"):n,t.id);return t.onEntry.push(we(o,{delay:n})),t.onExit.push({type:re,sendId:o}),o};return(A(n)?n.map((function(e,t){var n=r(e.delay,t);return i(i({},e),{event:n})})):S(Object.keys(n).map((function(e,t){var o=n[e],a=j(o)?{target:o}:o,s=isNaN(+e)?e:+e,c=r(s,t);return x(a).map((function(e){return i(i({},e),{event:c,delay:s})}))})))).map((function(e){var n=e.delay;return i(i({},t.formatTransition(e)),{delay:n})}))},n.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof Pe?e.value:g(e,this.delimiter);if(j(r)){var o=this.getStateNode(r).initial;return void 0!==o?this.getStateNodes(((t={})[r]=o,t)):[this,this.states[r]]}var i=Object.keys(r),a=[this];return a.push.apply(a,u([],c(S(i.map((function(e){return n.getStateNode(e).getStateNodes(r[e])})))),!1)),a},n.prototype.handles=function(e){var t=h(e);return this.events.includes(t)},n.prototype.resolveState=function(e){var t=e instanceof Pe?e:Pe.create(e),n=Array.from(H([],this.getStateNodes(t.value)));return new Pe(i(i({},t),{value:this.resolve(t.value),configuration:n,done:K(n,this),tags:Y(n),machine:this.machine}))},n.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},n.prototype.transitionCompoundNode=function(e,t,n){var r=Object.keys(e),o=this.getStateNode(r[0])._transition(e[r[0]],t,n);return o&&o.transitions.length?o:this.next(t,n)},n.prototype.transitionParallelNode=function(e,t,n){var r,o,i={};try{for(var a=s(Object.keys(e)),c=a.next();!c.done;c=a.next()){var u=c.value,l=e[u];if(l){var d=this.getStateNode(u)._transition(l,t,n);d&&(i[u]=d)}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}var p=Object.keys(i).map((function(e){return i[e]})),f=S(p.map((function(e){return e.transitions})));if(!p.some((function(e){return e.transitions.length>0})))return this.next(t,n);var h=S(p.map((function(e){return e.entrySet}))),m=S(Object.keys(i).map((function(e){return i[e].configuration})));return{transitions:f,entrySet:h,exitSet:S(p.map((function(e){return e.exitSet}))),configuration:m,source:t,actions:S(Object.keys(i).map((function(e){return i[e].actions})))}},n.prototype._transition=function(e,t,n){return j(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},n.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,L(t))},n.prototype.next=function(e,t){var n,r,o,i=this,a=t.name,l=[],d=[];try{for(var p=s(this.getCandidates(a)),h=p.next();!h.done;h=p.next()){var m=h.value,y=m.cond,v=m.in,b=e.context,_=!v||(j(v)&&yt(v)?e.matches(g(this.getStateNodeById(v).path,this.delimiter)):f(g(v,this.delimiter),w(this.path.slice(0,-2))(e.value))),E=!1;try{E=!y||U(this.machine,y,b,t,e)}catch(e){throw new Error("Unable to evaluate guard '".concat(y.name||y.type,"' in transition for event '").concat(a,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(E&&_){void 0!==m.target&&(d=m.target),l.push.apply(l,u([],c(m.actions),!1)),o=m;break}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}if(o){if(!d.length)return{transitions:[o],entrySet:[],exitSet:[],configuration:e.value?[this]:[],source:e,actions:l};var x=S(d.map((function(t){return i.getRelativeStateNodes(t,e.historyValue)}))),k=!!o.internal,P=[];return k||d.forEach((function(e){P.push.apply(P,u([],c(i.getExternalReentryNodes(e)),!1))})),{transitions:[o],entrySet:P,exitSet:k?[]:[this],configuration:x,source:e,actions:l}}},n.prototype.getExternalReentryNodes=function(e){for(var t=[],n=c(e.order>this.order?[e,this]:[this,e],2),r=n[0],o=n[1];r&&r!==o;)t.push(r),r=r.parent;return r!==o?[]:(t.push(o),t)},n.prototype.getActions=function(n,r,o,i,a,l,d){var p,f,h,m,g=this,y=H([],l?this.getStateNodes(l.value):[this]);try{for(var v=s(n),b=v.next();!b.done;b=v.next())(!Q(y,E=b.value)||Q(o.entrySet,E.parent)&&!Q(o.entrySet,E))&&o.entrySet.push(E)}catch(e){p={error:e}}finally{try{b&&!b.done&&(f=v.return)&&f.call(v)}finally{if(p)throw p.error}}try{for(var w=s(y),_=w.next();!_.done;_=w.next()){var E;Q(n,E=_.value)&&!Q(o.exitSet,E.parent)||o.exitSet.push(E)}}catch(e){h={error:e}}finally{try{_&&!_.done&&(m=w.return)&&m.call(w)}finally{if(h)throw h.error}}var x=S(o.entrySet.map((function(e){var t=[];if("final"!==e.type)return t;var n=e.parent;if(!n.parent)return t;t.push(_e(e.id,e.doneData),_e(n.id,e.doneData?k(e.doneData,i,a):void 0));var r=n.parent;return"parallel"===r.type&&F(r).every((function(e){return K(o.configuration,e)}))&&t.push(_e(r.id)),t})));o.exitSet.sort((function(e,t){return t.order-e.order})),o.entrySet.sort((function(e,t){return e.order-t.order}));var P=new Set(o.entrySet),T=new Set(o.exitSet),O=Array.from(P).map((function(t){var n=t.onEntry,r=t.activities.map((function(t){return function(t){var n=ve(t);return{type:e.Start,activity:n,exec:void 0}}(t)}));return ye(d?u(u([],c(n),!1),c(r),!1):u(u([],c(r),!1),c(n),!1),g.machine.options.actions)})).concat([x.map(be)]),A=Array.from(T).map((function(t){return ye(u(u([],c(t.onExit),!1),c(t.activities.map((function(t){return function(t){var n=I(t)?t:ve(t);return{type:e.Stop,activity:n,exec:void 0}}(t)}))),!1),g.machine.options.actions)})).concat([ye(o.actions,this.machine.options.actions)]).concat(O);if(r){var j=ye(S(u([],c(n),!1).sort((function(e,t){return t.order-e.order})).map((function(e){return e.onExit}))),this.machine.options.actions).filter((function(e){return e.type!==te&&(e.type!==ne||!!e.to&&e.to!==t.Internal)}));return A.concat([j])}return A},n.prototype.transition=function(e,t,n,r){void 0===e&&(e=this.initialState);var o,i,a=L(t);if(e instanceof Pe)o=void 0===n?e:this.resolveState(Pe.from(e,n));else{var s=j(e)?this.resolve(y(this.getResolvedPath(e))):this.resolve(e),l=null!=n?n:this.machine.context;o=this.resolveState(Pe.from(s,l))}if(this.strict&&!this.events.includes(a.name)&&(i=a.name,!/^(done|error)\./.test(i)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(a.name,"'"));var d=this._transition(o.value,o,a)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:o,actions:[]},p=H([],this.getStateNodes(o.value)),f=d.configuration.length?H(p,d.configuration):p;return d.configuration=u([],c(f),!1),this.resolveTransition(d,o,o.context,r,a)},n.prototype.resolveRaisedTransition=function(e,t,n,r){var o,i=e.actions;return(e=this.transition(e,t,void 0,r))._event=n,e.event=n.data,(o=e.actions).unshift.apply(o,u([],c(i),!1)),e},n.prototype.resolveTransition=function(e,n,r,o,a){var u,l,d,p,f=this;void 0===a&&(a=he);var h=e.configuration,m=!n||e.transitions.length>0,g=m?e.configuration:n?n.configuration:[],y=K(g,this),v=m?J(this.machine,h):void 0,b=n?n.historyValue?n.historyValue:e.source?this.machine.historyValue(n.value):void 0:void 0,w=this.getActions(new Set(g),y,e,r,a,n,o),_=n?i({},n.activities):{};try{for(var S=s(w),E=S.next();!E.done;E=S.next()){var x=E.value;try{for(var P=(d=void 0,s(x)),O=P.next();!O.done;O=P.next()){var A=O.value;A.type===X?_[A.activity.id||A.activity.type]=A:A.type===ee&&(_[A.activity.id||A.activity.type]=!1)}}catch(e){d={error:e}}finally{try{O&&!O.done&&(p=P.return)&&p.call(P)}finally{if(d)throw d.error}}}}catch(e){u={error:e}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(u)throw u.error}}var I,j,N=c(xe(this,n,r,a,w,o,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),C=N[0],R=N[1],D=c(function(e,t){var n,r,o=c([[],[]],2),i=o[0],a=o[1];try{for(var u=s(e),l=u.next();!l.done;l=u.next()){var d=l.value;t(d)?i.push(d):a.push(d)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return[i,a]}(C,(function(e){return e.type===te||e.type===ne&&e.to===t.Internal})),2),L=D[0],M=D[1],U=C.filter((function(e){var t;return e.type===X&&(null===(t=e.activity)||void 0===t?void 0:t.type)===ce})),z=U.reduce((function(e,t){return e[t.activity.id]=function(e,t,n,r){var o,i=$(e.src),a=null===(o=null==t?void 0:t.options.services)||void 0===o?void 0:o[i.type],s=e.data?k(e.data,n,r):void 0,c=a?Ne(a,e.id,s):je(e.id);return c.meta=e,c}(t.activity,f.machine,R,a),e}),n?i({},n.children):{}),B=new Pe({value:v||n.value,context:R,_event:a,_sessionid:n?n._sessionid:null,historyValue:v?b?(I=b,j=v,{current:j,states:T(I,j)}):void 0:n?n.historyValue:void 0,history:!v||e.source?n:void 0,actions:v?M:[],activities:v?_:n?n.activities:{},events:[],configuration:g,transitions:e.transitions,children:z,done:y,tags:Y(g),machine:this}),V=r!==R;B.changed=a.name===de||V;var q=B.history;q&&delete q.history;var F=!y&&(this._transient||h.some((function(e){return e._transient})));if(!(m||F&&""!==a.name))return B;var Z=B;if(!y)for(F&&(Z=this.resolveRaisedTransition(Z,{type:oe},a,o));L.length;){var H=L.shift();Z=this.resolveRaisedTransition(Z,H._event,a,o)}var G=Z.changed||(q?!!Z.actions.length||V||typeof q.value!=typeof Z.value||!ke(Z.value,q.value):void 0);return Z.changed=G,Z.history=q,Z},n.prototype.getStateNode=function(e){if(yt(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},n.prototype.getStateNodeById=function(e){var t=yt(e)?e.slice("#".length):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},n.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&yt(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=m(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},n.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||gt;switch(this.type){case"parallel":return v(this.initialStateValue,(function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):gt}));case"compound":if(j(e)){var r=this.getStateNode(e);return"parallel"===r.type||"compound"===r.type?((t={})[e]=r.initialStateValue,t):e}return Object.keys(e).length?v(e,(function(e,t){return e?n.getStateNode(t).resolve(e):gt})):this.initialStateValue||{};default:return e||gt}},n.prototype.getResolvedPath=function(e){if(yt(e)){var t=this.machine.idMap[e.slice("#".length)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return m(e,this.delimiter)},Object.defineProperty(n.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=b(this.states,(function(e){return e.initialStateValue||gt}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=V(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),n.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,entrySet:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Object.defineProperty(n.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=j(t.target)&&yt(t.target)?y(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),n.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(n.prototype,"initialStateNodes",{get:function(){var e=this;return V(this)?[this]:"compound"!==this.type||this.initial?S(_(this.initialStateValue).map((function(t){return e.getFromRelativePath(t)}))):[this]},enumerable:!1,configurable:!0}),n.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=c(e),n=t[0],r=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var o=this.getStateNode(n);if("history"===o.type)return o.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(r)},n.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:b(this.states,(function(t,n){if(!e)return t.historyValue();var r=j(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)}),(function(e){return!e.history}))}},n.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var r=this.target;return r?S(_(r).map((function(e){return n.getFromRelativePath(e)}))):n.initialStateNodes}var o,i=(o=n.path,"states",function(e){var t,n,r=e;try{for(var i=s(o),a=i.next();!a.done;a=i.next()){var c=a.value;r=r.states[c]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r})(e).current;return j(i)?[n.getStateNode(i)]:S(_(i).map((function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]})))},Object.defineProperty(n.prototype,"stateIds",{get:function(){var e=this,t=S(Object.keys(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"events",{get:function(){var e,t,n,r;if(this.__cache.events)return this.__cache.events;var o=this.states,i=new Set(this.ownEvents);if(o)try{for(var a=s(Object.keys(o)),c=a.next();!c.done;c=a.next()){var u=o[c.value];if(u.states)try{for(var l=(n=void 0,s(u.events)),d=l.next();!d.done;d=l.next()){var p=d.value;i.add("".concat(p))}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(i)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),n.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!j(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(e){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}}))},n.prototype.formatTransition=function(e){var t=this,n=function(e){if(void 0!==e&&""!==e)return x(e)}(e.target),r="internal"in e?e.internal:!n||n.some((function(e){return j(e)&&e[0]===t.delimiter})),o=this.machine.options.guards,a=this.resolveTarget(n),s=i(i({},e),{actions:ye(x(e.actions)),cond:N(e.cond,o),target:a,source:this,internal:r,eventType:e.event,toJSON:function(){return i(i({},s),{target:s.target?s.target.map((function(e){return"#".concat(e.id)})):void 0,source:"#".concat(t.id)})}});return s},n.prototype.formatTransitions=function(){var e,t,n,r=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var o=this.config.on,i=o["*"],l=void 0===i?[]:i,d=a(o,["*"]);n=S(Object.keys(d).map((function(e){return M(e,d[e])})).concat(M("*",l)))}else n=[];var p=this.config.always?M("",this.config.always):[],f=this.config.onDone?M(String(_e(this.id)),this.config.onDone):[],h=S(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,u([],c(M(String(Se(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,u([],c(M(String(Ee(e.id)),e.onError)),!1)),t}))),m=this.after,g=S(u(u(u(u([],c(f),!1),c(h),!1),c(n),!1),c(p),!1).map((function(e){return x(e).map((function(e){return r.formatTransition(e)}))})));try{for(var y=s(m),v=y.next();!v.done;v=y.next()){var b=v.value;g.push(b)}}catch(t){e={error:t}}finally{try{v&&!v.done&&(t=y.return)&&t.call(y)}finally{if(e)throw e.error}}return g},n}();function bt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function wt(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}Object.create,Object.create;const _t=[2513339405,2514167739,2874872801,2877427432,2877429796,2877886512,2877887418,2877887466,2827762776,2826996473,2880357734,2880588673],St=[6008291945,6193492557,6194229978,6195127879,6195136687,6195678233,6195879766,6197440511,6201494390,6218805500,6219063790,6228853125,6229323721,6231351575,6233147912,6233860734,6236343782,6236635638,6236635641,6236635644,6239110052,6239111681,6240915032,6242875605],Et=[],xt=e=>{if(Et.includes(e.getProperty("name")))return!1;const t=e.getProperty("gptOutput");return void 0===t||void 0===t.campaign||void 0===t.lineItem||!_t.includes(t.campaign)&&!St.includes(t.lineItem)&&!(e=>{var t;const n=e.getProperty("gptOutput");if(void 0===n)return!1;const r=null===(t=n.gptSlot)||void 0===t?void 0:t.getTargeting("_bn");return void 0!==r&&!(void 0===n||void 0===n.lineItem||![244592569].includes(n.lineItem)||!r.includes("Gumgum"))})(e)},kt=(e,t,n="&")=>{if(""===e)return null;const r=t.indexOf(`${e}=`);if(r>=0){const e=t.indexOf("=",r),o=t.indexOf(n,e+1);return o>=0?t.substring(e+1,o):t.substring(e+1)}return null},Pt=e=>{const t=ze(),{search:n}=t.location;return kt(e,n)};let Tt;const Ot=Pt("force_roadblock");let At;const It=new Promise((e=>{At=e})),jt=e=>{const t=e.getProperty("status");return"delivered"===t||"undelivered"===t},Nt=e=>{const t=e.getProperty("gptOutput");return(null==t?void 0:t.lineItem)||-1},Ct=()=>{if(null!==Ot)return void At("true"===Ot);const e=Tt.getValues().filter((e=>e.getProperty("inRoadblock")));0!==e.length?e.every(jt)&&At((e=>{const t=e.map(Nt),n=t[0];return-1!==n&&t.every((e=>e===n))})(e)):At(!1)};let Rt=0;const Dt=()=>Rt++;function Lt(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,o){return t.apply(this,arguments)};case 5:return function(e,n,r,o,i){return t.apply(this,arguments)};case 6:return function(e,n,r,o,i,a){return t.apply(this,arguments)};case 7:return function(e,n,r,o,i,a,s){return t.apply(this,arguments)};case 8:return function(e,n,r,o,i,a,s,c){return t.apply(this,arguments)};case 9:return function(e,n,r,o,i,a,s,c,u){return t.apply(this,arguments)};case 10:return function(e,n,r,o,i,a,s,c,u,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Mt(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function Ut(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function $t(e){return function t(n){return 0===arguments.length||Ut(n)?t:e.apply(this,arguments)}}function zt(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return Ut(n)?t:$t((function(t){return e(n,t)}));default:return Ut(n)&&Ut(r)?t:Ut(n)?$t((function(t){return e(t,r)})):Ut(r)?$t((function(t){return e(n,t)})):e(n,r)}}}function Bt(e){return function t(n,r,o){switch(arguments.length){case 0:return t;case 1:return Ut(n)?t:zt((function(t,r){return e(n,t,r)}));case 2:return Ut(n)&&Ut(r)?t:Ut(n)?zt((function(t,n){return e(t,r,n)})):Ut(r)?zt((function(t,r){return e(n,t,r)})):$t((function(t){return e(n,r,t)}));default:return Ut(n)&&Ut(r)&&Ut(o)?t:Ut(n)&&Ut(r)?zt((function(t,n){return e(t,n,o)})):Ut(n)&&Ut(o)?zt((function(t,n){return e(t,r,n)})):Ut(r)&&Ut(o)?zt((function(t,r){return e(n,t,r)})):Ut(n)?$t((function(t){return e(t,r,o)})):Ut(r)?$t((function(t){return e(n,t,o)})):Ut(o)?$t((function(t){return e(n,r,t)})):e(n,r,o)}}}const Vt=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function qt(e){return"[object String]"===Object.prototype.toString.call(e)}const Ft=$t((function(e){return!!Vt(e)||!!e&&"object"==typeof e&&!qt(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))}));var Zt=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();const Ht=zt((function(e,t){return Lt(e.length,(function(){return e.apply(t,arguments)}))}));function Gt(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function Wt(e,t,n,r){return e["@@transducer/result"](n[r](Ht(e["@@transducer/step"],e),t))}var Jt="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function Qt(e,t,n){if("function"==typeof e&&(e=function(e){return new Zt(e)}(e)),Ft(n))return function(e,t,n){for(var r=0,o=n.length;r<o;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return Wt(e,t,n,"fantasy-land/reduce");if(null!=n[Jt])return Gt(e,t,n[Jt]());if("function"==typeof n.next)return Gt(e,t,n);if("function"==typeof n.reduce)return Wt(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}const Kt=Bt(Qt);function Yt(e,t){return function(){var n=arguments.length;if(0===n)return t();var r=arguments[n-1];return Vt(r)||"function"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}const Xt=Bt(Yt("slice",(function(e,t,n){return Array.prototype.slice.call(n,e,t)}))),en=$t(Yt("tail",Xt(1,1/0)));function tn(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return Lt(arguments[0].length,Kt(Mt,arguments[0],en(arguments)))}const nn=$t((function(e){return qt(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()}));function rn(){if(0===arguments.length)throw new Error("compose requires at least one argument");return tn.apply(this,nn(arguments))}function on(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function an(e,t,n){for(var r=0,o=n.length;r<o;){if(e(t,n[r]))return!0;r+=1}return!1}function sn(e,t){return Object.prototype.hasOwnProperty.call(t,e)}const cn="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};var un=Object.prototype.toString;const ln=function(){return"[object Arguments]"===un.call(arguments)?function(e){return"[object Arguments]"===un.call(e)}:function(e){return sn("callee",e)}}();var dn=!{toString:null}.propertyIsEnumerable("toString"),pn=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],fn=function(){return arguments.propertyIsEnumerable("length")}(),hn=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1};const mn="function"!=typeof Object.keys||fn?$t((function(e){if(Object(e)!==e)return[];var t,n,r=[],o=fn&&ln(e);for(t in e)!sn(t,e)||o&&"length"===t||(r[r.length]=t);if(dn)for(n=pn.length-1;n>=0;)sn(t=pn[n],e)&&!hn(r,t)&&(r[r.length]=t),n-=1;return r})):$t((function(e){return Object(e)!==e?[]:Object.keys(e)})),gn=$t((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function yn(e,t,n,r){var o=on(e);function i(e,t){return vn(e,t,n.slice(),r.slice())}return!an((function(e,t){return!an(i,t,e)}),on(t),o)}function vn(e,t,n,r){if(cn(e,t))return!0;var o=gn(e);if(o!==gn(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(o){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!cn(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!cn(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var i=n.length-1;i>=0;){if(n[i]===e)return r[i]===t;i-=1}switch(o){case"Map":return e.size===t.size&&yn(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&yn(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=mn(e);if(a.length!==mn(t).length)return!1;var s=n.concat([e]),c=r.concat([t]);for(i=a.length-1;i>=0;){var u=a[i];if(!sn(u,t)||!vn(t[u],e[u],s,c))return!1;i-=1}return!0}const bn=zt((function(e,t){return vn(e,t,[],[])}));function wn(e){return null!=e&&"function"==typeof e["@@transducer/step"]}function _n(e,t,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),o=r.pop();if(!Vt(o)){for(var i=0;i<e.length;){if("function"==typeof o[e[i]])return o[e[i]].apply(o,r);i+=1}if(wn(o)){var a=t.apply(null,r);return a(o)}}return n.apply(this,arguments)}}const Sn=function(){return this.xf["@@transducer/init"]()},En=function(e){return this.xf["@@transducer/result"](e)};var xn=function(){function e(e,t){this.xf=t,this.n=e,this.i=0}return e.prototype["@@transducer/init"]=Sn,e.prototype["@@transducer/result"]=En,e.prototype["@@transducer/step"]=function(e,t){this.i+=1;var n,r=0===this.n?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?(n=r)&&n["@@transducer/reduced"]?n:{"@@transducer/value":n,"@@transducer/reduced":!0}:r},e}();const kn=zt(_n(["take"],zt((function(e,t){return new xn(e,t)})),(function(e,t){return Xt(0,e<0?1/0:e,t)}))),Pn=zt((function(e,t){return bn(kn(e.length,t),e)})),Tn=zt((function(e,t){for(var n=t,r=0;r<e.length;){if(null==n)return;n=n[e[r]],r+=1}return n})),On=zt((function(e,t){return Tn([e],t)})),An=$t((function(e){return!e})),In=["ie","edge","safari","firefox","chrome"],jn="Bordeaux - ",Nn=e=>!!ze().performance&&performance[e]instanceof Function,Cn=()=>{const e=ze();return Nn("now")?e.performance.now():0},Rn=()=>{const e=ze();return Nn("getEntries")?e.performance.getEntries():[]},Dn=e=>{const t=ze();return Nn("getEntriesByType")?t.performance.getEntriesByType(e):Rn().filter((e=>({entryType:t})=>t===e)(e))},Ln=(e,t)=>{const n=ze();if(Nn("getEntriesByName"))return n.performance.getEntriesByName(e,t);const r=(e=>({name:t})=>t===e)(e);return void 0!==t?Dn(t).filter(r):Rn().filter(r)},Mn=[],Un=ze(),$n=rn(Pn(jn),On("name")),zn=(e,t,n,r="",o=!1,i=null)=>{const a=((e,t,n,r="Bordeaux",o="",i=!1,a=null)=>Object.assign(Object.assign(Object.assign(Object.assign({id:Dt(),type:"mark",time:t,object:e,origin:r},o instanceof Object?o:{}),i?{startMark:i}:{}),null===a?{}:{eventInfo:a}),{message:n}))(e,e?e.startTime:Cn(),t,n,r,o,i);return Mn.push(a),a},Bn=()=>((()=>{let e,t=0,n=0;e=Un.setInterval((()=>{if(n>5)return void Un.clearInterval(e);const r=Dn("mark"),o=r.slice(t).filter(rn(An,$n));t=r.length,0!==o.length?o.forEach((e=>zn(e,e.name,"System"))):n++}),2e3)})(),{mark:(e,t=!1,n=null)=>{const r=e instanceof Object?e.message:e,o=jn+r;let i;return"function"==typeof Un.performance.mark&&(i=Un.performance.mark(o)),zn(i,o,"Bordeaux",e,t,n).id},getMarks:()=>Mn});var Vn=o(63),qn=o.n(Vn);const Fn=e=>ze().location.search.indexOf(e)>=0,Zn=ze().document.URL,Hn=Boolean(["local.fte","local.responsive","local.progressive","dev.fte","stage.fte","futureplc.engineering"].find((e=>Zn.indexOf(e)>-1))),Gn="5.6.0".includes("Dev"),Wn=Hn||Gn,Jn=ze(),Qn=(e,t)=>{const n="string"==typeof t?t:JSON.stringify(t);return Jn.navigator.sendBeacon(e,new Blob([n],{type:"text/plain"}))},Kn=zt((function(e,t){var n={};return Lt(t.length,(function(){var r=e.apply(this,arguments);return sn(r,n)||(n[r]=t.apply(this,arguments)),n[r]}))}));function Yn(e){return e}const Xn=$t(Yn),er=ze(),tr="mobile",nr="desktop",rr=Kn(Xn,(()=>er.document.documentElement.clientWidth||er.document.body.clientWidth||er.innerWidth)),or=Kn(Xn,(()=>er.document.documentElement.clientHeight||er.document.body.clientHeight||er.innerHeight)),ir=()=>{const e=rr();return e>=700&&e<1e3?"tablet":e>=1e3?nr:tr};var ar=o(701);const sr={ie:!0,edge:!0,safari:!0,chrome:!0,firefox:!0,"edge-chromium":"chrome",crios:"chrome","chromium-webview":"chrome",fxios:"firefox",ios:"safari","ios-webview":"safari"},cr=()=>{const e=(0,ar.detect)();let t="other";if(null!==e){const n=e.name;if(n in sr){const e=sr[n];t=!0===e?n:e}}return t},ur={"5gradar.com":"5gradar","advnture.com":"advnture","anandtech.com":"anandtech","androidcentral.com":"androidcentral","avnetwork.com":"avnetwork","bikeperfect.com":"bikeperfect","cinemablend.com":"cinemablend","cloudsavvyit.com":"cloudsavvyit","coachmag.co.uk.master.":"coachmag","coachmag.co.uk":"coachmag","countrylife.co.uk":"countrylife","crackberry.com":"crackberry","creativebloq.com":"creativebloq","cyclingnews.com":"cyclingnews","cyclingweekly.com":"cyclingweekly-progressive","decanter.com":"decanter","digitalcameraworld.com":"digitalcameraworld","fitandwell.com":"fitandwell-progressive","fourfourtwo.com":"fourfourtwo","gamesradar.com":"gamesradar","gardeningetc.com":"gardeningetc-progressive","gnomesingardens.com":"gnomesingardens","golf-monthly.co.uk":"golfmonthly-progressive","golfmonthly.com":"golfmonthly-progressive","goodto.com":"goodtoknow-progressive","guitarplayer.com":"guitarplayer","guitarworld.com":"guitarworld","homebuilding.co.uk":"homebuilding","homesandgardens.com":"homesandgardens-progressive","horseandhound.co.uk":"horseandhound","howtogeek.com":"howtogeek","idealhome.co.uk":"idealhome","idealhome.co.uk.master.":"idealhome-progressive-qa","imore.com.master.":"imore","imore.com":"imore","itpro.preprod.coreapp.didev.co.uk":"itprocouk","itpro.staging.coreapp.didev.co.uk":"itprocouk","itpro.develop.coreapp.didev.co.uk":"itprocouk","itpro.co.uk":"itprocouk","itprocom.preprod.coreapp.didev.co.uk":"itprocom","itprocom.staging.coreapp.didev.co.uk":"itprocom","itprocom.develop.coreapp.didev.co.uk":"itprocom","itpro.com":"itprocom","itproportal.com":"itproportal","kiplinger.preprod.coreapp.didev.co.uk":"kiplinger","kiplinger.staging.coreapp.didev.co.uk":"kiplinger","kiplinger.develop.coreapp.didev.co.uk":"kiplinger","kiplinger.com":"kiplinger","laptopmag.com":"laptopmag","lifesavvy.com":"lifesavvy","livescience.com":"livescience","livingetc.com":"livingetc-progressive","look.co.uk":"look","loudersound.com":"loudersound","marieclaire.co.uk":"marieclaire","marieclaire.com":"marieclairecom-progressive","mbr.co.uk":"mbr","mby.com":"mby","mindbounce.com":"mindbounce","moneyweek.preprod.coreapp.didev.co.uk":"moneyweek","moneyweek.staging.coreapp.didev.co.uk":"moneyweek","moneyweek.develop.coreapp.didev.co.uk":"moneyweek","moneyweek.com":"moneyweek","musicradar.com":"musicradar","myimperfectlife.com":"myimperfectlife-progressive","nexttv.com":"nexttv","pbo.co.uk":"pbo","pcgamer.com":"pcgamer","petsradar.com":"petsradar","realhomes.com":"realhomes-progressive","reviewgeek.com":"reviewgeek","rugbyworld.com":"rugbyworld","sandbox.futurehybrid.tech":"sandbox","sciencealert.wpengine.com":"sciencealert","sciencealert2022.com":"sciencealert","sciencealert.com":"sciencealert","shootinguk.co.uk":"shootinguk","space.com":"space","t3.com":"t3-progressive","techlearning.com":"techlearning","techlearninguniversity.com":"techlearninguniversity","techradar.com":"techradar","techspot.com":"techspot","thecaribou.com":"thecaribou","thefield.co.uk":"thefield","themoneyedit.com":"themoneyedit-progressive","theweekuk.preprod.coreapp.didev.co.uk":"theweekcouk","theweekuk.staging.coreapp.didev.co.uk":"theweekcouk","theweekuk.develop.coreapp.didev.co.uk":"theweekcouk","theweek.co.uk":"theweekcouk","theweekus.preprod.coreapp.didev.co.uk":"theweekcom","theweekus.staging.coreapp.didev.co.uk":"theweekcom","theweekus.develop.coreapp.didev.co.uk":"theweekcom","theweek.com":"theweekcom","tomsguide.com":"tomsguide","tomshardware.com":"tomshardware","toptenreviews.com":"toptenreviews","tvtechnology.com":"tvtechnology","wallpaper.com":"wallpaper","whatculture.com":"whatculture","whathifi.com":"whathifi","whatsontv.co.uk":"whatsontv","whattowatch.com":"whattowatch","windowscentral.com":"windowscentral","windowscentral.com.master.":"windowscentral-qa","womanandhome.com":"womanandhome-progressive","yachtingmonthly.com":"yachtingmonthly","yachtingworld.com":"yachtingworld","ybw.com":"ybw"},lr=()=>{const e=ze(),t=(n=ur,r=e.location.hostname,Object.keys(n).sort(((e,t)=>t.length-e.length)).find((e=>r.includes(e)))||void 0);var n,r;return t?ur[t]:""},dr=ze(),pr={env:"",device:"",browser:"",site:"",version:"5.6.0"};let fr=!1,hr=!1,mr=!1,gr=!1,yr=!1;const vr=qn()(),br=vr.create("counter","request","Request counter"),wr=vr.create("counter","crash","Crash counter"),_r=vr.create("counter","block","Block counter"),Sr=vr.create("counter","disable","Disable counter"),Er=vr.create("counter","load","Load counter"),xr=vr.create("counter","load_fail","Load fail counter"),kr=vr.create("counter","timeout","Timeout counter"),Pr=vr.create("counter","unload","Unload counter"),Tr=()=>{if(!fr||!hr)return;const e=vr.metrics();Qn("https://bordeaux-gateway.futureplc.com/push_metrics/",e)?(fr=!1,vr.reset()):Je.error("Error pushing Bordeaux metrics data.")},Or=()=>{if(gr)if(yr){if(!mr){const e=Object.assign({target:"ads"},pr);fr=!0,Pr.inc(e)}}else{const e=Object.assign({target:"thirdparties"},pr);fr=!0,Pr.inc(e)}else{const e=Object.assign({target:"config"},pr);fr=!0,Pr.inc(e)}Tr()},Ar=()=>{const e=Object.assign({target:"bordeaux"},pr);fr=!0,br.inc(e)},Ir=()=>{const e=Object.assign({target:"config"},pr);gr=!0,fr=!0,Er.inc(e)},jr=()=>{const e=Object.assign({target:"thirdparties"},pr);yr=!0,fr=!0,Er.inc(e)},Nr=()=>{const e=Object.assign({target:"ads"},pr);fr=!0,_r.inc(e)},Cr=()=>{const e=Object.assign({target:"ads"},pr);fr=!0,Sr.inc(e)},Rr=()=>{const e=Object.assign({target:"config"},pr);fr=!0,xr.inc(e)},Dr=()=>{const e=Object.assign({target:"config"},pr);fr=!0,kr.inc(e)},Lr=()=>{const e=Object.assign({target:"config"},pr);fr=!0,_r.inc(e)},Mr=()=>{const e=Object.assign({target:"config"},pr);fr=!0,wr.inc(e)},Ur=()=>{const e=Object.assign({target:"ads"},pr);mr=!0,fr=!0,Er.inc(e)},$r=()=>{const e=Object.assign({target:"bordeaux"},pr);fr=!0,wr.inc(e)},zr=()=>(pr.env=Wn?"dev":"prod",pr.device=ir(),pr.browser=(e=>{const t=e.toLowerCase();return-1===In.indexOf(t)?"unknown browser":t})(cr()),pr.site=lr(),(()=>{const e=Math.random()<.01,t=Fn("force_metrics");hr=e||t})(),dr.setInterval(Tr,1e4),dr.addEventListener("pagehide",Or),dr.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&Tr()})),{recordFrameworkRequest:Ar,recordFrameworkCrash:$r,recordAdsBlock:Nr,recordAdsDisable:Cr,recordAdsLoad:Ur,recordConfigLoad:Ir,recordConfigLoadFail:Rr,recordConfigTimeout:Dr,recordConfigEmpty:Lr,recordConfigParseError:Mr,recordThirdPartiesLoad:jr});let Br=0;const Vr=[],qr=(e,t)=>{(()=>{const e=Dn("resource"),t=e.slice(Br);if(0===t.length)return;const n=e.length;Br=n,t.forEach((e=>{const t=((e,t="Bordeaux")=>({id:Dt(),type:"resource",time:e.startTime,object:e,origin:t,message:e.name,duration:e.duration}))(e,"System");Vr.push(t)}))})();const n=[];return void 0!==e&&n.push((t=>t.object.initiatorType===e)),void 0!==t&&n.push((e=>e.object.name.indexOf(t)>-1)),Vr.filter((e=>!n.find((t=>!1===t(e)))))},Fr=(()=>{const e=Bn(),t={now:Cn,getEntries:Rn,getEntriesByType:Dn,getEntriesByName:Ln},n=zr(),r={getResources:qr};return Object.assign(Object.assign(Object.assign(Object.assign({},e),t),n),r)})(),Zr=$t((function(e){var t,n=!1;return Lt(e.length,(function(){return n?t:(n=!0,t=e.apply(this,arguments))}))}));var Hr=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Sn,e.prototype["@@transducer/result"]=En,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}();const Gr=zt((function(e,t){return new Hr(e,t)}));function Wr(e,t,n){return function(){for(var r=[],o=0,i=e,a=0;a<t.length||o<arguments.length;){var s;a<t.length&&(!Ut(t[a])||o>=arguments.length)?s=t[a]:(s=arguments[o],o+=1),r[a]=s,Ut(s)||(i-=1),a+=1}return i<=0?n.apply(this,r):Lt(i,Wr(e,r,n))}}const Jr=zt((function(e,t){return 1===e?$t(t):Lt(e,Wr(e,[],t))})),Qr=zt(_n(["fantasy-land/map","map"],Gr,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return Jr(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return Qt((function(n,r){return n[r]=e(t[r]),n}),{},mn(t));default:return function(e,t){for(var n=0,r=t.length,o=Array(r);n<r;)o[n]=e(t[n]),n+=1;return o}(e,t)}}))),Kr=zt((function(e,t){return t>e?t:e})),Yr=$t((function(e){return Lt(Kt(Kr,0,Qr((function(e){return e[0].length}),e)),(function(){for(var t=0;t<e.length;){if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments);t+=1}}))})),Xr=$t((function(e){return function(){return e}})),eo=Bt((function(e,t,n){return Jr(Math.max(e.length,t.length,n.length),(function(){return e.apply(this,arguments)?t.apply(this,arguments):n.apply(this,arguments)}))})),to=Pt("force_locale")||Pt("force_country")||Pt("CC"),no=ze(),ro=()=>(to||(()=>{try{return kt("FTR_Country_Code",no.document.cookie,";")}catch(e){return Je.warn("Bordeaux country lookup failed, could not find FTR_Country_Code cookie",e),null}})()||"GB").toUpperCase(),oo=ze(),io=()=>{const e=cr(),t=ir(),n=ro(),r=lr();return{browser:e,content:oo.adParameters?oo.adParameters.content:"",device:t,country:n,site:r,type:oo.adParameters?oo.adParameters.type:""}},ao=e=>{const t=`; ${ze().document.cookie}`.split(`; ${e}=`);if(2===t.length){const e=t.pop();if(e)return e.split(";").shift()}},so=(e,t,n,r)=>{const o=ze(),i=new Date;i.setTime(i.getTime()+1e3*n);const a=`expires=${i.toUTCString()}`,s=r?`domain=${r};`:"";o.document.cookie=`${e}=${t};${a};path=/;${s}SameSite=Lax;secure`},co=ze(),uo=()=>{const e=co.localStorage.getItem("bdx-uuid");if(null!==e)return e;const t="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=Math.floor(16*Math.random());return("x"===e?t:3&t|8).toString(16)}));return co.localStorage.setItem("bdx-uuid",t),t},lo=()=>{try{const{width:e,height:t}={width:rr(),height:or()};return{width:String(e),height:String(t)}}catch(e){return Je.error(e),{width:"",height:""}}},po=()=>{const e=lo();return""===e.width?"":`${e.width}x${e.height}`},fo=()=>{var e;try{return(null===(e=co.top)||void 0===e?void 0:e.document.referrer)||""}catch(e){return""}},{browser:ho}=io(),mo=(e=6408e3)=>{const t=uo();return so("h_id",t,e),t},go=Zr((()=>wt(void 0,void 0,void 0,(function*(){const e=ao("h_id");if(e)return e;if("chrome"!==ho)return mo();try{const e=yield wt(void 0,void 0,void 0,(function*(){const e=new AbortController,t=setTimeout((()=>e.abort("fetch request timed out")),500),n=yield fetch("https://ads.servebom.com/hybrid_id",{method:"GET",credentials:"include",signal:e.signal}),r=yield n.json();return r.uuid?(clearTimeout(t),r.uuid):(clearTimeout(t),null)}));return e?(so("h_id",e,6408e3),e):mo(86400)}catch(e){return e instanceof Error&&Je.warn(`Error "${e.name}" while fetching hybrid id.`),mo(86400)}}))));let yo="";const vo=ze(),bo=Math.floor(1e8+9e8*Math.random()),{device:wo,browser:_o,country:So}=io(),Eo=navigator.connection&&navigator.connection.effectiveType||"";let xo="";const ko=[],Po="https://metrics.futurehybrid.tech/future/adtech/bordeaux/v1/storeevents",To=[],Oo=Zr((()=>(.1,Math.random()<.1))),Ao=ze(),Io=e=>ko.find((t=>t.auction.id===e)),jo=e=>t=>e===t.eventType,No=Yr([[jo("LoadingThirdParties"),({startTime:e,endTime:t="",auctionId:n})=>{const r=Io(n);r&&(r.third_parties.start_time=e,r.third_parties.end_time=t)}],[jo("ThirdPartyScripts"),({name:e,startTime:t,endTime:n="",auctionId:r,status:o})=>{const i=Io(r);if(i){const r=i.third_parties.scripts.findIndex((t=>t.name===e));-1!==r?i.third_parties.scripts[r]={name:e,start_time:t,end_time:n,status:o}:i.third_parties.scripts.push({name:e,start_time:t,end_time:n,status:o})}}],[jo("PartnerRequest"),({startTime:e,endTime:t="",name:n,auctionId:r,status:o})=>{const i=Io(r);if(i){const r=i.auction.partner_requests.findIndex((e=>e.name===n));-1!==r?i.auction.partner_requests[r]={name:n,start_time:e,end_time:t,status:o}:i.auction.partner_requests.push({name:n,start_time:e,end_time:t,status:o})}}],[jo("AdRequest"),({endTime:e="",auctionId:t})=>{const n=Io(t);n&&(n.auction.adload_time=e,null===e||To.includes(t)||(Qn(Po,{events:[{ad_request_completed_event:n}]}),To.push(t)))}],[jo("Auction"),({startTime:e,endTime:t="",auctionId:n})=>{const r=Io(n);r&&(r.auction.start_time=e,r.auction.end_time=t)}],[jo("ConfigRequest"),({startTime:e,endTime:t="",auctionId:n,status:r})=>{const o=Io(n);o&&(o.config.start_time=e,o.config.end_time=t,o.config.status=r)}],[jo("CmpPending"),({startTime:e,auctionId:t})=>{const n=Io(t);n&&(n.cmp.pending_time=n.cmp.pending_time?n.cmp.pending_time:e,n.cmp.status="REQUEST_STATUS_PENDING")}],[jo("CmpLoaded"),({startTime:e,auctionId:t})=>{const n=Io(t);n&&(n.cmp.load_time=n.cmp.load_time?n.cmp.load_time:e,n.cmp.status="REQUEST_STATUS_SUCCESSFUL")}],[jo("CmpFailed"),({startTime:e,auctionId:t})=>{const n=Io(t);n&&(n.cmp.fail_time=n.cmp.fail_time?e:n.cmp.fail_time,n.cmp.status="REQUEST_STATUS_FAILED")}],[Xr(!0),()=>{}]]),Co=eo(Oo,rn(No,(e=>(Io(e.auctionId)||ko.push(((e,t)=>({bordeaux:{version:"5.6.0",experiment_id:yo},browser:{type:_o,device_type:wo,connection_type:Eo},user:{country:So,hybrid_id:e,unload_time:null},cmp:{load_time:null,pending_time:null,fail_time:null,status:"REQUEST_STATUS_UNSPECIFIED"},session:{url:vo.location.href,id:bo},config:{start_time:null,end_time:null,status:"REQUEST_STATUS_UNSPECIFIED"},third_parties:{start_time:null,end_time:null,scripts:[]},auction:{start_time:null,end_time:null,adload_time:null,id:t,partner_requests:[]}}))(xo,e.auctionId)),e))),(()=>{})),Ro=(e,t,n,r=(new Date).toISOString(),o="REQUEST_STATUS_PENDING")=>(Co({name:e,startTime:r,endTime:null,eventType:n,auctionId:t,status:o}),Zr(((o=(new Date).toISOString(),i="REQUEST_STATUS_SUCCESSFUL")=>Co({name:e,startTime:r,endTime:o,eventType:n,auctionId:t,status:i}))));function Do(e){const t=ze(),{top:n}=t;let r=t;do{try{if(e in r)break}catch(e){}r=r.parent}while(r&&r!==n);return Boolean(r)&&e in r?r[e]:null}const Lo=()=>wt(void 0,void 0,void 0,(function*(){const e=ze(),t=new Promise(((e,t)=>{const n=Do("__tcfapi");null!==n?e(n):t(new Error("__tcfapi API does not exist in window frames"))})),n=new Promise(((t,n)=>{e.setTimeout((()=>n(new Error("Timeout retrieving __tcfapi API after 5000ms"))),5e3)}));return Promise.race([t,n]).catch((e=>(Je.error(e),(e,t,n)=>{const r={cmpId:10,cmpVersion:23,gdprApplies:!0,tcfPolicyVersion:t,eventStatus:"tcloaded",cmpStatus:"loaded",tcString:"",isServiceSpecific:!0,useNonStandardStacks:!1,purposeOneTreatment:!1,publisherCC:"GB",outOfBand:{allowedVendors:{},disclosedVendors:{}},purpose:{consents:{},legitimateInterests:{}},vendor:{consents:{},legitimateInterests:{}},specialFeatureOptins:{},publisher:{consents:{},legitimateInterests:{},customPurpose:{consents:{},legitimateInterests:{}},restrictions:{}}},o={cmpId:10,cmpVersion:23,apiVersion:"23",gdprApplies:!0,tcfPolicyVersion:t,cmpLoaded:!0,cmpStatus:"loaded",displayStatus:"hidden",mocked:!0},i={gdprApplies:!0,metadata:"",nonIabVendorConsents:{}};switch(e){case"getTCData":case"addEventListener":n(r,!0);break;case"ping":n(o);break;case"removeEventListener":n(!0);break;case"displayConsentUi":n();break;case"getNonIABVendorConsents":n(i,!0);break;default:Je.error(`Unknown command for mocked __tcfapi: ${e}`)}})))}));var Mo;if(!ao("usprivacy")){const e=ze();so("usprivacy","1YNN",31536e3,null===(Mo=e.window.top)||void 0===Mo?void 0:Mo.location.host)}const Uo=()=>wt(void 0,void 0,void 0,(function*(){const e=yield wt(void 0,void 0,void 0,(function*(){let e;return new Promise((t=>{const n=ze();e=n.setInterval((()=>{Lo().then((r=>{r("ping",2,(r=>{"stub"===r.cmpStatus&&Ro("cmp_pending",1,"CmpPending"),"loaded"===r.cmpStatus&&(Ro("cmp_loaded",1,"CmpLoaded"),n.clearInterval(e),t(!0)),"loaded"===r.cmpStatus&&r.mocked&&(Ro("cmp_failed",1,"CmpFailed"),n.clearInterval(e),t(!0))}))})).catch((r=>{Je.error(`Error retrieving GDPR loaded. ${r.message}`),n.clearInterval(e),t(!1)}))}),50)}))}));let t=null;return e&&(t=yield new Promise(((e,t)=>{Lo().then((n=>{n("addEventListener",2,((n,r)=>{r||t(new Error("Failed to get GDPR consent data, __tcfapi addEventListener request failed")),"tcloaded"!==n.eventStatus&&"useractioncomplete"!==n.eventStatus||e(n)}))}))})).catch((e=>(Je.error(`Error retrieving GDPR consent. ${e.message}`),null)))),null===t?{askedForConsent:!1,consent:null}:{askedForConsent:!0,consent:t}})),$o=()=>wt(void 0,void 0,void 0,(function*(){const e=yield new Promise(((e,t)=>{wt(void 0,void 0,void 0,(function*(){const e=ze(),t=new Promise(((e,t)=>{const n=Do("__uspapi");null!==n?e(n):t(new Error("__uspapi API does not exist in window frames"))})),n=new Promise(((t,n)=>{e.setTimeout((()=>n(new Error("Timeout retrieving __uspapi API after 5000ms"))),5e3)}));return Promise.race([t,n]).catch((e=>(Je.error(e),(e,t,n)=>{"getUSPData"===e&&n({version:t,uspString:"1---"},!0)})))})).then((n=>{n("getUSPData",1,((n,r)=>{n&&r&&Object.keys(n).includes("uspString")?e(n):t(new Error("Failed to get USP consent data, __uspapi getUSPData request failed"))}))}))})).catch((e=>(Je.error(`Error retrieving USP consent. ${e.message}`),null)));return null===e?{askedForConsent:!1,consent:null,ccpaApplies:!1}:e.uspString.includes("1---")?{askedForConsent:!0,consent:null,ccpaApplies:!1}:{askedForConsent:!0,consent:e,ccpaApplies:!0}})),zo=e=>wt(void 0,void 0,void 0,(function*(){const t=yield Uo();if(null===t.consent)return!1;const{gdprApplies:n,vendor:r}=t.consent,o=void 0!==e&&r&&r.consents&&r.consents[e];return!n||o})),Bo="left",Vo="right",qo=e=>`inline_${e}`;let Fo=(e,t,n)=>(Je.warn(`Placeholder match called. Data - ${e} ${t} ${n}`),{});const Zo=e=>{const t={};return e.split(";").forEach((e=>{const n=e.split(":",2);n.length>1&&(t[n[0].trim().replace(/-([a-z])/gi,((e,t)=>t.toUpperCase()))]=n[1].trim())})),t},Ho=/@media/g;Fo=(e,t,n)=>t.match(Ho)?n.matchMedia(t.slice(7)).matches?((e,t)=>Object.keys(e).reduce(((n,r)=>Object.assign(Object.assign({},n),Fo(e,r,t))),{}))(e[t],n):{}:{[t]:e[t]};const Go=$t((function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():Vt(e)?[]:qt(e)?"":function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)?{}:ln(e)?function(){return arguments}():void 0})),Wo=$t((function(e){return null!=e&&bn(e,Go(e))})),Jo=ze(),Qo="font-size: 12px; width: 100%; height: 30px; text-align: center; line-height: 30px; z-index: 1; background-color: #EDEDED; position: relative;",Ko="function"==typeof Object.assign?Object.assign:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1,r=arguments.length;n<r;){var o=arguments[n];if(null!=o)for(var i in o)sn(i,o)&&(t[i]=o[i]);n+=1}return t},Yo=$t((function(e){return Ko.apply(null,[{}].concat(e))})),Xo=e=>t=>t.indexOf(e)>-1?t.slice(0,t.indexOf(e)):t,ei=Xo("@"),ti=Xo("%40");function ni(e){return(e=>ti(ei(e)))(e).replace(/[#",*()=+<>\[\]]/g,(e=>`%${e.charCodeAt(0).toString(16)}`))}const ri=/(&(.*?)=)/g,oi=e=>e.substring(1,e.length-1),ii=(e,t)=>{var n;return(n=ri,t.match(n)||[]).map(oi).reduce(((e,n)=>{const r=kt(n,t);return r?Object.assign(Object.assign({},e),{[n]:r}):e}),e)},ai=Fn("force_targeting"),si=ze(),ci=io(),ui={},li=(e={})=>{Object.assign(ui,e)};function di(e){if(void 0===e)throw new Error("Width should not be undefined");const t={small:{min:0,max:1279},large:{min:1280,max:12e3}};let n="small";return Object.keys(t).forEach((r=>{e>=t[r].min&&e<=t[r].max&&(n=r)})),n}function pi(){return wt(this,void 0,void 0,(function*(){const e=yield go(),t=Object.assign(Object.assign({site:ci.site,url:si.location.href,test:Math.random()>=.5?"A":"B",screen:di(si.screen.width)},e?{h_id:e}:{}),Boolean(si.localStorage&&si.localStorage.getItem("adblock"))?{adblock:"disabled"}:{}),n=Yo([t,ui]),r=ai?ii(n,si.location.href):n;return Object.keys(r).forEach((e=>{var t;r[e]="string"==typeof(t=r[e])?ni(t):Array.isArray(t)?t.map(ni):t})),r}))}var fi=o(180),hi=o.n(fi);const mi=ze();let gi;const yi={platform:"javascript",sdk:{name:"sentry.javascript.browser",packages:[{name:"future:sentry/minimal",version:"0.0.1"}],version:"5.20.1",integrations:["InboundFilters","FunctionToString","TryCatch","Breadcrumbs","UserAgent"]},request:{url:mi.location.href,headers:{"User-Agent":mi.navigator.userAgent}},extra:{arguments:[]}},vi=e=>{const t=new URL(e);return`${t.origin}/api${t.pathname}/store/?sentry_key=${t.username}&sentry_version=7`},bi=()=>Math.floor(Math.random()*Math.floor(16)).toString(16),wi=()=>"performance"in mi?(mi.performance.timeOrigin+mi.performance.now())/1e3:Date.now()/1e3,_i=e=>{var t;return Boolean(null===(t=null==gi?void 0:gi.allowUrls)||void 0===t?void 0:t.find((t=>e.filename.match(t))))},Si=e=>{void 0!==gi?Qn(gi.apiURL,e)||Je.error("Sentry send failed"):Je.warn("Error ignored because Sentry is not yet configured")},Ei={environment:"production",ignoreErrors:[],denyUrls:[],debug:!1};let xi=!1;const ki={},Pi={setTag:(e,t)=>{ki[e]=t}},Ti=[],Oi=e=>({colno:e.columnNumber,filename:e.fileName,function:"undefined"===e.functionName?"?":e.functionName,lineno:e.lineNumber,in_app:!0});let Ai=!0;const Ii=["LinkedErrors","GlobalHandlers"],ji=({type:e,stacktrace:t})=>"error"===e.toLowerCase()&&t&&0!==t.length;(e=>{if(!("dsn"in e))throw new Error("You must provide a DSN to the Sentry init");if(!("release"in e))throw new Error("You must provide a release version to the Sentry init");gi=Object.assign(Object.assign(Object.assign({},Ei),e),{apiURL:vi(e.dsn)}),(()=>{const e=Math.random()<.01,t=Fn("force_sentry");xi=e||t})()})({dsn:"https://899032cf20894ca3ac193916e76d1ff5@o362810.ingest.sentry.io/5227073",environment:"production",debug:!1,release:"bordeaux@5.6.0",denyUrls:[/preview\.vanilla\.tools/i,/connect\.goog/i,/file:\/\//i,/futureplc\.engineering/i],allowUrls:[/^https?:\/\/bordeaux\.futurecdn\.net\/bordeaux\.js/,/^https?:\/\/c\.amazon-adsystem\.com\/aax2\/apstag\.js/,/^https?:\/\/securepubads\.g\.doubleclick.net\/tag\/js\/gpt\.js/,/^https?:\/\/cdn\.adsafeprotected\.com\/iasPET\.1\.js/,/^https?:\/\/js-sec\.indexww\.com\/ht\/p/],beforeSend:e=>{if(!e.exception.values.find(ji))return null;const{user:t}=e;return bt(e,["user"])},integrations:e=>e.filter((({name:e})=>!Ii.includes(e)))});const Ni=e=>{Ai&&(e=>{if(void 0===gi)return void Je.warn("Error ignored because Sentry is not yet configured");if(!xi)return;if(Boolean(null==gi?void 0:gi.denyUrls.find((e=>window.location.hostname.match(e)))))return void Je.warn("Error ignored because the page URL is denied");const t="string"==typeof e?e:e.message;if(gi.ignoreErrors.find((e=>t.includes(e))))return void Je.warn("Error ignored because it appears in ignore error list");const n=(e=>{let t,n;return"string"==typeof e?(t=e,n=[]):(t=e.message,n=hi().parse(e).map(Oi).reverse()),{type:"Error",value:t,stacktrace:{frames:n},mechanism:{handled:!0,type:"generic"}}})(e);if(gi.allowUrls&&n.stacktrace.frames.length>0&&!n.stacktrace.frames.find(_i))return void Je.warn("Error ignored because no scripts in the stack trace have an allowed URL");const r=Object.assign(Object.assign({level:"error"},yi),{event_id:Array(32).fill(0).map(bi).join(""),timestamp:wi(),environment:gi.environment,release:gi.release,tags:ki,breadcrumbs:Ti,exception:{values:[n]}});if(gi.beforeSend){const e=gi.beforeSend(r);if(!e)return void Je.warn("Error ignored because beforeSend returned null");Si(e)}else Si(r)})(e)},Ci=Ni,Ri=({message:e,category:t="ui",level:n="info"})=>{var r;void 0!==e?(r={category:t,message:e,level:n},Ti.push(Object.assign({timestamp:wi()},r))):Je.error("You must provide a message to a Sentry breadcrumb")},Di=()=>{Ai=!1};let Li,Mi;const Ui=e=>Object.assign({name:"AdServer",scriptLocation:""},e),$i=e=>wt(void 0,void 0,void 0,(function*(){return Mi=e,e.enabled?Ui({enabled:!0,success:!0}):Ui({enabled:!1,success:!1})}));class zi extends Error{}const Bi=5e3,Vi="Took too long to resolve and timed out. Threshold exceeded";let qi;const Fi=ze(),Zi="https://c.amazon-adsystem.com/aax2/apstag.js",Hi={pubID:"3032",adServer:"googletag",deals:!0,schain:{complete:1,ver:"1.0",nodes:[{asi:"futureplc.com",sid:"",hp:1}]}},Gi=e=>Object.assign({name:"Amazon",scriptLocation:Zi,config:{IABVendorId:"793",pubID:Hi.pubID,adServer:Hi.adServer,deals:Hi.deals,schain:Hi.schain}},e),Wi="https://d4el4parm0zb3.cloudfront.net/script.js";let Ji;const Qi=e=>Object.assign({name:"clean.io",scriptLocation:Wi},e),Ki=ze(),Yi="https://securepubads.g.doubleclick.net/tag/js/gpt.js",Xi=e=>Object.assign({name:"GPT",scriptLocation:Yi},e),ea=ze(),ta="https://cdn.adsafeprotected.com/iasPET.1.js",na="923193";let ra;const oa=e=>Object.assign({name:"IAS",scriptLocation:ta,config:{pubId:na}},e),ia=ze();let aa,sa;const ca=e=>Object.assign({name:"Index_Exchange",scriptLocation:aa,config:{IABVendorId:"10",id:sa.id,mode:sa.mode}},e),ua=e=>new Promise(((t,n)=>{var r;ia.googletag=ia.googletag||{cmd:[]},ia.googletag.cmd=(null===(r=ia.googletag)||void 0===r?void 0:r.cmd)||[],aa=`https://js-sec.indexww.com/ht/p/184056-${e.id}.js`;const o=ia.document.createElement("script");o.id="index-exchange-script",o.src=aa,o.async=!0,o.onload=()=>t("success"),o.onerror=e=>n(e),ia.document.body.appendChild(o)})),la=e=>{let t=!1;ia.googletag&&ia.googletag.cmd.push((()=>{t||(t=!0,"headertag"in ia&&ia.headertag?e(!0):e(!1))}))},da=ze();let pa,fa;const ha=e=>Object.assign({name:"LiveRamp",scriptLocation:pa,config:{IABVendorId:"97"}},e);let ma;const ga=()=>{const e=ze();if(ya.enabled&&e.PWT)return e.PWT.getUserIds()};let ya;const va=e=>Object.assign({name:"Pubmatic",scriptLocation:ma,config:{IABVendorId:"76",pubId:"156007",enabled:ya.enabled,profileId:ya.profileId}},e),ba=e=>new Promise(((t,n)=>{const r=ze(),o=r.location.href;let i="";if(o.indexOf("pwtv=")>0){const e=/pwtv=(.*?)(&|$)/g.exec(o);e&&e.length>=2&&e[1].length>0&&(i=`/${e[1]}`)}ma=`https://ads.pubmatic.com/AdServer/js/pwt/156007/${e.profileId}${i}/pwt.js`;const a=r.document.createElement("script");a.id="bordeaux-pubmatic",a.type="text/javascript",a.src=ma,a.async=!0,a.onload=()=>t("success"),a.onerror=e=>n(e),r.document.body.appendChild(a)}));let wa;const _a=e=>Object.assign({name:"Prebid",scriptLocation:"./entry/index",config:Object.assign({},wa)},e),Sa=e=>wt(void 0,void 0,void 0,(function*(){const{prebid:t,initialise:n}=yield o.e(750).then(o.bind(o,996));return n(e),ze().prebid=t,"success"})),Ea=(e,t)=>wt(void 0,void 0,void 0,(function*(){if(wa=e,!e.enabled)return Je.warn("Not loading Prebid API as it is not enabled"),_a({enabled:!1,success:!1});Ri({category:"apis",message:"Prebid requested"});const n=Fr.mark("Prebid requested"),r=Ro("prebid_script",1,"ThirdPartyScripts"),o=yield Promise.race([new Promise(((e,t)=>{setTimeout((()=>{t(new zi(`Pubmatic: ${Vi} [5000ms]`))}),Bi)})),Sa(t)]).catch((e=>e instanceof Error?e:new Error(JSON.stringify(e))));return o instanceof Error?(Je.warn(o),o instanceof zi?(Ri({category:"apis",message:"Prebid timeout"}),Fr.mark("Prebid timeout",n),r(null,"REQUEST_STATUS_TIMEOUT")):(Ri({category:"apis",message:"Prebid failed"}),Fr.mark("Prebid failed",n),r(null,"REQUEST_STATUS_FAILED")),_a({enabled:!0,success:!1})):(Ri({category:"apis",message:"Prebid loaded"}),Fr.mark("Prebid loaded",n),r(),_a({enabled:!0,success:!0}))}));let xa;const ka=new Promise((e=>{xa=e})),Pa={global:{sellerID:null},adServer:{enabled:!1},amazon:{enabled:!1},amClio:{enabled:!1},ias:{enabled:!1},indexExchange:{enabled:!1,id:"",mode:"standard"},liveRamp:{enabled:!1,configurationId:""},pubmatic:{enabled:!1,profileId:""},prebid:{enabled:!1,bidders:{}}};function Ta(e,t){return function(e,t,n){var r,o;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(r=1/t;n<e.length;){if(0===(o=e[n])&&1/o===r)return n;n+=1}return-1}if(t!=t){for(;n<e.length;){if("number"==typeof(o=e[n])&&o!=o)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if(bn(e[n],t))return n;n+=1}return-1}(t,e,0)>=0}const Oa=zt(Ta),Aa=()=>{const e=e=>e<=9?`0${e}`:`${e}`,t=new Date;return`${t.getFullYear()}-${e(t.getMonth()+1)}-${e(t.getDate())} ${e(t.getHours())}:${e(t.getMinutes())}:${e(t.getSeconds())}`};class Ia{constructor(){this.placement=null,this.refreshMode=null,this.location=null,this.pageTitle=null,this.personalizedAdsMode="allowed",this.gdprConsent=null,this.uspConsent=null,this.targeting=[],this.discovery=null,this.adunits=[],this.pageTemplate=null,this.segments=null,this.floorPrices=null}setPlacement(e){return this.placement=e,this}setRefreshMode(e=!1){return this.refreshMode=e,this}setLocation(e){return this.location=e,this}setPageTitle(e){return this.pageTitle=e,this}setPersonalizedAdsMode(e){return["allowed","managed","blocked"].includes(e)&&(this.personalizedAdsMode=e),this}setGdprConsent(e){return this.gdprConsent=e,this}setUSPConsent(e){return this.uspConsent=e,this}setTargeting(e){return this.targeting=e,this}setDiscovery(e){return this.discovery=e,this}setAdunits(e){return this.adunits=e,this}setPageTemplate(e){return this.pageTemplate=e,this}setSegments(e){return this.segments=e,this}setFloorPrices(e){return this.floorPrices=e,this}execute(){return wt(this,void 0,void 0,(function*(){const e=[["r",Math.round(1e3*Math.random())],["o",JSON.stringify(this.getState())],["uuid",uo()]];null!=this.discovery&&e.push(["discovery",this.discovery]);const t=`https://ads.servebom.com/ramp?${e.map((e=>e.join("="))).join("&")}`;return Promise.race([fetch(t,{credentials:"include"}).then((e=>e.json())).catch((e=>(Je.warn(`AdServer /ramp request error: ${e}`),Promise.reject(e)))),new Promise(((e,t)=>{setTimeout((()=>t(new zi("Took more than 5000ms to resolve and timed out"))),5e3)}))])}))}getState(){return{f:this.refreshMode?1:"",p:this.placement,l:this.location,rf:encodeURIComponent(fo()),tt:(e=this.pageTitle,e?e.replace(/[^a-z0-9+]+/gi," "):null),fs:0,t:Aa(),tz:(new Date).getTimezoneOffset(),r:po(),pam:this.personalizedAdsMode,gdprConsent:this.gdprConsent,ccpa:this.uspConsent,g:this.targeting,a:this.adunits,ex:[],identities:ga(),tpl:this.pageTemplate,seg:this.segments,fp:this.floorPrices};var e}}var ja=o(149),Na=o.n(ja),Ca=o(409),Ra=o.n(Ca);const Da=Na().extend(Ra()),La=ze();let Ma;const Ua=()=>Ma,$a=ze(),za=new Map,Ba=[[5,5],[15,3]],Va=(e,t)=>{let n=[];const r=t.getProperty("mode"),o=t.getProperty("gptInput");if("oop"===r?n=[[1,1]]:o.sizes&&(n=o.sizes.reduce(((e,t)=>Oa(t,Ba)?e:[...e,t]),[])),!n.length)return e;const i=t.getProperty("id");if(void 0===i)return Je.error("Error fetching AdServer bids, id is undefined"),e;const a={s:t.getProperty("adUnitPath"),z:n,d:i};return e.concat([a])};$a.tmntag_triggerEvent=function(e,t={}){let n=Object.entries(t).filter((([,e])=>"string"!=typeof e||0!==e.indexOf("$"))).map((([e,t])=>`${e}=${t}`)).join("&");n=`t=${e}&r=${Math.floor(11e3*Math.random())}&${n}`,"CP"===e&&t&&t.ts&&-1===t.ts.indexOf("$")&&(n+="&tm_alt="+(Date.now()-Number(t.ts)));const r=co.document.createElement("script");r.src=`//ads2.servebom.com/event.js?${n}`;const o=co.document.getElementsByTagName("script")[0];o&&o.parentNode&&o.parentNode.insertBefore(r,o)},$a.tmntag_render=(e,t)=>{const n=za.get(t);if(!n)return;if(!n.adm)return;const r=n.adm.replace(/'\r\n|\r|\n/gm,""),o=n.size?n.size.w:1,i=n.size?n.size.h:1,a={ad:r,bidder:`purch_${n.bidder.name}`,size:`${o}x${i}`,cpm:n.price};e.write(a.ad),e.close();const s=$a.googletag&&$a.googletag.pubads().getSlots().find((e=>e&&n.divid===e.getSlotElementId()));s&&s.setTargeting("_bd","none"),za.delete(t),((e,{width:t,height:n})=>{if(e.defaultView&&e.defaultView.frameElement){const r=`${t}px`,o=`${n}px`;Da.mutate((function(){if(!e.defaultView)return;const{frameElement:t}=e.defaultView;t.width=r,t.height=o,window.self&&window.top!==window.self&&window.self.frameElement&&(window.self.frameElement.width=r,window.self.frameElement.height=o)}))}})(e,{width:o,height:i})};const qa=ze(),Fa=[[970,250],[970,90],[728,90],[336,280],[320,100],[320,50],[300,600],[300,250],[300,50],[160,600],[120,600]],Za=(e,t)=>{const n=t.getProperty("mode");if("oop"===n)return e;if("interstitial"===n)return e;const r=t.getProperty("id");if(void 0===r)return Je.error("Error fetching Amazon bids, id is undefined"),e;const o=t.getProperty("gptInput"),i=t.getProperty("name");if(void 0===o||void 0===o.sizes)return Je.error(`Error fetching Amazon bids, GPTInput or GPTInput sizes are undefined ${i}`),e;const{sizes:a}=o,s=a.filter((e=>{let t=!1;return Fa.forEach((n=>{e[0]===n[0]&&e[1]===n[1]&&(t=!0)})),t}));return 0===s.length?e:e.concat([{slotID:r,slotName:t.getProperty("adUnitPath"),sizes:s}])},Ha=ze(),Ga=[1,1],Wa=ze(),Ja={ix:{sizes:(e,t)=>Ya(t.getProperty("gptInput").sizes)}},Qa=e=>"function"==typeof e,Ka=e=>"string"!=typeof e&&Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1],Ya=e=>e&&e.length?e.filter(Ka):[],Xa=(e,t)=>n=>e[n].filter((({sizes:e})=>"all"===e||Ya(t.getProperty("gptInput").sizes).some((([t,n])=>e.some((([e,r])=>t===e&&n===r)))))).map((e=>({bidder:n,params:Object.assign(Object.assign({},Ja[n]?Object.fromEntries(Object.entries(Ja[n]||{}).map((([n,r])=>[n,Qa(r)?r(e.params,t):r]))):{}),e.params)}))),es=(e,t)=>wt(void 0,void 0,void 0,(function*(){var n,r,o,i,a,s,c,u;const l=yield wt(void 0,void 0,void 0,(function*(){return(yield ka).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.name]:t})),{})})),d=(()=>{const e={desktop:3e3,tablet:3e3,mobile:3e3},t=Li,{device:n}=io();return t&&t[n]?t[n]:e[n]?e[n]:3e3})(),p=[];return(null===(n=l.Prebid)||void 0===n?void 0:n.enabled)&&(null===(r=l.Prebid)||void 0===r?void 0:r.success)&&p.push(((e,t,n,r)=>new Promise((o=>{const{prebid:i}=Wa;if(!i)return void o("Error, missing prebid");Ri({category:"script",message:"Prebid requested"});const a=Fr.mark("Prebid requested"),s=Ro("prebid",r,"PartnerRequest");let c=!1;const u=e=>{c=!0,o(e)},l=()=>{Ri({category:"script",message:"Prebid timeout"}),Fr.mark("Prebid timeout",a),s(null,"REQUEST_STATUS_TIMEOUT"),u("Timeout")};setTimeout((()=>{c||l()}),n);const d=t.map((t=>{const n=Ya(t.getProperty("gptInput").sizes);return{code:t.getProperty("adUnitPath"),sizes:n,mediaTypes:{banner:{sizes:n}},bids:[].concat(...Object.keys(e).map(Xa(e,t)))}}));i.addAdUnits(d),i.requestBids({timeout:n,bidsBackHandler:(e,t)=>{if(c)return;const n=Object.keys(e);t&&0===n.length?l():(i.setTargetingForGPTAsync(n),Ri({category:"script",message:"Prebid response"}),Fr.mark("Prebid response",a),s(),u("Complete"))}})})))(l.Prebid.config.bidders,e,d,t)),(null===(o=l.AdServer)||void 0===o?void 0:o.enabled)&&(null===(i=l.AdServer)||void 0===i?void 0:i.success)&&p.push(((e,t,n)=>{Ri({category:"script",message:"AdServer requested"});const r=Fr.mark("AdServer requested"),o=Ro("hybrid",n,"PartnerRequest");let i;const a=new Promise((e=>{i=e}));return setTimeout((()=>{null!==i&&(i("Timeout"),i=null,Ri({category:"script",message:"AdServer timeout"}),Fr.mark("AdServer timeout",r),o(null,"REQUEST_STATUS_TIMEOUT"))}),t),((e,t)=>{wt(void 0,void 0,void 0,(function*(){var n,r,o;const[{consent:i},{consent:a}]=yield Promise.all([Uo(),$o()]),s=yield new Promise((e=>{try{e(JSON.parse(La.localStorage._pdfps||"[]").slice(0,100))}catch(t){e(null)}})),c=!i||i.gdprApplies,u=(null==i?void 0:i.tcString)||null,l=(null==a?void 0:a.uspString)||null,d=null!==(r=null===(n=e[0])||void 0===n?void 0:n.getProperty("floorPrices"))&&void 0!==r?r:null,p=e.reduce(Va,[]);0!==p.length?(new Ia).setLocation(encodeURIComponent($a.location.toString().replace("%",""))).setPageTitle(encodeURIComponent(document.title)).setPersonalizedAdsMode(c?"managed":"allowed").setGdprConsent(u).setUSPConsent(l).setAdunits(p).setPageTemplate(null!==(o=Ua())&&void 0!==o?o:null).setSegments(s?s.toString():"").setFloorPrices(d).execute().then((e=>{!function(e){if(!e)return;const t=$a.googletag&&$a.googletag.pubads().getSlots();t&&t.forEach((t=>{const n=t.getSlotElementId(),r=e.find((e=>e.divid===n));r&&"1"!==r.bidder.bdrid&&(t.setTargeting("adunit",r.divid),t.setTargeting("_bd","bid"),t.setTargeting("_cp",r.price),t.setTargeting("_pl",r.price_level),t.setTargeting("_br",r.bidder.reportid),t.setTargeting("_wb",r.id),t.setTargeting("_sz",r.size_code),t.setTargeting("_bn",r.bidder.name),t.setTargeting("_bi",r.bidder.bdrid),r.dealid&&t.setTargeting("_pdid",r.dealid),za.set(n,r))}))}(e.bids),(e=>{const{googletag:t}=$a;e&&t&&(Object.entries(e).forEach((([e,n])=>{t.pubads().setTargeting(e,n.toString())})),t.pubads().setTargeting("_chnl","WEB"))})(e.targeting)})).catch((e=>{Je.error(`Error parsing AdServer bids and targeting: ${e}`)})).finally((()=>{t()})):t()}))})(e,(()=>{null!==i&&(i("Complete"),i=null,Ri({category:"script",message:"AdServer response"}),Fr.mark("AdServer response",r),o())})),a})(e,d,t)),(null===(a=l.Amazon)||void 0===a?void 0:a.enabled)&&(null===(s=l.Amazon)||void 0===s?void 0:s.success)&&p.push(((e,t,n)=>{const{apstag:r}=qa;if(!r)return Promise.resolve("Error");Ri({category:"script",message:"Amazon requested"});const o=Fr.mark("Amazon requested"),i=Ro("amazon",n,"PartnerRequest"),a={slots:e.reduce(Za,[])};if(0===a.slots.length)return Promise.resolve("No slots to bid on");let s;const c=new Promise((e=>{s=e}));return setTimeout((()=>{null!==s&&(s("Timeout"),s=null,Ri({category:"script",message:"Amazon timeout"}),Fr.mark("Amazon timeout",o),i(null,"REQUEST_STATUS_TIMEOUT"))}),t),r.fetchBids(a,(()=>{r.setDisplayBids(),null!==s&&(s("Complete"),s=null,Ri({category:"script",message:"Amazon response"}),Fr.mark("Amazon response",o),i())})),c})(e,d,t)),(null===(c=l.IAS)||void 0===c?void 0:c.enabled)&&(null===(u=l.IAS)||void 0===u?void 0:u.success)&&p.push(((e,t,n)=>{const{__iasPET:r}=Ha;if(!r)return Promise.resolve("Error");Ri({category:"script",message:"IAS requested"});const o=Fr.mark("IAS requested"),i=Ro("ias",n,"PartnerRequest"),a=[];let s;e.forEach((e=>{const t=e.getProperty("id");if(void 0===t)return void Je.error("Error fetching IAS bids, id is undefined");const n=e.getProperty("gptInput");if(void 0===n)return void Je.error("Error fetching IAS bids, adGPTInput is undefined");const r=n.sizes?n.sizes.filter((e=>"string"!=typeof e&&e.length>1)):[Ga];a.push({adSlotId:t,size:r,adUnitPath:e.getProperty("adUnitPath")})}));const c=new Promise((e=>{s=e})),u=setTimeout((()=>{null!==s&&(s("Timeout"),s=null,Ri({category:"script",message:"IAS timeout"}),Fr.mark("IAS timeout",o),i(null,"REQUEST_STATUS_TIMEOUT"))}),t);return r.queue.push({adSlots:a,dataHandler:()=>{clearTimeout(u),r.setTargetingForGPT(),null!==s&&(s("Complete"),s=null,Ri({category:"script",message:"IAS response"}),Fr.mark("IAS response",o),i())}}),c})(e,d,t)),Promise.all(p)})),ts=new Map,ns=ze();let rs,os=0;const is=e=>{const t=e.slot.getSlotElementId(),n=rs.getValues().find((e=>e.getProperty("id")===t));n&&n.update({inView:e.inViewPercentage>=50})},as=e=>{const t=e.slot.getSlotElementId(),n=rs.getValues().find((e=>e.getProperty("id")===t));if(n)if(Ri({category:"advert",message:`Ad slotRenderEnded - ${n.getProperty("name")}`}),Fr.mark(`Ad slotRenderEnded - ${n.getProperty("name")}`),void 0!==n.getProperty("id")){if(e.isEmpty){if(void 0===ts.get(n.getProperty("id")||""))return void Je.error("Error handling GPT slot render ended (undelivered), GPT slot is undefined.");n.update({status:"undelivered"})}else{const t={isEmpty:e.isEmpty,size:e.size,advertiser:e.advertiserId||-1,campaign:e.campaignId||-1,lineItem:e.lineItemId||-1,creative:e.creativeId||-1,creativeTemplate:"",gptSlot:e.slot},r=ns.performance.now(),o=r-(n.getProperty("fetchTime")||0);n.update({status:"delivered",canRefresh:xt(n),loadTime:r,loadDuration:o,gptOutput:t});const i=n.getProperty("label")?(e=>{const t=e.getProperty("element"),n=e.getProperty("label");if(!t||!n||Wo(n))return null;const r=(e=>{const t=Jo.document.createElement("div");return Object.assign(t.style,e),t})(Zo(n.style||Qo));return r.id=`${t.id}-label`,r.textContent=n.text||"Advertisement",r})(n):null,a=n.getProperty("element");i&&a&&a.insertBefore(i,a.firstChild)}Ct()}else Je.error("Error handling GPT slot render ended, id is undefined.")},ss=e=>{const t=e.slot.getSlotElementId(),n=rs.getValues().find((e=>e.getProperty("id")===t));if(!n)return;if(Ri({category:"advert",message:`Ad slotOnLoad - ${n.getProperty("name")}`}),Fr.mark(`Ad slotOnLoad - ${n.getProperty("name")}`),void 0===n.getProperty("id"))return void Je.error("Error handling GPT slot loaded, id is undefined.");const r=n.getProperty("onLoad");r&&r()},cs=e=>{const t=e.slot.getSlotElementId(),n=rs.getValues().find((e=>e.getProperty("id")===t));n&&n.update({viewed:!0,status:"viewed"})},us=e=>wt(void 0,void 0,void 0,(function*(){if(0===e.length)return Je.error("Called GAM API fetch with no ads."),Promise.resolve();const{googletag:t}=ns;if(!t)return Je.error("googletag is unavailable, unable to fetch."),Promise.resolve();const n=e.map((e=>e.getProperty("name")));Ri({category:"script",message:`Ad fetch - ${n}`}),Fr.mark(`Ad fetch - ${n}`);const r=++os,o=Ro("auction",r,"Auction"),i=Ro("ad_load",r,"AdRequest");e.forEach((e=>{e.update({onLoad:i,fetchTime:ns.performance.now()}),(e=>{const{googletag:t}=ns;if(!t)return Je.error("googletag is unavailable, unable to define slot."),null;const n=e.getProperty("id"),r=e.getProperty("gptInput"),o=e.getProperty("mode"),i=e.getProperty("name"),a=e.getProperty("adUnitPath"),s="oop"===o,c="interstitial"===o,u=s?[[1,1]]:r.sizes;let l=null;try{if(s)l=t.defineOutOfPageSlot(a,n);else if(c)l=t.defineOutOfPageSlot(a,t.enums.OutOfPageFormat.INTERSTITIAL);else{if(void 0===u)throw new Error("Error defining GPT slot, sizes are undefined.");l=t.defineSlot(a,u,n)}}catch(e){return e instanceof Error&&Je.error(`Error defining GPT slot. ${e.toString()}`),null}if(null===l)return Je.error(`Unable to define GPT slot. advert: ${i}, adUnitPath: ${a}`),null;Object.keys(r.targeting).forEach((e=>{null!==l&&l.setTargeting(e,r.targeting[e])})),l.addService(t.pubads()),c||t.display(n);const d=e.getProperty("id");void 0===d?Je.error("Fetch error, ad ID is undefined"):(l.setTargeting("auctionId",os.toString()),ts.set(d,l))})(e)}));const a=yield pi();Object.keys(a).forEach((e=>{t.pubads().setTargeting(e,a[e])})),Ri({category:"script",message:`Ad third party requests - ${n}`});const s=Fr.mark(`Ad third party requests - ${n}`);return es(e,r).then((()=>{Ri({category:"script",message:`Ad third party responses - ${n}`}),o(),Fr.mark(`Ad third party responses - ${n}`,s);const r=e.map((e=>{const t=e.getProperty("id");if(void 0!==t)return ts.get(t)})).filter((e=>void 0!==e));t.pubads().refresh(r,{changeCorrelator:!1}),Ri({category:"script",message:`Ad GAM request - ${n}`}),Fr.mark(`Ad GAM request - ${n}`)})).catch((e=>{Je.error("GAM API fetch error: ",e)}))})),ls=e=>wt(void 0,void 0,void 0,(function*(){if(0===e.length)return Je.error("Called GAM API refresh with no ads."),Promise.resolve();const t=e.map((e=>e.getProperty("name")));return Ri({category:"script",message:`GAM API refresh - ${t}`}),Fr.mark(`GAM API refresh - ${t}`),(n=e.map((e=>e.getProperty("id"))).filter((e=>void 0!==e||(Je.error("GAM API refresh error, id is undefined."),!1))),wt(void 0,void 0,void 0,(function*(){const{googletag:e}=ns;return e?(n.forEach((t=>{const n=ts.get(t);void 0!==n&&e.destroySlots([n])})),Promise.resolve()):(Je.error("googletag is unavailable, unable to destroy."),Promise.resolve())}))).then((()=>us(e)));var n}));let ds=1200;const ps=ze(),fs=(...e)=>{try{for(const t of e){const e=t;if("string"==typeof e){const t=ps.document.querySelector(e);if(t)return t.bordeauxHookSelector=e,t}else if("object"==typeof e&&e.selector&&"number"==typeof e.position&&e.position>0){const t=ps.document.querySelectorAll(e.selector)[e.position-1];if(t)return t.bordeauxHookSelector=e.selector,t.bordeauxHookSelectorPosition=e.position,t}}return null}catch(e){return Je.error("Error while selecting DOM element",e),null}};var hs=o(897),ms=o.n(hs);const gs=new Map,ys=new Map,vs=ze(),bs=(e,t=0)=>{var n,r;return e.boundingClientRect.bottom<((null===(n=e.rootBounds)||void 0===n?void 0:n.top)||0)+t?-1:e.boundingClientRect.y>((null===(r=e.rootBounds)||void 0===r?void 0:r.bottom)||0)-t?1:0};function ws(e){return ys.has(e)?ys.get(e):ys.set(e,ms()(IntersectionObserver,{rootMargin:`${e}px 0px ${e}px 0px`,threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})).get(e)}function _s(e){const{top:t,bottom:n,left:r,right:o}=e.boundingClientRect,i=Math.floor(vs.scrollX),a=Math.floor(vs.scrollY);return{top:Math.floor(t)+a,bottom:Math.floor(n)+a,left:Math.floor(r)+i,right:Math.floor(o)+i}}const Ss=()=>{};const Es=function(e=null,t=[],n=0,r={}){const{onChange:o=Ss,onBufferEnter:i=Ss,onBufferLeave:a=Ss,onContentsEnter:s=Ss,onContentsLeave:c=Ss}=r;(function(e){return"function"==typeof e.item&&e.length>0?Array.from(e):Array.isArray(e)?e:[e]})(t).forEach(((t,r)=>{if(void 0!==t.dataset.featRef)return;const u=`bordeaux-feat-id-${Dt()}`;gs.set(u,{index:r,category:e,coverage:0,ratio:0,position:0,top:0,bottom:0,left:0,right:0,buffer:n,testing:0,contentUnobserve:Ss,lastGeneralUpdate:0,lastContentUpdate:0}),t.setAttribute("data-feat-ref",u),ws(n)(t,(e=>{Da.measure((()=>{!function(e,t=Ss,n=Ss,r=Ss,o=Ss,i=Ss){const a=e.target.getAttribute("data-feat-ref");if(null===a)return;const s=gs.get(a);if(void 0===s)return;if(e.time<s.lastGeneralUpdate)return;const c=_s(e),u=Object.assign(Object.assign(Object.assign({},s),c),{position:bs(e,s.buffer),ratio:Math.ceil(e.intersectionRatio)});u.ratio!==s.ratio?(t(e.target,u,u.index),0===s.ratio&&n(e.target,u,u.index),0===u.ratio&&r(e.target,u,u.index),0===s.ratio&&0!==u.buffer&&(u.contentUnobserve=ws(0)(e.target,(e=>{!function(e,t,n,r){const o=e.target.getAttribute("data-feat-ref");if(null===o)return;const i=gs.get(o);if(void 0===i)return;if(e.time<i.lastContentUpdate)return;const a=Math.ceil(e.intersectionRatio);if(i.coverage===a)return;const s=_s(e),c=Object.assign(Object.assign(Object.assign({},i),s),{position:bs(e),coverage:a,lastContentUpdate:e.time});c.coverage!==i.coverage&&"function"==typeof t&&t(e.target,c,i.index),0!==c.coverage&&0===i.coverage&&"function"==typeof n&&n(e.target,c,c.index),0===c.coverage&&0!==i.coverage&&"function"==typeof r&&r(e.target,c,c.index),gs.set(o,c)}(e,t,o,i)}))),0===u.ratio&&0!==u.buffer&&s.contentUnobserve(),0===s.buffer&&0===s.ratio&&o(e.target,u,u.index),0===s.buffer&&0===u.ratio&&i(e.target,u,u.index),gs.set(a,Object.assign(Object.assign({},u),{lastGeneralUpdate:e.time}))):gs.set(a,Object.assign(Object.assign({},u),{lastGeneralUpdate:e.time}))}(e,o,i,a,s,c)}))}))}))};let xs,ks,Ps;const Ts=new Promise((e=>{Ps=e})),Os=ze(),As=e=>{try{const t=Array.from(Os.document.querySelectorAll(e));return t.forEach((t=>{t.bordeauxHookSelector=e})),t}catch(e){return Je.error("Error while selecting DOM elements",e),[]}},Is=ze(),js=[{selector:"#sidebar",minHeight:3e3,devices:[nr]},{selector:".article__sidebar .van_vid_carousel.vid-present",minHeight:0,devices:[nr]},{selector:"#archives-filter-sidebar",minHeight:3e3,devices:[nr]},{selector:".body.progressive .van_taboola",minHeight:0,devices:[nr]},{selector:".listing--related .listing__title",minHeight:30,devices:[nr]},{selector:".listing--related .listing__item",minHeight:330,devices:[nr]},{selector:".article-bottom",minHeight:3500,devices:[nr]},{selector:".author--article-page",minHeight:60,devices:[nr]},{selector:".slice-author-bio",minHeight:60,devices:[nr]}],Ns={};let Cs,Rs,Ds,Ls=!1;const Ms=(e,t)=>wt(void 0,void 0,void 0,(function*(){e.update({slotID:t.getProperty("id")});const n=e.getProperty("gptInput");e.update({gptInput:Object.assign(Object.assign({},n),{targeting:Object.assign(Object.assign({},n.targeting),{_slot:t.getProperty("name"),_slot_type:t.getProperty("genericName")||t.getProperty("name")})})}),t.update({adID:e.getProperty("id")});const r=[],o=e.getProperty("onMount");if(void 0!==o){const e=o(t);r.push(e)}const i=t.getProperty("onMount");if(void 0!==i){const t=i(e);r.push(t)}yield Promise.all(r);const a=t.getProperty("element");if(a){const e=ze(),n=a.getBoundingClientRect();zs(t,{top:n.top+e.scrollY,bottom:n.bottom,left:n.left,right:n.right})}})),Us=e=>{if(void 0!==e.getProperty("adID"))return;if(!(e=>{const t=e.getProperty("additionalAvoidance");if(!t||0===t.length)return!0;let n=!0;return t.forEach((t=>{const r=e.getProperty("coordinates"),o=r.top<t.coordinates.top;o&&r.top+ks>=t.coordinates.top&&(n=!1),!o&&t.coordinates.top+t.coordinates.height+ks>=r.top&&(n=!1)})),n})(e))return;if(!e.getProperty("ignoreExclusion")&&(e=>{let t=!1;return Object.values(Ns).forEach((n=>{const r=e.getProperty("coordinates");void 0!==r&&(n.top<=r.top&&n.bottom>=r.bottom||n.top<=r.bottom&&n.top>=r.top||n.bottom>=r.top&&n.bottom<=r.bottom)&&(t=!0)})),t})(e))return;const t=[...Rs.getValues()].reduce((e=>(t,n)=>{if(void 0!==e.getProperty("adID")||void 0!==n.getProperty("slotID"))return t;if("slotify"!==n.getProperty("mode"))return t;const r=e.getProperty("adCategoryAllowList"),o=n.getProperty("category");if(void 0!==r&&0!==r.length&&(void 0===o||!r.includes(o)))return t;if(e.getProperty("fluid")&&n.getProperty("fluid"))return t||n;const i=n.getProperty("width")||0,a=n.getProperty("height")||0,s=e.getProperty("width")||0,c=e.getProperty("height")||0;return i>s||a>c||null!==t&&(t.getProperty("width")||1)>=i?t:n.getProperty("ignoreCategoryAvoidance")||((e,t,n,r)=>{const o=[];r.getValues().forEach((t=>{if(void 0===t.getProperty("adID"))return;const r=n.getValues().find((e=>e.getProperty("id")===t.getProperty("adID")));if(void 0===r)return;r.getProperty("category")===e.getProperty("category")&&o.push({slot:t,distance:ks});const i=e.getProperty("categoryAvoidanceRules");i&&(i.ads||i.tiles)&&(i.ads||i.tiles||[]).forEach((e=>{r.getProperty("category")===e.category&&o.push({slot:t,distance:e.distance})}))}));let i=!0;return o.forEach((e=>{const n=e.slot.getProperty("coordinates"),r=t.getProperty("coordinates");if(void 0===n||void 0===r)return;const o=r.top<n.top,a=t.getProperty("label"),s=(t.getProperty("height")||0)+(!a||Wo(a)?0:30)+e.distance,c=e.slot.getProperty("label"),u=(e.slot.getProperty("height")||0)+(!c||Wo(c)?0:30)+e.distance;o&&r.top+s>=n.top&&(i=!1),!o&&n.top+u>=r.top&&(i=!1)})),i})(n,e,Rs,Cs)?n:t})(e),null);null!==t&&(Ms(t,e),Ds(t))},$s=(e,t)=>{const n=ze();return{top:e.top+n.scrollY,bottom:e.bottom,left:e.left,right:e.right,height:t}},zs=(e,t)=>{const n=e.getProperty("width")||0,r=e.getProperty("height")||0,o=e.getProperty("label"),i={top:t.top,bottom:t.top+(r||0)+(!o||Wo(o)?0:30),left:t.left,right:t.right+(n||0)};e.update({coordinates:i})},Bs=e=>{const t=e.getProperty("element");if(null==t)return;Es("slotify",t,ds,{onChange:(t,n)=>{zs(e,n)},onBufferEnter:(t,n)=>{zs(e,n),-1!==n.position&&Us(e)},onBufferLeave:()=>{},onContentsEnter:(t,n)=>{zs(e,n),-1!==n.position&&Us(e)},onContentsLeave:()=>{}})},Vs=e=>{Fr.mark("Slotify start incremental handling"),Ds=e,(()=>{let e=0;const t=ir();js.filter((({devices:e=[]})=>e.includes(t))).forEach((({selector:t,minHeight:n})=>{const r=As(t);0!==r.length&&r.forEach((t=>{const r=((e,t,n)=>()=>{Da.measure((()=>{const{top:r,height:o}=t.getBoundingClientRect(),i=Is.scrollY,a={top:Math.floor(r+i),bottom:Math.floor(Math.max(r+i+n,r+i+o))};Ns[e]=a}))})(e,t,n);new MutationObserver(r).observe(t,{attributes:!0,childList:!0,subtree:!0}),e+=1,r()}))}))})(),Cs.getValues().forEach((e=>{void 0!==e.getProperty("id")&&Bs(e)})),Ls=!0},qs=(e,t,n)=>{((e=400)=>{const t=xs;if(t){const{device:e}=io();ks=t[e]}else ks=e;Ps(ks)})(e),Rs=t,Cs=n},Fs=(e,t)=>{const n=e.getProperty("hook");if(null==n||null==t)throw new Error("Error in add slot handler, slot hook or element is undefined");switch(e.getProperty("position")){case"before":if(null===n.parentNode)throw new Error(`No parent node of hook for ${e.getProperty("name")}`);return void n.parentNode.insertBefore(t,n);case"after":if(null===n.parentNode)throw new Error(`No parent node of hook for ${e.getProperty("name")}`);return void n.parentNode.insertBefore(t,n.nextSibling);case"prepend":return void n.insertBefore(t,n.firstElementChild);default:n.appendChild(t)}},Zs=ze(),Hs=new Map,Gs=e=>{const t=Zs.document.createElement("div");return Object.assign(t.style,e),t},Ws=e=>new Promise((t=>{if(void 0===e.getProperty("id"))return void Je.error(`Add slot handler error - no id set: ${JSON.stringify(e,null,2)}`);const n=Gs({display:"flex",flexDirection:"column",margin:"auto"});n.id=e.getProperty("id")||"",n.classList.add("bordeaux-slot"),e.update({onMount:t=>wt(void 0,void 0,void 0,(function*(){var n;const r=t.getProperty("id"),o=e.getProperty("id"),i=e.getProperty("element");if(void 0===o||void 0===r||null==i)throw new Error("Error in add slot on mount handler, slot or ad id is undefined");const a=e.getProperty("label"),s=(null==a?void 0:a.applyLabelToAds)&&"true"===a.applyLabelToAds;s&&t.update({label:a});const c=!a||Wo(a)||s?null:Gs(Zo((null==a?void 0:a.style)||Qo));var u,l;u=i,l=((e,t,n)=>{const r=e.getProperty("width"),o=e.getProperty("height"),i=e.getProperty("type"),a=e.getProperty("style");return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r?{width:`${r}px`}:{}),o?{height:`${o+parseInt(t,10)}px`}:{}),i===qo(Bo)||i===qo(Vo)?{float:i===qo(Bo)?Bo:Vo}:{}),i===qo("left_right")?{float:n%2!=0?Bo:Vo}:{}),a||{})})(e,(null==c?void 0:c.style.height)||"0",(e=>{let t=0;return e&&(void 0!==Hs.get(e)&&(t=(Hs.get(e)||0)+1),Hs.set(e,t)),t})(e.getProperty("genericName"))),Object.assign(u.style,l);const d=t.getProperty("element");if(void 0===t||null==d)throw new Error("Error in add slot on mount mutate handler, ad data is undefined");i.classList.add("bordeaux-filled-slot"),i.ariaHidden="true",i.appendChild(d),c&&!s&&(c.id=`${o}-label`,c.textContent=(null==a?void 0:a.text)||"Advertisement","above"===(null==a?void 0:a.position)&&i.insertBefore(c,i.firstChild),"below"===(null==a?void 0:a.position)&&(c.style.zIndex="0",i.style.justifyContent="space-between",null===(n=i.lastChild)||void 0===n||n.after(c)))})),element:n}),Da.mutate((()=>{Fs(e,n),(e=>{void 0!==e.getProperty("id")&&(e.getProperty("additionalAvoidance")&&(e=>{const t=e.getProperty("additionalAvoidance");t&&t.forEach((e=>{const t=fs(e.hook);null!==t&&(e.coordinates=$s(t.getBoundingClientRect(),t.clientHeight),new MutationObserver((n=>{n.forEach((()=>{e.coordinates=$s(t.getBoundingClientRect(),t.clientHeight)}))})).observe(t,{attributes:!0,childList:!0,subtree:!0}))}))})(e),Ls&&Bs(e))})(e)})).then((()=>{t(e)})).catch((n=>{n instanceof Error&&Je.error(n.message),t(e)}))})),Js=e=>"%"===e.slice(-1),Qs=e=>"px"===e.slice(-2),Ks=(e,t)=>wt(void 0,void 0,void 0,(function*(){const n=Qs(t),r=Js(t);if(n)return Number(t.slice(0,-2)||0);if(r){const n=yield e.getWidth();return Math.round(Number(t.slice(0,-1))*n/100)}return 0})),Ys=(e,t)=>wt(void 0,void 0,void 0,(function*(){const n=yield(e=>wt(void 0,void 0,void 0,(function*(){const t=ze().document.createElement("div");t.classList.add("bordeaux-generated-container");const n=e.getProperty("generatedContainerStyle");return n&&Object.assign(t.style,n),yield Da.mutate((()=>Fs(e,t))),t})))(e),r=yield((e,t)=>wt(void 0,void 0,void 0,(function*(){const n=yield((e,t)=>wt(void 0,void 0,void 0,(function*(){const n=e.getProperty("generatedSlotsConfig"),r=e.getProperty("generatedSpacerStyle"),o=e.getProperty("generatedContainerStyle");if(!n)return Je.error("Attempted to calculate the number of slots for a non-generative slot definition. This may be a configuration error."),{count:1};if(n.minimumSlots===n.maximumSlots)return{count:n.maximumSlots};const i=((e,t)=>{let n=null;const r=()=>wt(void 0,void 0,void 0,(function*(){return n||(n=yield Da.measure((()=>t.getBoundingClientRect()))),n}));return{getWidth:()=>wt(void 0,void 0,void 0,(function*(){const t=e.getProperty("generatedContainerStyle");return Qs((null==t?void 0:t.width)||"")?Number(((null==t?void 0:t.width)||"").slice(0,-2)||0):(yield r()).width})),getHeight:()=>wt(void 0,void 0,void 0,(function*(){return(yield r()).height})),getTop:()=>wt(void 0,void 0,void 0,(function*(){return(yield r()).top}))}})(e,t),a=yield((e,t,n)=>wt(void 0,void 0,void 0,(function*(){if(void 0!==n){const e=ze();let r;try{r=document.querySelectorAll(n)}catch(e){Je.error("Error executing end selector for generated slot.")}const[o,i]=yield Promise.all([t.getTop(),Da.measure((()=>({stop:[...r||[]].map((e=>e.getBoundingClientRect())),documentHeight:Math.max(e.document.body.clientHeight,e.document.body.scrollHeight,e.document.body.offsetHeight,e.document.documentElement.clientHeight,e.document.documentElement.scrollHeight,e.document.documentElement.offsetHeight)-e.scrollY})))]),a=i.stop.filter((e=>e.top>o)),s=Math.min(i.documentHeight,...a.map((e=>e.top)));return Math.max(0,s-o)}return Qs(e.height||"")?Number((e.height||"").slice(0,-2)||0):t.getHeight()})))(o||{},i,n.endSelector),s=yield((e,t,n)=>wt(void 0,void 0,void 0,(function*(){if(void 0!==n)return{top:0,bottom:n};const r=(e=>{const t=e.marginTop||e["margin-top"]||"",n=e.marginBottom||e["margin-bottom"]||"",r=(e.margin||"").split(/\s+/);return{top:t||r[0]||"",bottom:n||(r.length>2?r[2]:r[0])||""}})(e||{});return{top:yield Ks(t,r.top),bottom:yield Ks(t,r.bottom)}})))(r||{},i,n.slotGap),c=e.getProperty("label"),u=yield((e,t,n,r,o)=>wt(void 0,void 0,void 0,(function*(){var i;if(void 0!==o)return o;const a=e.height||"";if(Qs(a))return Number(a.slice(0,-2)||0);if(Js(a)){const e=yield t.getHeight(),n=Number(a.slice(0,-1)||0);return Math.round(e*n/100)}const s=n.height||"";return r?Qs(s)?r+Number((null===(i=n.height)||void 0===i?void 0:i.slice(0,-2))||0):Js(s)?100*r/(100-Number(s.slice(0,-1)||0)):r:0})))(r||{},i,Wo(c)?{}:Zo((null==c?void 0:c.style)||Qo),e.getProperty("height"),n.slotHeight);return null===a?(Je.error("Attempted to calculate slot count for container with no height."),{count:1,margin:s,height:u}):{count:Math.min(n.maximumSlots||1/0,Math.max(n.minimumSlots||0,Math.floor((a-Math.min(s.top,s.bottom))/(u+Math.max(s.top,s.bottom))))),margin:s,height:u}})))(e,t),{count:r}=n,o=bt(n,["count"]),i=e.getProperty("generatedSpacerStyle"),a=Object.assign(Object.assign(Object.assign({},i),o.height?{height:`${o.height}px`}:{}),o.margin?{marginBottom:`${o.margin.bottom}px`,marginTop:`${o.margin.top}px`}:{});return e.update({generatedSpacerStyle:a}),Array(r).fill(0).map((()=>((e,t)=>wt(void 0,void 0,void 0,(function*(){const n=ze().document.createElement("div");n.classList.add("bordeaux-generated-spacer");const r=e.getProperty("generatedSpacerStyle");return r&&Object.assign(n.style,r),yield Da.mutate((()=>t.appendChild(n))),n})))(e,t)))})))(e,n);Promise.all(r).then((e=>{t(e)}))}));class Xs{constructor(e){this.value=e}update(e){Object.assign(this.value,e)}getProperty(e){return this.value[e]}}let ec=!0;const tc=e=>{ec=e};let nc=!1;const rc=[],oc=e=>e?"yes":"no",ic=(e,t=!1)=>({incremental:oc(e.getProperty("name").includes("incr")),refresh:t?"no":"yes","api-refresh":t?"yes":"no",additional:"yes"}),ac=e=>({incremental:oc(e.getProperty("name").includes("incr")),refresh:"no","api-refresh":"no",additional:oc(e.getProperty("name").includes("incr"))});let sc;let cc,uc,lc,dc,pc=!1;cc=!0,uc=!1,dc=new Promise((e=>{lc=e}));const fc=ze();let hc=!1;try{const e=Object.defineProperty({},"passive",{get(){hc=!0}});fc.addEventListener("test",null,e)}catch(e){}const mc=hc,gc=ze();let yc=!0,vc=!1,bc=!1;let wc,_c=!1,Sc=!0,Ec=!1,xc=!1;const kc=()=>{if(Ec=yc&&(vc||bc),xc=pc,!Ec||!Sc||_c||!0===xc)return;const e=[];wc.getValues().forEach((t=>{if(!0===t.getProperty("inView")){const e=t.getProperty("viewedTime");t.update({viewedTime:e?e+1:1})}if(void 0===t.getProperty("refresh"))return;const n=t.getProperty("viewedTime"),r=t.getProperty("refresh")||Number.POSITIVE_INFINITY;if(!0===t.getProperty("canRefresh")&&(n||0)>=r){const n=t.getProperty("gptInput");n.targeting=Object.assign(n.targeting,ic(t,!1)),t.update({gptInput:n,inView:!1,viewedTime:0}),e.push(t)}})),e.length>0&&ls(e)},Pc=e=>Object.entries(e).map((([e,t])=>`${e.replace(/[a-z][A-Z]/g,(e=>`${e[0]}-${e[1].toLowerCase()}`))}: ${t};`)).join("\n"),Tc=(e,t,n,r)=>{const o=ze(),i=o.document.createElement("style");n[t]=i,Da.measure((function(){return null===e||"static"===o.getComputedStyle(e).getPropertyValue("position")})).then((n=>{Da.mutate((function(){if(null===e)return;const o=n?`#${e.id} {\n              position: relative;\n            }`:"";i.innerHTML=`${o}\n        #${e.id}:before {\n          content: " ";\n          ${Pc(r.highlight)}\n        }\n        #${e.id}:after {\n          content: "${t}${r.name}";\n          ${Pc(r.information)}\n        }`,e.parentElement&&e.parentElement.insertBefore(i,e)}))}))},Oc={};let Ac,Ic=!1;const jc={position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",backgroundColor:"rgba(186, 255, 186, 0.66)",zIndex:"10003"},Nc={fontFamily:"'Fira Mono', monospace",fontWeight:"700",color:"black",fontSize:"20px",width:"fit-content",backgroundColor:"rgba(186, 255, 186)",zIndex:"10004",position:"absolute",top:"0px"},Cc=e=>{let t=null;Ac.getValues().forEach((n=>{n.getProperty("name")===e&&(t=n.getProperty("element")||null)})),t&&Tc(t,e,Oc,{name:" - ad",id:"-bdx-ad-highlight",highlight:jc,information:Nc})},Rc=e=>{const t=Oc[e];t&&(t.parentElement&&t.parentElement.removeChild(t),delete Oc[e])},Dc={};let Lc,Mc=!1;const Uc={position:"absolute",top:"-20px",left:"-20px",border:"solid 20px rgba(255,192,203, 0.66)",zIndex:"10001",boxSizing:"content-box",width:"100%",height:"100%"},$c={fontFamily:"'Fira Mono', monospace",fontWeight:"700",color:"black",marginTop:"-20px",marginLeft:"-20px",fontSize:"20px",width:"fit-content",backgroundColor:"rgba(230, 127, 144)",zIndex:"10002",position:"absolute",top:"0px"},zc=e=>{let t=null;Lc.getValues().forEach((n=>{n.getProperty("name")===e&&(t=n.getProperty("element")||null)})),t&&Tc(t,e,Dc,{name:" - slot",id:"-bdx-slot-highlight",highlight:Uc,information:$c})},Bc=e=>{const t=Dc[e];t&&(t.parentElement&&t.parentElement.removeChild(t),delete Dc[e])};let Vc;const qc=()=>Vc;let Fc;const Zc=()=>Fc;let Hc=-1;const Gc=()=>Hc;let Wc=-1;const Jc=()=>Wc;class Qc{constructor(){this.cookiesMap=(()=>{const e=ze();return""===e.document.cookie?{}:e.document.cookie.split("; ").reduce(((e,t)=>{const n=t.indexOf("=");return e[t.slice(0,n)]=t.slice(n+1),e}),{})})()}create(e,t,n){return wt(this,void 0,void 0,(function*(){if(!this.cookiesMap[`usp.${e}`])try{let r=!1;r=t.length>0?(yield Promise.all(t.map((e=>zo(e))))).every(Boolean):yield zo(),r&&(n(),this.refreshCookie(`usp.${e}`))}catch(e){Je.error(e)}}))}refreshCookie(e){so(e,"1",604800),this.cookiesMap[e]="1"}}const Kc=()=>Math.floor(11e3*Math.random()),Yc=(e,t=!0)=>{const n=`https://pixel.servebom.com/partner?cb=${Kc()}&svc=us&id=${e}&uid=`;return t?encodeURIComponent(n):n},Xc=[10],eu=Zr(((e,t)=>e.create("2",Xc,(()=>{const e=(()=>{const e=document.createElement("iframe");e.style.display="none";const t=Yc("2");return e.src=`https://ssum-sec.casalemedia.com/usermatch?r=${Kc()}&s=181869&cb=${t}`,e})();t.mutate((function(){document.body.appendChild(e)}))})))),tu=[76],nu=Zr(((e,t)=>e.create("5",tu,(()=>{const e=(()=>{const e=document.createElement("span"),t=Math.floor(11e3*Math.random());e.style.display="none";const n=Yc("5");return e.innerHTML=`<iframe style="display:none" src="https://ads.pubmatic.com/AdServer/js/user_sync.html?r=${t}&p=46338&predirect=${n}"></iframe>`,e})();t.mutate((function(){document.body.appendChild(e)}))})))),ru=[104],ou=Zr(((e,t,n)=>e.create("9",ru,(()=>{if(n.gdprUser)return;const e=(()=>{const e=document.createElement("script");e.src="//sync.go.sonobi.com/uc.js",document.body.appendChild(e);const t=document.createElement("img");return t.style.display="none",t.src=`https://purch-sync.go.sonobi.com/us?${Yc("9",!1)}[UID]`,t})();t.mutate((function(){document.body.appendChild(e)}))})))),iu="14",au=[28],su=e=>{const t=document.createElement("img");return t.style.display="none",t.src=e?`https://eb2.3lift.com/getuid?gdpr=1&gdpr_consent=${e}&redir=${Yc(iu)}%24UID`:`https://eb2.3lift.com/getuid?gdpr=0&gdpr_consent=&redir=${Yc(iu)}%24UID`,t},cu=Zr(((e,t,n,r)=>e.create(iu,au,(()=>{r.then((e=>{if(e.consent&&e.consent.gdprApplies){const n=su(e.consent.tcString);t.mutate((function(){document.body.appendChild(n)}))}else{const e=su();t.mutate((function(){document.body.appendChild(e)}))}}))})))),uu=[52],lu=Zr(((e,t)=>e.create("19",uu,(()=>{const e=(()=>{const e=Math.floor(11e3*Math.random()),t=document.createElement("iframe");return t.style.display="none",t.src=`https://secure-assets.rubiconproject.com/utils/xapi/multi-sync.html?r=${e}&p=11868&endpoint=us-east`,t})();t.mutate((function(){document.body.appendChild(e)}))})))),du=[69],pu=e=>{const t=document.createElement("img");t.style.display="none";const n=Yc("22");return t.src=e?`https://us-u.openx.net/w/1.0/cm?gdpr=1&gdpr_consent=${e}&id=de2d90e5-4d26-4c8c-a342-3edcde51fdb1&ph=25af9286-f23b-4b02-abcd-f2ee3b564dab&r=${n}`:`https://us-u.openx.net/w/1.0/cm?gdpr=0&gdpr_consent=&id=de2d90e5-4d26-4c8c-a342-3edcde51fdb1&ph=25af9286-f23b-4b02-abcd-f2ee3b564dab&r=${n}`,t},fu=Zr(((e,t,n,r)=>e.create("22",du,(()=>{r.then((e=>{if(e.consent&&e.consent.gdprApplies){const n=pu(e.consent.tcString);t.mutate((function(){document.body.appendChild(n)}))}else{const e=pu();t.mutate((function(){document.body.appendChild(e)}))}}))})))),hu=[32],mu=Zr(((e,t)=>e.create("23_26_29_33",hu,(()=>{const e=(()=>{const e=document.createElement("img");return e.style.display="none",e.src=`https://ib.adnxs.com/getuid?${Yc("23,26,29")}$UID`,e})();t.mutate((function(){document.body.appendChild(e)}))})))),gu="24",yu=[13],vu=e=>{const t=document.createElement("img");return t.style.display="none",t.src=e?`https://ap.lijit.com/pixel?gdpr=1&gdpr_consent=${e}&redir=${Yc(gu)}$UID`:`https://ap.lijit.com/pixel?gdpr=0&gdpr_consent=&redir=${Yc(gu)}$UID`,t},bu=Zr(((e,t,n,r)=>e.create(gu,yu,(()=>{r.then((e=>{if(e.consent&&e.consent.gdprApplies){const n=vu(e.consent.tcString);t.mutate((function(){document.body.appendChild(n)}))}else{const e=vu();t.mutate((function(){document.body.appendChild(e)}))}}))})))),wu=[202],_u=e=>{const t=`tmx_sync_${Math.floor(11e3*Math.random())}`,n=document.createElement("span");n.style.display="none";const r=Yc("32"),o=document.createElement("iframe");return o.name=t,o.id=t,o.src=e?`https://qds0l.publishers.tremorhub.com/pubsync?gdpr=1&gdpr_consent=${e}&redir=${r}%5Btvid%5D`:`https://qds0l.publishers.tremorhub.com/pubsync?gdpr=0&gdpr_consent=&redir=${r}%5Btvid%5D`,Object.assign(o.style,{border:"0",overflow:"hidden"}),o.width="1px",o.height="1px",n.appendChild(o),n},Su=Zr(((e,t,n,r)=>e.create("32",wu,(()=>{r.then((e=>{if(e.consent&&e.consent.gdprApplies){const n=_u(e.consent.tcString);t.mutate((function(){document.body.appendChild(n)}))}else{const e=_u();t.mutate((function(){document.body.appendChild(e)}))}}))})))),Eu=[24],xu=e=>{const t=document.createElement("img");t.style.display="none";const n=Yc("36");return t.src=e?`https://purch-match.dotomi.com/match/bounce/current?networkId=20077&version=1&rurl=${n}$UID&gdpr=1&gdpr_consent=${e}&_origin=1&redir=true`:`https://purch-match.dotomi.com/match/bounce/current?networkId=20077&version=1&rurl=${n}$UID&gdpr=0&gdpr_consent=&_origin=1&redir=true`,t},ku=Zr(((e,t,n,r)=>e.create("36",Eu,(()=>{r.then((e=>{if(e.consent&&e.consent.gdprApplies){const n=xu(e.consent.tcString);t.mutate((function(){document.body.appendChild(n)}))}else{const e=xu();t.mutate((function(){document.body.appendChild(e)}))}}))})))),Pu=[335],Tu=e=>{const t=document.createElement("iframe");return t.style.display="none",t.src=e?`https://sync.bfmio.com/sync_iframe?ifpl=5&ifg=4&id=Purch&gdpr=1&gc=${e}&gce=1`:"https://sync.bfmio.com/sync_iframe?ifpl=5&ifg=4&id=Purch&gdpr=0&gc=&gce=1",t},Ou=Zr(((e,t,n,r)=>e.create("42",Pu,(()=>{r.then((e=>{if(e.consent&&e.consent.gdprApplies){const n=Tu(e.consent.tcString);t.mutate((function(){document.body.appendChild(n)}))}else{const e=Tu();t.mutate((function(){document.body.appendChild(e)}))}}))})))),Au=[76],Iu=Zr(((e,t)=>e.create("45",Au,(()=>{const e=(()=>{const e=document.createElement("script");return e.async=!0,e.type="text/javascript",e.src="https://ads.pubmatic.com/AdServer/js/userSync.js",e.onload=()=>{window.PubMaticSync&&"function"==typeof window.PubMaticSync.sync?window.PubMaticSync.sync({pubId:155494,delay:1e3,url:`${Yc("45",!1)}(PM_UID)`,macro:"(PM_UID)"}):console.warn("PubMaticSync has failed to deliver the correct script, and .sync could not be called.This is not our fault.\nIf this feature is important to you, please try refreshing the page.")},e})();t.mutate((function(){document.body.appendChild(e)}))})))),ju=[76],Nu=Zr(((e,t)=>e.create("46",ju,(()=>{const e=(()=>{const e=document.createElement("span");e.style.display="none";const t=Yc("46");return e.innerHTML=`<iframe style="display:none" src="https://ads.pubmatic.com/AdServer/js/user_sync.html?r=${Kc()}&p=156007&predirect=${t}"></iframe>`,e})();t.mutate((function(){document.body.appendChild(e)}))})))),Cu=[61],Ru=Zr(((e,t,n,r,o)=>e.create("48",Cu,(()=>{Promise.all([r,o]).then((([e,n])=>{const r=((e,t)=>{const n=((e,t)=>{const n=(()=>{const{site:e}=io();return{bikeperfect:"o6xrqnpf",countrylife:"go3ow8jf",creativebloq:"7absczm5",cyclingnews:"t9t3tck9",decanter:"i7y80eeq",digitalcameraworld:"cimuwtf2",fourfourtwo:"4husjo0l",gamesradar:"llgebarm","golfmonthly-progressive":"yzessgyz","goodtoknow-progressive":"dcbmxwwc",guitarplayer:"wrprmyks",guitarworld:"16qp2ovt","homesandgardens-progressive":"mzuhnqc0",horseandhound:"twzzzdla",howtogeek:"2551ab8e",idealhome:"7fq0zygv","idealhome-progressive-qa":"7fq0zygv",laptopmag:"400b75d3",livescience:"fe79cc6d","livingetc-progressive":"sqsvp0jm",look:"8xwmmp2t",loudersound:"giyrkkmt",marieclaire:"e1zhtjh8","marieclairecom-progressive":"6sech3oz",mby:"xuqub111",pcgamer:"agyog4oo",reviewgeek:"4l4crive",sciencealert:"gwpevyec",space:"fb728bb0","t3-progressive":"gcicurrf",techradar:"njqsk6ke",techspot:"lh17jalp",thecaribou:"4xtfxjy1",tomsguide:"5b923816",tomshardware:"e5ffa56e",toptenreviews:"i0ohgxfh",whatsontv:"tduro6vk",whattowatch:"sscfxm61",windowscentral:"b3a52dd3","windowscentral-qa":"b3a52dd3","womanandhome-progressive":"fm0mpqhm"}[e]||null})();if(!n)return null;const r=Math.floor(11e3*Math.random()),o=[["r",encodeURIComponent(`https://pixel.servebom.com/partner?cb=${r}&svc=us&id=48&uid=`)]];return e&&e.consent?(o.push(["gdpr","1"]),o.push(["gdpr_consent",e.consent.tcString])):o.push(["gdpr","0"]),t&&t.consent&&o.push(["us_privacy",t.consent.uspString]),`https://g2.gumgum.com/usync/${n}?${o.map((e=>e.join("="))).join("&")}`})(e,t);if(!n)return null;const r=document.createElement("iframe");return r.style.display="none",r.src=n,r})(e,n);r&&t.mutate((()=>{document.body.appendChild(r)}))}))})))),Du=[25],Lu=e=>{const t=document.createElement("iframe");return t.style.display="none",t.src=e?`https://pixel.advertising.com/ups/58164/sync?gdpr=1&gdpr_consent=${e}&_origin=1&redir=true`:"https://pixel.advertising.com/ups/58164/sync?gdpr=0&gdpr_consent=&_origin=1&redir=true",t},Mu=Zr(((e,t,n,r)=>e.create("57",Du,(()=>{r.then((e=>{if(e.consent&&e.consent.gdprApplies){const n=Lu(e.consent.tcString);t.mutate((function(){document.body.appendChild(n)}))}else{const e=Lu();t.mutate((function(){document.body.appendChild(e)}))}}))})))),Uu=[58],$u=Zr(((e,t)=>e.create("59",Uu,(()=>{const e=(()=>{const e=document.createElement("img");e.style.display="none";const t=Yc("59");return e.src=`https://ssc-cms.33across.com/ps/?ri=0013300001kQj3GAAS&ru=${t}33XUSERID33X`,e})();t.mutate((function(){document.body.appendChild(e)}))})))),zu=[25],Bu=Zr(((e,t)=>e.create("61",zu,(()=>{const e=(()=>{const e=document.createElement("iframe");return e.style.display="none",e.src="https://ups.analytics.yahoo.com/ups/58290/sync?redir=true",e})();t.mutate((function(){document.body.appendChild(e)}))})))),Vu=[686,128,129],qu=Zr(((e,t)=>e.create("62",Vu,(()=>{const e=(()=>{const e=document.createElement("iframe");e.style.display="none";const t=`${Yc("62")}${encodeURIComponent("${BSW_UUID}&cookie_age=${COOKIE_AGE}")}`;return e.src=`https://x.bidswitch.net/check_uuid/${t}`,e})();t.mutate((function(){document.body.appendChild(e)}))})))),Fu=[80],Zu=(e,t)=>{const n=document.createElement("iframe");return n.style.display="none",n.src=e&&t?`https://match.sharethrough.com/universal/v1?supply_id=dSvJjhJF&gdpr=${e}&gdpr_consent=${t}`:"https://match.sharethrough.com/universal/v1?supply_id=dSvJjhJF",n},Hu=Zr(((e,t,n,r)=>e.create("64",Fu,(()=>{r.then((e=>{const n=e&&e.consent&&e.consent.gdprApplies&&e.consent.tcString?Zu(e.consent.gdprApplies,e.consent.tcString):Zu();t.mutate((function(){document.body.appendChild(n)}))}))})))),Gu=[259],Wu=(e,t)=>{const n=document.createElement("iframe"),r=e&&t?`&gdpr=${e}&gdpr_consent=${t}`:"",o=`${Yc("65")}PARTNER_USER_ID`;return n.style.display="none",n.src=`//visitor.omnitagjs.com/visitor/isync?uid=ebd167208cfac599416ddea5dbceb5dd&name=FUTURE_PLC&url=${o}${r}`,n},Ju=Zr(((e,t,n,r)=>e.create("65",Gu,(()=>{r.then((e=>{const n=e&&e.consent&&e.consent.gdprApplies&&e.consent.tcString?Wu(e.consent.gdprApplies,e.consent.tcString):Wu();t.mutate((function(){document.body.appendChild(n)}))}))})))),Qu=[mu,fu,ou,bu,cu,nu,ku,Iu,Su,eu,Ou,Nu,lu,Mu,$u,Bu,Ru,qu,Hu,Ju],Ku=$t((function(e){return null==e}));const Yu=ze(),Xu=(e,t)=>{const n=document.createElement(e);return Object.assign(n.style,t),n},el=e=>e.getProperty("mode")?(e.update({status:"pending"}),(e=>"anchored"===e.getProperty("mode"))(e)?(e=>new Promise((t=>{Da.mutate((e=>()=>{if(void 0===e.getProperty("id"))throw new Error("Error in anchored add ad handler, ad id is undefined");const t=ir()!==tr,n=Xu("div",{});n.id=e.getProperty("id")||"",n.ariaHidden="true";const r=Xu("div",{boxShadow:"0 0 5px 0 rgba(0,0,0,0.2)",background:"white",minHeight:t?"90px":"50px",display:"flex",justifyContent:"center"});r.classList.add("bordeaux-anchored-inner"),r.classList.add("mobile-leaderboard-320-50"),r.appendChild(n);const o=Xu("div",{display:"flex",flexDirection:"column",justifyContent:"center",position:"fixed",bottom:"0",left:"0",width:"100%",minHeight:t?"90px":"50px",zIndex:9995});if(o.classList.add("bordeaux-anchored-container"),o.appendChild(r),t||e.getProperty("closeButton")){const t=Xu("div",{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",width:"28px",height:"28px",top:"-28px",right:"0",backgroundColor:"#fff",backgroundRepeat:"no-repeat",boxShadow:"0 -1px 1px 0 rgb(0 0 0 / 20%)",border:"none",borderRadius:"12px 0 0 0"});t.classList.add("bordeaux-anchored-close"),t.innerHTML='\n    <svg fill="rgb(178, 178, 178)" width="13" height="13" viewBox="341 8 13 13" xmlns="http://www.w3.org/2000/svg"><path fill="%234F4F4F" d="M354 9.31 352.69 8l-5.19 5.19L342.31 8 341 9.31l5.19 5.19-5.19 5.19 1.31 1.31 5.19-5.19 5.19 5.19 1.31-1.31-5.19-5.19z" fill-rule="evenodd"/></svg>\n    ',t.addEventListener("click",(()=>{void 0!==e.getProperty("id")?o.parentNode&&o.parentNode.removeChild(o):Je.error("Error in anchored add ad close handler, ad id is undefined")})),o.appendChild(t)}Yu.document.body.appendChild(o)})(e)).then((()=>{t(e)})).catch((n=>{n instanceof Error&&Je.error(n.message),t(e)}))})))(e):(e=>"oop"===e.getProperty("mode"))(e)?(e=>new Promise((t=>{Da.mutate((()=>{if(void 0===e.getProperty("id"))throw new Error("Error in out of page add ad handler, ad id is undefined");const t=ze(),n=t.document.createElement("div");n.id=e.getProperty("id")||"";const r=t.document.createElement("div");r.style.display="none",r.appendChild(n),t.document.body.appendChild(r)})).then((()=>{t(e)})).catch((n=>{n instanceof Error&&Je.error(n.message),t(e)}))})))(e):(e=>"slotify"===e.getProperty("mode"))(e)?(e=>new Promise((t=>{if(void 0===e.getProperty("id"))return Je.error("Error in Slotify add ad on mount handler, ad id is undefined"),void t(e);const n=ze();e.update({onMount:()=>wt(void 0,void 0,void 0,(function*(){var t;if(void 0===e.getProperty("id"))return void Je.error("Error in Slotify add ad on mount handler, ad id is undefined");const r=n.document.createElement("div");r.id=e.getProperty("id")||"",r.style.position="sticky",r.style.top="0",r.style.margin="0 auto",!0===e.getProperty("verticallyCentered")&&(r.style.margin="auto auto");const o=e.getProperty("topPosition")||0;o>0&&(r.style.top=`${o}px`),(null===(t=e.getProperty("gptInput").sizes)||void 0===t?void 0:t.includes("fluid"))&&(r.style.width="100%",r.style.height="100%"),e.update({element:r})}))}),t(e)})))(e):(e=>"skyscraper"===e.getProperty("mode"))(e)?(e=>new Promise((t=>{Da.mutate((()=>{if(void 0===e.getProperty("id"))throw new Error("Error in skyscraper add ad handler, ad id is undefined");const t=ze(),n=t.document.getElementById("main");if(!n)throw new Error("Error in skyscraper setup, #main element not found");if(!n.parentNode)throw new Error("Error in skyscraper setup, #main element has no parent");const r=e.getProperty("position"),o=t.document.createElement("div");o.classList.add(`skyscraper-gpt-${r}`),Object.assign(o.style,{width:"160px",height:"600px"}),o.id=e.getProperty("id")||"",o.ariaHidden="true";const i=t.document.createElement("div");i.classList.add(`skyscraper-inner-${r}`),Object.assign(i.style,{width:"160px",height:"600px",pointerEvents:"auto"}),i.appendChild(o);const a=t.document.createElement("div");a.classList.add(`skyscraper-outer-${r}`);const s=Object.assign(Object.assign({width:"160px",height:"600px",position:"absolute",top:"10px"},r?{[r]:"-200px"}:{}),{zIndex:9995});Object.assign(a.style,s),a.appendChild(i);const{width:c}=n.getBoundingClientRect(),u=fs(".skyscraper-container")||t.document.createElement("div");u.classList.add("skyscraper-container");const l={width:`${c}px`,height:0,margin:"auto",position:"sticky",top:0,"pointer-events":"none"};Object.assign(u.style,l),u.appendChild(a),n.parentNode.insertBefore(u,n)})).then((()=>{t(e)})).catch((n=>{n instanceof Error&&Je.error(n.message),t(e)}))})))(e):(e=>"interstitial"===e.getProperty("mode"))(e)?(e=>new Promise((t=>{void 0!==e.getProperty("id")?t(e):Je.error("Error in interstitial add ad handler, ad id is undefined")})))(e):(Je.error(`Add ad handler error - mode not recognised: ${JSON.stringify(e,null,2)}`),Promise.resolve(e))):(Je.error(`Add ad handler error - no mode set: ${JSON.stringify(e,null,2)}`),Promise.resolve(e)),tl=()=>{const e=ze();return e.performance?e.performance.now():0};let nl;const rl=()=>(nl=nl||new Promise((e=>{const t=ze();"interactive"!==t.document.readyState&&"complete"!==t.document.readyState?t.document.addEventListener("DOMContentLoaded",(()=>{e({timeStamp:tl()})})):e({timeStamp:tl()})})),nl);let ol,il,al,sl,cl,ul,ll,dl,pl;var fl;il=!0,al=!1,cl=new Promise((e=>{sl=e})),ul=!0,ll=!1,pl=new Promise((e=>{dl=e})),function(e){e.ADS_IN_ARTICLE="ADS_IN_ARTICLE",e.ADS_INCREMENTAL="ADS_INCREMENTAL",e.ADS_PREEMPTIVE="ADS_PREEMPTIVE",e.ADS_STANDARD="ADS_STANDARD",e.ADS_REFRESH="ADS_REFRESH"}(fl||(fl={}));const hl=ze(),ml=(e="Logged from the console")=>{hl.setTimeout((()=>{const t=new Error(e);Je.error(t)}))},gl=ze(),yl=(e="Reported from the console")=>{gl.setTimeout((()=>{const t=new Error(e);Ni(t)}))},vl=ze(),bl=(e="Triggered from the console")=>{vl.setTimeout((()=>{(e=>{if(e instanceof Error)throw e;if("string"==typeof e)throw new Error(e)})(e)}))},wl=e=>{void 0!==e?e.forEach((e=>{Cc(e)})):(Ac.getValues().forEach((e=>{Object.keys(Oc).includes(e.getProperty("name"))||Cc(e.getProperty("name"))})),Ic=!0)},_l=e=>{void 0!==e?e.forEach((e=>{zc(e)})):(Lc.getValues().forEach((e=>{Object.keys(Dc).includes(e.getProperty("name"))||zc(e.getProperty("name"))})),Mc=!0)},Sl=e=>{if(void 0===e)return Object.keys(Oc).forEach((e=>{Rc(e)})),void(Ic=!1);e.forEach((e=>{Rc(e)}))},El=e=>{if(void 0===e)return Object.keys(Dc).forEach((e=>{Bc(e)})),void(Mc=!1);e.forEach((e=>{Bc(e)}))},xl=new Promise((e=>{go().then((t=>e(t))).catch((e=>Je.warn(e)))}));let kl=()=>{};const Pl=new Promise((e=>{kl=e})),Tl=()=>{kl()},Ol=new Promise((e=>{"mobile"!==io().device&&e(!1),ze().addEventListener("message",(({data:t})=>{("object"==typeof t&&Object.values(t).includes("big_top_visible")||"mobile-bigtop-loaded"===t)&&e(!0)}))}));let Al="";const Il=()=>Al,jl=(e="")=>wt(void 0,void 0,void 0,(function*(){return Al=e,Promise.resolve(e)})),Nl=()=>{const e=ze(),t=e.document.createElement("script");t.src=""===Il()?"https://bordeaux.futurecdn.net/load-ad-tool.js":`https://bdx.${Il()}.public.rtb-qa-eks-euw1.futureplc.engineering/load-ad-tool.js`,t.async=!0,t.id="hybrid-ad-tool",e.document.head.appendChild(t)},Cl=()=>{Nl()},Rl=function(e,t=1e3){let n=!1;return(...r)=>{n||(n=!0,setTimeout((()=>{n=!1}),t),e(...r))}}(((e=[],t=!0)=>{((e,t)=>{const n=((e,t)=>{const n=sc.getValues().filter((e=>(e=>{const t="pending"!==e.getProperty("status"),n="oop"===e.getProperty("mode"),r="sponsored-post"===e.getProperty("category"),o=e.getProperty("refreshDisabled"),i=e.getProperty("canRefresh");return t&&!o&&!n&&!r&&!0===i})(e))).filter((t=>((e,t)=>0===t.length||-1!==t.indexOf(e))(t.getProperty("name"),e))),r=n.filter((e=>(e=>{const t=e.getProperty("mode"),n="anchored"===t,r="skyscraper"===t,o="oop"===t;return e.getProperty("viewed")&&e.getProperty("inView")||n||r||o})(e)));return t?r:n})(e,t);0!==n.length?(n.forEach((e=>{const t=e.getProperty("gptInput");t.targeting=Object.assign(t.targeting,ic(e,!0)),e.update({gptInput:t})})),ls(n)):Je.warn(`API refresh - No ad units could be refreshed with parameters: ad units ${JSON.stringify(e)}, inView: ${t}`)})(e,t)}),1e4),Dl=(()=>{try{const e=(()=>{const e=document.createElement("div");return e.setAttribute("class","pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"),e.setAttribute("style","width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"),document.body.appendChild(e),e})();if(!(e instanceof HTMLDivElement))return!1;const t=(e=>null!==document.body.getAttribute("abp")||null===e.offsetParent||0===e.offsetHeight||0===e.offsetLeft||0===e.offsetTop||0===e.offsetWidth||0===e.clientHeight||0===e.clientWidth)(e);return e.remove(),t}catch(e){return e instanceof Error&&Je.warn(`Adblock test failed: ${e.message}`),!1}})(),Ll=()=>Dl,Ml=()=>new URLSearchParams(ze().location.search).get("debug_ads")||"main",Ul=()=>"master",$l=()=>Ts;let zl;const Bl=new Promise((e=>{zl=e})),Vl=()=>Bl,ql=()=>pi(),Fl=()=>wt(void 0,void 0,void 0,(function*(){return[...yield ka]}));let Zl,Hl=!1,Gl=!1,Wl=!1;const Jl=()=>Zl;let Ql=!1;const Kl=e=>{Ql=e};let Yl={};let Xl=null;const ed=e=>{Xl=e};let td=null;const nd=e=>{td=e},rd=()=>{const e=ze(),t={cmd:e.bordeaux&&e.bordeaux.cmd||[],disableFeature:e=>((e=>{switch(e){case fl.ADS_INCREMENTAL:return al?(Je.warn("Cannot disable the ads incremental feature after Bordeaux has initialised."),!1):(il=!1,!0);case fl.ADS_PREEMPTIVE:case fl.ADS_STANDARD:return ll?(Je.warn("Cannot disable the ads standard feature after Bordeaux has initialised."),!1):(ul=!1,!0);case fl.ADS_REFRESH:return uc?(Je.warn("Cannot disable the ads refresh feature after Bordeaux has initialised."),!1):(cc=!1,!0);default:Je.warn(`Unable to disable feature ${e}, no handler specified.`)}})(e),t),enableFeature:e=>((e=>{switch(e){case fl.ADS_INCREMENTAL:return il=!0,sl(!0),!0;case fl.ADS_PREEMPTIVE:case fl.ADS_STANDARD:return ul=!0,dl(!0),!0;case fl.ADS_REFRESH:return cc=!0,lc(!0),!0;default:Je.warn(`Unable to enable feature ${e}, no handler specified.`)}})(e),t),error:{logError:ml,reportError:yl,triggerError:bl},features:fl,highlight:{addAdHighlights:wl,addSlotHighlights:_l,removeAdHighlights:Sl,removeSlotHighlights:El},hybridId:xl,init:Tl,log:Ge,metrics:Fr,mobileBigtop:Ol,onNotification:()=>t,openTool:Cl,refresh:(e,n)=>(Rl(e,n),t),roadblock:It,getAdBlock:Ll,getAdInfo:qc,getAdToolPage:Ml,getBranchName:Ul,getPageCategory:Jl,getPageTemplate:Ua,getPlacementId:Gc,getPlatformId:Jc,getSlotAvoidanceDistance:$l,getSlotInfo:Zc,getSommelierResponse:Vl,getTargeting:ql,getThirdPartyAPIInfo:Fl,setAdToolVersion:e=>(jl(e),t),setAssignSpaceOnLoad:()=>(Je.warn("setAssignSpaceOnLoad has been deprecated. This api call should be removed in the future."),t),setAuctionTimeouts:e=>((e=>{"mobile"in e&&"number"==typeof e.mobile&&"tablet"in e&&"number"==typeof e.tablet&&"desktop"in e&&"number"==typeof e.desktop&&(Li=e)})(e),t),setAutomaticDynamic:e=>(tc(e),t),setDelayedIncrementalAds:()=>(Hl=!0,t),setEagerSpaceAllocation:()=>(Je.warn("setEagerSpaceAllocation has been deprecated. This api call should be removed in the future. There is no replacement as this setting is now the default."),t),setExperimentId:e=>((e=>{0===yo.length?yo=e:Je.warn(`Bordeaux experiment id has already been set to ${yo}, not setting ${e}`)})(e),t),setFlyingCarpetAds:()=>(Gl=!0,t),setHiddenScrollAds:()=>(Wl=!0,t),setIndividualAdUnits:()=>(Je.warn("setIndividualAdUnits() has been deprecated. This api call should be removed in the future."),t),setLazyloadIncremental:()=>(Je.warn("setLazyloadIncremental() has been deprecated. This api call should be removed in the future."),t),setPageCategory:e=>((e=>{"string"==typeof e?Zl=e.replace(/[^a-zA-Z0-9-_]/g,""):Je.error("Page category must be a string")})(e),t),setPageTemplate:e=>((e=>{"string"==typeof e?Ma=e.replace(/[^a-zA-Z0-9-_]/g,""):Je.error("Page template must be a string")})(e),t),setPlacement:()=>(Je.warn("setPlacement() has been deprecated. This api call should be removed in the future."),t),setRoadblockIncrementalCaps:e=>(ed(e),t),setRoadblockIncrementalChooser:e=>(nd(e),t),setSimpleRefresh:e=>(Kl(e),t),setSlotActivationDistance:e=>((e=>{ds=e})(e),t),setSlotAvoidanceDistance:e=>((e=>{"mobile"in e&&"number"==typeof e.mobile&&"tablet"in e&&"number"==typeof e.tablet&&"desktop"in e&&"number"==typeof e.desktop&&(xs=e)})(e),t),setTargeting:e=>"object"!=typeof e||Array.isArray(e)||null==e?(Je.error(`Attempted to set targeting with ${JSON.stringify(e)}`),t):(Object.keys(e).forEach((t=>{null!==e[t]&&void 0!==e[t]||(e[t]=String(e[t]))})),li(e),t),setThirdPartyAPIConfig:e=>((e=>{Yl=e})(e),t),setToggleAdsRefresh:()=>(pc=!pc,t),setUnrefreshableAds:e=>((e=>{Array.isArray(e)?e.forEach((e=>{var t;"string"==typeof e?(t=e,Et.push(t)):Je.error(`Attempted to set unrefreshable ad name with ${JSON.stringify(e)}`)})):Je.error(`Attempted to set unrefreshable ads with ${JSON.stringify(e)}`)})(e),t),updateDynamicSlots:()=>(nc?rc.forEach((e=>{e()})):Je.error("Manual dynamic root has been triggered before the system is ready."),t),version:"5.6.0"};((e,t)=>{if(!Array.isArray(e))return void Je.error("Command queue commands is not an array");const n=e=>("function"!=typeof e?Je.error(`Command queue will only accept a function callback command, '${typeof e}' given.`):e(),0);t((()=>{e.forEach((e=>{e()})),e.push=n}))})(t.cmd,(e=>rl().then(e))),e.bordeaux=t,e.bdx=t};class od{constructor(){this.templateName="",this.location="",this.screenWidth=""}setTemplateName(e){return this.templateName=e,this}setLocation(e){return this.location=e,this}setScreenWidth(e){return this.screenWidth=e,this}execute(){return wt(this,void 0,void 0,(function*(){const e=Pt("force_plc"),t=Pt("force_plc_db"),n=Pt("force_abtest_control"),r=Pt("force_abtest_variant"),o=`https://sommelier.futurehybrid.tech/config/?${[["r",Math.round(1e3*Math.random())],["tpl",this.templateName],...e?[["force_plc",e]]:[],...t?[["force_plc_db",t]]:[],...n?[["force_abtest_control",n]]:[],...r?[["force_abtest_variant",r]]:[],["l",this.location],["sw",this.screenWidth]].map((e=>e.join("="))).join("&")}`;return Promise.race([fetch(o,{credentials:"omit",cache:"no-store"}).then((e=>e.json())).catch((e=>(Je.warn(`AdServer /config request error: ${e}`),Promise.reject(e)))),new Promise(((e,t)=>{setTimeout((()=>t(new zi("Took more than 5000ms to resolve and timed out"))),5e3)}))])}))}}const id={type:"incremental",name:"incr-billboard",sizes:[{w:728,h:90},{w:970,h:250}],targeting:{pos:["2"],placement:["dfp_rs_desktop_billboard"]},properties:{refresh:"true",ignoreAvoidance:"true",centerVertically:"true"}},ad={type:"incremental",name:"incr-leaderboard",sizes:[{w:728,h:90}],targeting:{pos:["2"],placement:["dfp_rs_desktop_leaderboard"]},properties:{refresh:"true",centerVertically:"true"}},sd={type:"incremental",name:"incr-mpu",sizes:[{w:300,h:250},{w:300,h:600}],targeting:{pos:["2"],placement:["dfp_rs_desktop_mpu"]},properties:{ignoreAvoidance:"true",refresh:"true"}},cd={type:"standard",name:"leaderboard",slotAffinity:"leaderboard",sizes:[{w:728,h:90},{w:970,h:90},{w:970,h:250}],targeting:{pos:["1"],placement:["dfp_rs_desktop_leaderboard_1"]},properties:{centerVertically:"true"}},ud={type:"oop",name:"skin",sizes:[{w:1,h:1}],targeting:{placement:["dfp_rs_desktop_skin_oop_1"],oop:["skin"]},properties:{}},ld={type:"oop",name:"overlay",sizes:[{w:1,h:1}],targeting:{placement:["dfp_rs_desktop_overlay_oop_1"],oop:["overlay"]},properties:{}},dd=728,pd=600,fd=400,hd=300,md="#ededed",gd={name:"leaderboard",hook:"#top-leaderboard, .dfp-leaderboard-container",type:"block",position:"prepend",size:{w:980,h:250},properties:{style:{marginLeft:"auto",marginRight:"auto",clear:"both",marginTop:"20px",marginBottom:"20px"}}},yd={name:"title-leaderboard",hook:"h3, h2",type:"block",position:"before",size:{w:dd,h:90},properties:{style:{clear:"both",marginTop:"20px",marginBottom:"20px",marginLeft:"auto",marginRight:"auto"},config:{multiple:"true"}}},vd={name:"media-leaderboard",hook:".article__body > [data-bordeaux-image-check], .article__body > .inlinegallery",type:"block",position:"after",size:{w:dd,h:90},properties:{style:{clear:"both",marginTop:"20px",marginBottom:"20px",marginLeft:"auto",marginRight:"auto"},config:{multiple:"true"}}},bd={name:"leaderboard",hook:".leaderboard__container, .static-leaderboard",type:"block",position:"append",size:{w:980,h:250},properties:{config:{multiple:"true"}}},wd=(e,t,n)=>({name:`${t}`,hook:e,type:"block",position:n,size:{w:5,h:5},properties:{style:{fluid:"true"},config:{ignoreExclusion:"true",allowList:"sponsored-post",multiple:"true"}}}),_d=wd(".sponsored-post","sponsored","prepend"),Sd=wd(".article-sponsored-post","article-sponsored","append"),Ed={name:"topOfSidebar",hook:"#sidebar-top",type:"block",position:"prepend",size:{w:hd,h:pd},properties:{config:{ignoreExclusion:"true"}}},xd={name:"beforePopularBox",hook:"#sidebar-popular-top",type:"block",position:"prepend",size:{w:hd,h:pd},properties:{config:{ignoreExclusion:"true"}}},kd={name:"afterPopularBox",hook:"#sidebar-popular-bottom",type:"block",position:"prepend",size:{w:hd,h:pd},properties:{config:{ignoreExclusion:"true"}}},Pd={name:"mpu-image",hook:"#article-body > [data-bordeaux-image-check]",type:"block",position:"before",size:{w:hd,h:pd},properties:{style:{margin:"5px -325px 10px 25px",position:"absolute",right:"0"},config:{multiple:"true"}}},Td={name:"mpu-furniture",hook:"#article-body > .fancy-box, #article-body > FIGURE > BLOCKQUOTE",type:"block",position:"before",size:{w:hd,h:pd},properties:{style:{margin:"5px -325px 10px 25px",position:"absolute",right:"0"},config:{multiple:"true"}}},Od={name:"mpu-before-comments",hook:"#article-comments",type:"block",position:"before",size:{w:hd,h:pd},properties:{style:{margin:"5px -325px 10px 25px",position:"absolute",right:"0"}}},Ad={name:"mpu-comments",hook:".xenforo-comment",type:"block",position:"before",size:{w:hd,h:pd},properties:{style:{margin:"5px -325px 10px 25px",position:"absolute",right:"0"},config:{multiple:"true"}}},Id={name:"mpu-paragraph",type:"block",hook:"#article-body > p",position:"before",size:{w:hd,h:pd},properties:{style:{margin:"5px -325px 10px 25px",position:"absolute",right:"0"},config:{multiple:"true"}}},jd={type:"standard",name:"leaderboard",slotAffinity:"leaderboard",sizes:[{w:728,h:90},{w:728,h:91}],targeting:{pos:["1"],placement:["dfp_rs_tablet_leaderboard_1"]},properties:{}},Nd={type:"incremental",name:"incr-leaderboard",sizes:[{w:728,h:90}],targeting:{pos:["2"],placement:["dfp_rs_tablet_leaderboard"],format:["roadblock"]},properties:{category:"leaderboard"}},Cd={type:"incremental",name:"incr-mpu",sizes:[{w:300,h:250},{w:300,h:600}],targeting:{pos:["2"],placement:["dfp_rs_tablet_mpu"],format:["roadblock"]},properties:{ignoreAvoidance:"true",refresh:"true"}},Rd={type:"incremental",name:"incr-mpu",sizes:[{w:300,h:250}],targeting:{pos:["2"],placement:["dfp_rs_tablet_mpu"],format:["roadblock"]},properties:{refresh:"true"}},Dd={type:"oop",name:"overlay",sizes:[{w:1,h:1}],targeting:{placement:["dfp_rs_tablet_overlay_oop_1"],oop:["overlay"]},properties:{}},Ld={type:"oop",name:"skin",sizes:[{w:1,h:1}],targeting:{oop:["skin"]},properties:{}},Md={name:"leaderboard",hook:".dfp-leaderboard-container, #top-leaderboard",type:"block",position:"prepend",size:{w:dd,h:90},properties:{}},Ud={name:"leaderboard",hook:".leaderboard__container, .static-leaderboard",type:"block",position:"append",size:{w:dd,h:90},properties:{config:{multiple:"true"}}},$d={name:"mpu-paragraph",type:"block",hook:"#article-body > p, .article__body > p",position:"before",size:{w:hd,h:250},properties:{label:{position:"above",backgroundColour:md},style:{marginBottom:"20px",backgroundColor:md},config:{multiple:"true"}}},zd={name:"topOfSidebar",hook:"#sidebar-top",type:"block",position:"prepend",size:{w:hd,h:pd},properties:{config:{ignoreExclusion:"true"}}},Bd={name:"beforePopularBox",hook:"#sidebar-popular-top",type:"block",position:"prepend",size:{w:hd,h:pd},properties:{config:{ignoreExclusion:"true"}}},Vd={name:"afterPopularBox",hook:"#sidebar-popular-bottom",type:"block",position:"prepend",size:{w:hd,h:pd},properties:{config:{ignoreExclusion:"true"}}},qd={type:"oop",name:"interstitial",sizes:[{w:1,h:1}],targeting:{}},Fd={type:"anchored",name:"anchored-leaderboard",sizes:[{w:320,h:50},{w:300,h:50},{w:300,h:31}],targeting:{pos:["mobile_anchored_leaderboard","mobile_sticky_leaderboard","1"],placement:["dfp_rs_mobile_anchored_leaderboard","dfp_rs_mobile_sticky_leaderboard"]},properties:{refresh:"true"}},Zd={type:"standard",name:"top-leaderboard",slotAffinity:"top-leaderboard",sizes:[{w:320,h:50},{w:300,h:50}],targeting:{pos:["mobile_top_leaderboard","2"],placement:["dfp_rs_top_leaderboard"]},properties:{centerVertically:"true"}},Hd={type:"standard",name:"mpu1",slotAffinity:"mpu1",sizes:[{w:300,h:250}],targeting:{pos:["1"],placement:["dfp_rs_mobile_mpu_1"]},properties:{refresh:"true"}},Gd={type:"standard",name:"mpu2",slotAffinity:"mpu2",sizes:[{w:300,h:250}],targeting:{pos:["2"],placement:["dfp_rs_mobile_mpu_2"]},properties:{refresh:"true"}},Wd={type:"incremental",name:"incr-mpu",sizes:[{w:300,h:250}],targeting:{pos:["3"],placement:["dfp_rs_mobile_mpu_3"]},properties:{refresh:"true"}},Jd={type:"oop",name:"overlay",sizes:[{w:1,h:1}],targeting:{placement:["dfp_rs_mobile_overlay_oop_1"],oop:["overlay"]},properties:{}},Qd={name:"top-leaderboard",hook:"#top-leaderboard",type:"block",position:"prepend",size:{w:320,h:100},properties:{}},Kd={name:"paragraph",type:"block",hook:"#article-body > p, .article__body > p",position:"after",size:{w:hd,h:fd},properties:{label:{position:"above",text:"Advertisement"},style:{marginBottom:"20px",backgroundColor:md},config:{multiple:"true"}}},Yd={name:"mpu-heading",type:"block",hook:"#article-body > h3, #article-body > h2, .article__body > h3, .article__body > h2",position:"before",size:{w:hd,h:fd},properties:{label:{position:"above",text:"Advertisement"},style:{marginBottom:"20px",backgroundColor:md},config:{multiple:"true"}}},Xd={name:"mpu1",hook:"#ad-unit-1",type:"block",position:"prepend",size:{w:hd,h:fd},properties:{label:{position:"above",text:"Advertisement"},style:{backgroundColor:md}}},ep={name:"mpu2",hook:"#ad-unit-2",type:"block",position:"prepend",size:{w:hd,h:fd},properties:{label:{text:"Advertisement",position:"above"},style:{backgroundColor:md}}},tp={name:"static-mpu",type:"block",hook:".static-leaderboard",position:"append",size:{w:hd,h:250},properties:{label:{position:"above",text:"Advertisement"},style:{backgroundColor:md},config:{multiple:"true"}}},np=()=>({placement:{id:99997,platformId:-1,linkedIds:[],siteAdUnitPath:"/10518929/HAAS-Fallback",placementAdUnitPath:"fallback",slots:[gd,yd,vd,bd,Od,Ed,xd,kd,Pd,Td,Ad,Id,_d,Sd],adunits:[cd,ld,ud,id,ad,sd],settings:{refreshTime:20,adUnitNameInPath:"true",adDensity:{avoidanceDistance:400}}},config:{adServer:{enabled:!0},amClio:{enabled:!1},amazon:{enabled:!0},ias:{enabled:!0},indexExchange:{enabled:!1,id:"",mode:"standard"},liveRamp:{enabled:!1,configurationId:""},pubmatic:{enabled:!1,profileId:""},prebid:{enabled:!1}}}),rp=()=>({placement:{id:99998,platformId:-1,linkedIds:[],siteAdUnitPath:"/10518929/HAAS-Fallback",placementAdUnitPath:"fallback",slots:[Md,zd,Bd,Vd,$d,Ud],adunits:[jd,Dd,Ld,Cd,Rd,Nd],settings:{refreshTime:20,adUnitNameInPath:"true",adDensity:{avoidanceDistance:400}}},config:{adServer:{enabled:!0},amClio:{enabled:!1},amazon:{enabled:!0},ias:{enabled:!0},indexExchange:{enabled:!1,id:"",mode:"standard"},liveRamp:{enabled:!1,configurationId:""},pubmatic:{enabled:!1,profileId:""},prebid:{enabled:!1}}}),op=()=>({placement:{id:99999,platformId:-1,linkedIds:[],siteAdUnitPath:"/10518929/HAAS-Fallback",placementAdUnitPath:"fallback",slots:[Qd,Xd,ep,tp,Kd,Yd],adunits:[Zd,Hd,Gd,qd,Fd,Jd,Wd],settings:{refreshTime:20,adUnitNameInPath:"true",adDensity:{avoidanceDistance:400}}},config:{adServer:{enabled:!0},amClio:{enabled:!1},amazon:{enabled:!0},ias:{enabled:!0},indexExchange:{enabled:!1,id:"",mode:"standard"},liveRamp:{enabled:!1,configurationId:""},pubmatic:{enabled:!1,profileId:""},prebid:{enabled:!1}}});var ip=function(e,t){return(ip=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function ap(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ip(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var sp,cp,up=function(){return(up=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function lp(e,t,n,r){return new(n=n||Promise)((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function dp(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,(a=o?[2&a[0],o.value]:a)[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=0<(o=i.trys).length&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function pp(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fp(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function hp(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}(cp=sp=sp||{}).assertNever=function(e){throw new Error},cp.arrayToEnum=function(e){var t,n,r={};try{for(var o=pp(e),i=o.next();!i.done;i=o.next()){var a=i.value;r[a]=a}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},cp.getValidEnumValues=function(e){var t,n,r=cp.objectKeys(e).filter((function(t){return"number"!=typeof e[e[t]]})),o={};try{for(var i=pp(r),a=i.next();!a.done;a=i.next()){var s=a.value;o[s]=e[s]}}catch(n){t={error:n}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return cp.objectValues(o)},cp.objectValues=function(e){return cp.objectKeys(e).map((function(t){return e[t]}))},cp.objectKeys="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n},cp.find=function(e,t){var n,r;try{for(var o=pp(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t(a))return a}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},cp.isInteger="function"==typeof Number.isInteger?function(e){return Number.isInteger(e)}:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};var mp=sp.arrayToEnum(["invalid_type","custom","invalid_union","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),gp=function(e){function t(t){var n=this.constructor,r=e.call(this)||this;return r.issues=[],r.format=function(){var e={_errors:[]},t=function(n){var r,o;try{for(var i=pp(n.issues),a=i.next();!a.done;a=i.next()){var s=a.value;if("invalid_union"===s.code)s.unionErrors.map(t);else if("invalid_return_type"===s.code)t(s.returnTypeError);else if("invalid_arguments"===s.code)t(s.argumentsError);else if(0===s.path.length)e._errors.push(s.message);else for(var c=e,u=0;u<s.path.length;){var l,d=s.path[u];u===s.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(s.message)):"string"==typeof d?c[d]=c[d]||{_errors:[]}:"number"==typeof d&&((l=[])._errors=[],c[d]=c[d]||l),c=c[d],u++}}}catch(n){r={error:n}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}};return t(r),e},r.addIssue=function(e){r.issues=hp(hp([],fp(r.issues),!1),[e],!1)},r.addIssues=function(e){void 0===e&&(e=[]),r.issues=hp(hp([],fp(r.issues),!1),fp(e),!1)},r.flatten=function(e){var t,n;void 0===e&&(e=function(e){return e.message});var o={},i=[];try{for(var a=pp(r.issues),s=a.next();!s.done;s=a.next()){var c=s.value;0<c.path.length?(o[c.path[0]]=o[c.path[0]]||[],o[c.path[0]].push(e(c))):i.push(e(c))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return{formErrors:i,fieldErrors:o}},n=n.prototype,Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n,r.name="ZodError",r.issues=t,r}return ap(t,e),Object.defineProperty(t.prototype,"errors",{get:function(){return this.issues},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.message},Object.defineProperty(t.prototype,"message",{get:function(){return JSON.stringify(this.issues,null,2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.issues.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"formErrors",{get:function(){return this.flatten()},enumerable:!1,configurable:!0}),t.create=function(e){return new t(e)},t}(Error),yp=function(e,t){var n;switch(e.code){case mp.invalid_type:n="undefined"===e.received?"Required":"Expected "+e.expected+", received "+e.received;break;case mp.unrecognized_keys:n="Unrecognized key(s) in object: "+e.keys.map((function(e){return"'"+e+"'"})).join(", ");break;case mp.invalid_union:n="Invalid input";break;case mp.invalid_enum_value:n="Invalid enum value. Expected "+e.options.map((function(e){return"string"==typeof e?"'"+e+"'":e})).join(" | ")+", received "+("string"==typeof t.data?"'"+t.data+"'":t.data);break;case mp.invalid_arguments:n="Invalid function arguments";break;case mp.invalid_return_type:n="Invalid function return type";break;case mp.invalid_date:n="Invalid date";break;case mp.invalid_string:n="regex"!==e.validation?"Invalid "+e.validation:"Invalid";break;case mp.too_small:n="array"===e.type?"Should have "+(e.inclusive?"at least":"more than")+" "+e.minimum+" items":"string"===e.type?"Should be "+(e.inclusive?"at least":"over")+" "+e.minimum+" characters":"number"===e.type?"Value should be greater than "+(e.inclusive?"or equal to ":"")+e.minimum:"Invalid input";break;case mp.too_big:n="array"===e.type?"Should have "+(e.inclusive?"at most":"less than")+" "+e.maximum+" items":"string"===e.type?"Should be "+(e.inclusive?"at most":"under")+" "+e.maximum+" characters long":"number"===e.type?"Value should be less than "+(e.inclusive?"or equal to ":"")+e.maximum:"Invalid input";break;case mp.custom:n="Invalid input";break;case mp.invalid_intersection_types:n="Intersection results could not be merged";break;case mp.not_multiple_of:n="Should be multiple of "+e.multipleOf;break;default:n=t.defaultError,sp.assertNever(e)}return{message:n}},vp=yp,bp=sp.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);function wp(e,t,n){return n&&n.set(e,t),t}var _p=function(e,t){if(t&&t.has(e))return t.get(e);switch(typeof e){case"undefined":return wp(e,bp.undefined,t);case"string":return wp(e,bp.string,t);case"number":return wp(e,isNaN(e)?bp.nan:bp.number,t);case"boolean":return wp(e,bp.boolean,t);case"function":return wp(e,bp.function,t);case"bigint":return wp(e,bp.bigint,t);case"object":return Array.isArray(e)?wp(e,bp.array,t):null===e?wp(e,bp.null,t):e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?wp(e,bp.promise,t):e instanceof Map?wp(e,bp.map,t):e instanceof Set?wp(e,bp.set,t):e instanceof Date?wp(e,bp.date,t):wp(e,bp.object,t);default:return wp(e,bp.unknown,t)}},Sp=function(e){var t,n,r=e.data,o=e.path,i=e.errorMaps,a=(e=e.issueData,o=hp(hp([],fp(o),!1),fp(e.path||[]),!1),up(up({},e),{path:o})),s="";i=i.filter((function(e){return!!e})).slice().reverse();try{for(var c=pp(i),u=c.next();!u.done;u=c.next())s=(0,u.value)(a,{data:r,defaultError:s}).message}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return up(up({},e),{path:o,message:e.message||s})};function Ep(e,t){t=Sp({issueData:t,data:e.data,path:e.path,errorMaps:[e.contextualErrorMap,e.schemaErrorMap,vp,yp].filter((function(e){return!!e}))}),e.issues.push(t)}var xp,kp,Pp=function(){function e(){this.value="valid"}return e.prototype.dirty=function(){"valid"===this.value&&(this.value="dirty")},e.prototype.abort=function(){"aborted"!==this.value&&(this.value="aborted")},e.mergeArray=function(e,t){var n,r,o=[];try{for(var i=pp(t),a=i.next();!a.done;a=i.next()){var s=a.value;if("aborted"===s.status)return Tp;"dirty"===s.status&&e.dirty(),o.push(s.value)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return{status:e.value,value:o}},e.mergeObjectAsync=function(t,n){return lp(this,void 0,void 0,(function(){var r,o,i,a,s,c,u,l,d;return dp(this,(function(p){switch(p.label){case 0:r=[],p.label=1;case 1:p.trys.push([1,7,8,9]),o=pp(n),i=o.next(),p.label=2;case 2:return i.done?[3,6]:(a=i.value,c=(s=r).push,d={},[4,a.key]);case 3:return d.key=p.sent(),[4,a.value];case 4:c.apply(s,[(d.value=p.sent(),d)]),p.label=5;case 5:return i=o.next(),[3,2];case 6:return[3,9];case 7:return u={error:u=p.sent()},[3,9];case 8:try{i&&!i.done&&(l=o.return)&&l.call(o)}finally{if(u)throw u.error}return[7];case 9:return[2,e.mergeObjectSync(t,r)]}}))}))},e.mergeObjectSync=function(e,t){var n,r,o={};try{for(var i=pp(t),a=i.next();!a.done;a=i.next()){var s=a.value,c=s.key,u=s.value;if("aborted"===c.status)return Tp;if("aborted"===u.status)return Tp;"dirty"===c.status&&e.dirty(),"dirty"===u.status&&e.dirty(),void 0===u.value&&!s.alwaysSet||(o[c.value]=u.value)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return{status:e.value,value:o}},e}(),Tp=Object.freeze({status:"aborted"}),Op=function(e){return{status:"valid",value:e}},Ap=function(e){return"aborted"===e.status},Ip=function(e){return"dirty"===e.status},jp=function(e){return"valid"===e.status},Np=function(e){return e instanceof Promise};(kp=xp=xp||{}).errToObj=function(e){return"string"==typeof e?{message:e}:e||{}},kp.toString=function(e){return"string"==typeof e?e:null==e?void 0:e.message};var Cp=function(e,t){if(jp(t))return{success:!0,data:t.value};if(!e.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new gp(e.issues)}};function Rp(e){if(!e)return{};if(e.errorMap&&(e.invalid_type_error||e.required_error))throw new Error('Can\'t use "invalid" or "required" in conjunction with custom error map.');return e.errorMap?{errorMap:e.errorMap}:{errorMap:function(t,n){return"invalid_type"!==t.code?{message:n.defaultError}:void 0===n.data&&e.required_error?{message:e.required_error}:e.invalid_type_error?{message:e.invalid_type_error}:{message:n.defaultError}}}}var Dp,Lp=function(){function e(e){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=e,this.transform=this.transform.bind(this),this.default=this.default.bind(this)}return Object.defineProperty(e.prototype,"description",{get:function(){return this._def.description},enumerable:!1,configurable:!0}),e.prototype._processInputParams=function(e){return{status:new Pp,ctx:up(up({},e.parent),{data:e.data,parsedType:_p(e.data,e.parent.typeCache),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent})}},e.prototype._parseSync=function(e){if(e=this._parse(e),Np(e))throw new Error("Synchronous parse encountered promise.");return e},e.prototype._parseAsync=function(e){return e=this._parse(e),Promise.resolve(e)},e.prototype.parse=function(e,t){if((t=this.safeParse(e,t)).success)return t.data;throw t.error},e.prototype.safeParse=function(e,t){return t={path:(null==t?void 0:t.path)||[],issues:[],contextualErrorMap:null==t?void 0:t.errorMap,schemaErrorMap:this._def.errorMap,async:null!==(t=null==t?void 0:t.async)&&void 0!==t&&t,typeCache:new Map,parent:null,data:e,parsedType:_p(e)},e=this._parseSync({data:e,path:t.path,parent:t}),Cp(t,e)},e.prototype.parseAsync=function(e,t){return lp(this,void 0,void 0,(function(){var n;return dp(this,(function(r){switch(r.label){case 0:return[4,this.safeParseAsync(e,t)];case 1:if((n=r.sent()).success)return[2,n.data];throw n.error}}))}))},e.prototype.safeParseAsync=function(e,t){return lp(this,void 0,void 0,(function(){var n,r;return dp(this,(function(o){switch(o.label){case 0:return n={path:(null==t?void 0:t.path)||[],issues:[],contextualErrorMap:null==t?void 0:t.errorMap,schemaErrorMap:this._def.errorMap,async:!0,typeCache:new Map,parent:null,data:e,parsedType:_p(e)},r=this._parse({data:e,path:[],parent:n}),[4,Np(r)?r:Promise.resolve(r)];case 1:return r=o.sent(),[2,Cp(n,r)]}}))}))},e.prototype.refine=function(e,t){return this._refinement((function(n,r){function o(){return r.addIssue(up({code:mp.custom},"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(n):t))}var i=e(n);return i instanceof Promise?i.then((function(e){return!!e||(o(),!1)})):!!i||(o(),!1)}))},e.prototype.refinement=function(e,t){return this._refinement((function(n,r){return!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)}))},e.prototype._refinement=function(e){return new yf({schema:this,typeName:ff.ZodEffects,effect:{type:"refinement",refinement:e}})},e.prototype.optional=function(){return vf.create(this)},e.prototype.nullable=function(){return bf.create(this)},e.prototype.nullish=function(){return this.optional().nullable()},e.prototype.array=function(){return Kp.create(this)},e.prototype.promise=function(){return gf.create(this)},e.prototype.or=function(e){return tf.create([this,e])},e.prototype.and=function(e){return rf.create(this,e)},e.prototype.transform=function(e){return new yf({schema:this,typeName:ff.ZodEffects,effect:{type:"transform",transform:e}})},e.prototype.default=function(e){return new wf({innerType:this,defaultValue:"function"==typeof e?e:function(){return e},typeName:ff.ZodDefault})},e.prototype.describe=function(e){return new this.constructor(up(up({},this._def),{description:e}))},e.prototype.isOptional=function(){return this.safeParse(void 0).success},e.prototype.isNullable=function(){return this.safeParse(null).success},e}(),Mp=/^c[^\s-]{8,}$/i,Up=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[89ab][a-f0-9]{3}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,$p=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,zp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._regex=function(e,n,r){return t.refinement((function(t){return e.test(t)}),up({validation:n,code:mp.invalid_string},xp.errToObj(r)))},t.nonempty=function(e){return t.min(1,xp.errToObj(e))},t}return ap(t,e),t.prototype._parse=function(e){var t,n,r=(e=this._processInputParams(e)).status,o=e.ctx;if(o.parsedType!==bp.string)return Ep(o,{code:mp.invalid_type,expected:bp.string,received:o.parsedType}),Tp;try{for(var i=pp(this._def.checks),a=i.next();!a.done;a=i.next()){var s=a.value;if("min"===s.kind)o.data.length<s.value&&(Ep(o,{code:mp.too_small,minimum:s.value,type:"string",inclusive:!0,message:s.message}),r.dirty());else if("max"===s.kind)o.data.length>s.value&&(Ep(o,{code:mp.too_big,maximum:s.value,type:"string",inclusive:!0,message:s.message}),r.dirty());else if("email"===s.kind)$p.test(o.data)||(Ep(o,{validation:"email",code:mp.invalid_string,message:s.message}),r.dirty());else if("uuid"===s.kind)Up.test(o.data)||(Ep(o,{validation:"uuid",code:mp.invalid_string,message:s.message}),r.dirty());else if("cuid"===s.kind)Mp.test(o.data)||(Ep(o,{validation:"cuid",code:mp.invalid_string,message:s.message}),r.dirty());else if("url"===s.kind)try{new URL(o.data)}catch(e){Ep(o,{validation:"url",code:mp.invalid_string,message:s.message}),r.dirty()}else"regex"===s.kind&&(s.regex.lastIndex=0,s.regex.test(o.data)||(Ep(o,{validation:"regex",code:mp.invalid_string,message:s.message}),r.dirty()))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{status:r.value,value:o.data}},t.prototype._addCheck=function(e){return new t(up(up({},this._def),{checks:hp(hp([],fp(this._def.checks),!1),[e],!1)}))},t.prototype.email=function(e){return this._addCheck(up({kind:"email"},xp.errToObj(e)))},t.prototype.url=function(e){return this._addCheck(up({kind:"url"},xp.errToObj(e)))},t.prototype.uuid=function(e){return this._addCheck(up({kind:"uuid"},xp.errToObj(e)))},t.prototype.cuid=function(e){return this._addCheck(up({kind:"cuid"},xp.errToObj(e)))},t.prototype.regex=function(e,t){return this._addCheck(up({kind:"regex",regex:e},xp.errToObj(t)))},t.prototype.min=function(e,t){return this._addCheck(up({kind:"min",value:e},xp.errToObj(t)))},t.prototype.max=function(e,t){return this._addCheck(up({kind:"max",value:e},xp.errToObj(t)))},t.prototype.length=function(e,t){return this.min(e,t).max(e,t)},Object.defineProperty(t.prototype,"isEmail",{get:function(){return!!this._def.checks.find((function(e){return"email"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isURL",{get:function(){return!!this._def.checks.find((function(e){return"url"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUUID",{get:function(){return!!this._def.checks.find((function(e){return"uuid"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCUID",{get:function(){return!!this._def.checks.find((function(e){return"cuid"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minLength",{get:function(){var e=-1/0;return this._def.checks.map((function(t){"min"===t.kind&&(null===e||t.value>e)&&(e=t.value)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){var e=null;return this._def.checks.map((function(t){"max"===t.kind&&(null===e||t.value<e)&&(e=t.value)})),e},enumerable:!1,configurable:!0}),t.create=function(e){return new t(up({checks:[],typeName:ff.ZodString},Rp(e)))},t}(Lp),Bp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.min=t.gte,t.max=t.lte,t.step=t.multipleOf,t}return ap(t,e),t.prototype._parse=function(e){var t,n,r=(e=this._processInputParams(e)).status,o=e.ctx;if(o.parsedType!==bp.number)return Ep(o,{code:mp.invalid_type,expected:bp.number,received:o.parsedType}),Tp;try{for(var i=pp(this._def.checks),a=i.next();!a.done;a=i.next()){var s=a.value;"int"===s.kind?sp.isInteger(o.data)||(Ep(o,{code:mp.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):"min"===s.kind?(s.inclusive?o.data<s.value:o.data<=s.value)&&(Ep(o,{code:mp.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,message:s.message}),r.dirty()):"max"===s.kind?(s.inclusive?o.data>s.value:o.data>=s.value)&&(Ep(o,{code:mp.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,message:s.message}),r.dirty()):"multipleOf"===s.kind?o.data%s.value!=0&&(Ep(o,{code:mp.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):sp.assertNever(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{status:r.value,value:o.data}},t.prototype.gte=function(e,t){return this.setLimit("min",e,!0,xp.toString(t))},t.prototype.gt=function(e,t){return this.setLimit("min",e,!1,xp.toString(t))},t.prototype.lte=function(e,t){return this.setLimit("max",e,!0,xp.toString(t))},t.prototype.lt=function(e,t){return this.setLimit("max",e,!1,xp.toString(t))},t.prototype.setLimit=function(e,n,r,o){return new t(up(up({},this._def),{checks:hp(hp([],fp(this._def.checks),!1),[{kind:e,value:n,inclusive:r,message:xp.toString(o)}],!1)}))},t.prototype._addCheck=function(e){return new t(up(up({},this._def),{checks:hp(hp([],fp(this._def.checks),!1),[e],!1)}))},t.prototype.int=function(e){return this._addCheck({kind:"int",message:xp.toString(e)})},t.prototype.positive=function(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xp.toString(e)})},t.prototype.negative=function(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xp.toString(e)})},t.prototype.nonpositive=function(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xp.toString(e)})},t.prototype.nonnegative=function(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xp.toString(e)})},t.prototype.multipleOf=function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:xp.toString(t)})},Object.defineProperty(t.prototype,"minValue",{get:function(){var e,t,n=null;try{for(var r=pp(this._def.checks),o=r.next();!o.done;o=r.next()){var i=o.value;"min"===i.kind&&(null===n||i.value>n)&&(n=i.value)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){var e,t,n=null;try{for(var r=pp(this._def.checks),o=r.next();!o.done;o=r.next()){var i=o.value;"max"===i.kind&&(null===n||i.value<n)&&(n=i.value)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInt",{get:function(){return!!this._def.checks.find((function(e){return"int"===e.kind}))},enumerable:!1,configurable:!0}),t.create=function(e){return new t(up(up({checks:[],typeName:ff.ZodNumber},Rp(e)),Rp(e)))},t}(Lp),Vp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){return(e=this._processInputParams(e).ctx).parsedType!==bp.bigint?(Ep(e,{code:mp.invalid_type,expected:bp.bigint,received:e.parsedType}),Tp):Op(e.data)},t.create=function(e){return new t(up({typeName:ff.ZodBigInt},Rp(e)))},t}(Lp),qp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){return(e=this._processInputParams(e).ctx).parsedType!==bp.boolean?(Ep(e,{code:mp.invalid_type,expected:bp.boolean,received:e.parsedType}),Tp):Op(e.data)},t.create=function(e){return new t(up({typeName:ff.ZodBoolean},Rp(e)))},t}(Lp),Fp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){var t;return e=(t=this._processInputParams(e)).status,(t=t.ctx).parsedType!==bp.date?(Ep(t,{code:mp.invalid_type,expected:bp.date,received:t.parsedType}),Tp):isNaN(t.data.getTime())?(Ep(t,{code:mp.invalid_date}),Tp):{status:e.value,value:new Date(t.data.getTime())}},t.create=function(e){return new t(up({typeName:ff.ZodDate},Rp(e)))},t}(Lp),Zp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){return(e=this._processInputParams(e).ctx).parsedType!==bp.undefined?(Ep(e,{code:mp.invalid_type,expected:bp.undefined,received:e.parsedType}),Tp):Op(e.data)},t.create=function(e){return new t(up({typeName:ff.ZodUndefined},Rp(e)))},t}(Lp),Hp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){return(e=this._processInputParams(e).ctx).parsedType!==bp.null?(Ep(e,{code:mp.invalid_type,expected:bp.null,received:e.parsedType}),Tp):Op(e.data)},t.create=function(e){return new t(up({typeName:ff.ZodNull},Rp(e)))},t}(Lp),Gp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._any=!0,t}return ap(t,e),t.prototype._parse=function(e){return e=this._processInputParams(e).ctx,Op(e.data)},t.create=function(e){return new t(up({typeName:ff.ZodAny},Rp(e)))},t}(Lp),Wp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._unknown=!0,t}return ap(t,e),t.prototype._parse=function(e){return e=this._processInputParams(e).ctx,Op(e.data)},t.create=function(e){return new t(up({typeName:ff.ZodUnknown},Rp(e)))},t}(Lp),Jp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){return Ep(e=this._processInputParams(e).ctx,{code:mp.invalid_type,expected:bp.never,received:e.parsedType}),Tp},t.create=function(e){return new t(up({typeName:ff.ZodNever},Rp(e)))},t}(Lp),Qp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){return(e=this._processInputParams(e).ctx).parsedType!==bp.undefined?(Ep(e,{code:mp.invalid_type,expected:bp.void,received:e.parsedType}),Tp):Op(e.data)},t.create=function(e){return new t(up({typeName:ff.ZodVoid},Rp(e)))},t}(Lp),Kp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){var t=(e=this._processInputParams(e)).status,n=e.ctx,r=this._def;return n.parsedType!==bp.array?(Ep(n,{code:mp.invalid_type,expected:bp.array,received:n.parsedType}),Tp):(null!==r.minLength&&n.data.length<r.minLength.value&&(Ep(n,{code:mp.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,message:r.minLength.message}),t.dirty()),null!==r.maxLength&&n.data.length>r.maxLength.value&&(Ep(n,{code:mp.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,message:r.maxLength.message}),t.dirty()),n.async?Promise.all(n.data.map((function(e,t){return r.type._parseAsync({parent:n,path:hp(hp([],fp(n.path),!1),[t],!1),data:e})}))).then((function(e){return Pp.mergeArray(t,e)})):(e=n.data.map((function(e,t){return r.type._parseSync({parent:n,path:hp(hp([],fp(n.path),!1),[t],!1),data:e})})),Pp.mergeArray(t,e)))},Object.defineProperty(t.prototype,"element",{get:function(){return this._def.type},enumerable:!1,configurable:!0}),t.prototype.min=function(e,n){return new t(up(up({},this._def),{minLength:{value:e,message:xp.toString(n)}}))},t.prototype.max=function(e,n){return new t(up(up({},this._def),{maxLength:{value:e,message:xp.toString(n)}}))},t.prototype.length=function(e,t){return this.min(e,t).max(e,t)},t.prototype.nonempty=function(e){return this.min(1,e)},t.create=function(e,n){return new t(up({type:e,minLength:null,maxLength:null,typeName:ff.ZodArray},Rp(n)))},t}(Lp);(Dp||(Dp={})).mergeShapes=function(e,t){return up(up({},e),t)};var Yp=function(e){return function(t){return new ef(up(up({},e),{shape:function(){return up(up({},e.shape()),t)}}))}};function Xp(e){if(e instanceof ef){var t,n={};for(t in e.shape){var r=e.shape[t];n[t]=vf.create(Xp(r))}return new ef(up(up({},e._def),{shape:function(){return n}}))}return e instanceof Kp?Kp.create(Xp(e.element)):e instanceof vf?vf.create(Xp(e.unwrap())):e instanceof bf?bf.create(Xp(e.unwrap())):e instanceof of?of.create(e.items.map((function(e){return Xp(e)}))):e}var ef=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._cached=null,t.nonstrict=t.passthrough,t.augment=Yp(t._def),t.extend=Yp(t._def),t}return ap(t,e),t.prototype._getCached=function(){if(null!==this._cached)return this._cached;var e=this._def.shape(),t=sp.objectKeys(e);return this._cached={shape:e,keys:t}},t.prototype._parse=function(e){var t,n,r,o,i,a=this,s=(l=this._processInputParams(e)).status,c=l.ctx;if(c.parsedType!==bp.object)return Ep(c,{code:mp.invalid_type,expected:bp.object,received:c.parsedType}),Tp;var u=(e=this._getCached()).shape,l=e.keys,d=(e=sp.objectKeys(c.data).filter((function(e){return!(e in u)})),[]);try{for(var p=pp(l),f=p.next();!f.done;f=p.next()){var h=f.value,m=u[h],g=c.data[h];d.push({key:{status:"valid",value:h},value:m._parse({parent:c,data:g,path:hp(hp([],fp(c.path),!1),[h],!1)}),alwaysSet:h in c.data})}}catch(e){y={error:e}}finally{try{f&&!f.done&&(t=p.return)&&t.call(p)}finally{if(y)throw y.error}}if(this._def.catchall instanceof Jp){var y=this._def.unknownKeys;if("passthrough"===y)try{for(var v=pp(e),b=v.next();!b.done;b=v.next())h=b.value,d.push({key:{status:"valid",value:h},value:{status:"valid",value:c.data[h]}})}catch(e){n={error:e}}finally{try{b&&!b.done&&(r=v.return)&&r.call(v)}finally{if(n)throw n.error}}else if("strict"===y)0<e.length&&(Ep(c,{code:mp.unrecognized_keys,keys:e}),s.dirty());else if("strip"!==y)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{var w=this._def.catchall;try{for(var _=pp(e),S=_.next();!S.done;S=_.next())h=S.value,g=c.data[h],d.push({key:{status:"valid",value:h},value:w._parse({parent:c,path:hp(hp([],fp(c.path),!1),[h],!1),data:g}),alwaysSet:h in c.data})}catch(e){o={error:e}}finally{try{S&&!S.done&&(i=_.return)&&i.call(_)}finally{if(o)throw o.error}}}return c.async?Promise.resolve().then((function(){return lp(a,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,c;return dp(this,(function(u){switch(u.label){case 0:e=[],u.label=1;case 1:u.trys.push([1,7,8,9]),t=pp(d),n=t.next(),u.label=2;case 2:return n.done?[3,6]:[4,(r=n.value).key];case 3:return c=u.sent(),i=(o=e).push,c={key:c},[4,r.value];case 4:i.apply(o,[(c.value=u.sent(),c.alwaysSet=r.alwaysSet,c)]),u.label=5;case 5:return n=t.next(),[3,2];case 6:return[3,9];case 7:return a={error:a=u.sent()},[3,9];case 8:try{n&&!n.done&&(s=t.return)&&s.call(t)}finally{if(a)throw a.error}return[7];case 9:return[2,e]}}))}))})).then((function(e){return Pp.mergeObjectSync(s,e)})):Pp.mergeObjectSync(s,d)},Object.defineProperty(t.prototype,"shape",{get:function(){return this._def.shape()},enumerable:!1,configurable:!0}),t.prototype.strict=function(e){var n=this;return xp.errToObj,new t(up(up(up({},this._def),{unknownKeys:"strict"}),void 0!==e?{errorMap:function(t,r){var o,i;return r=null!==(i=null===(o=(i=n._def).errorMap)||void 0===o?void 0:o.call(i,t,r).message)&&void 0!==i?i:r.defaultError,"unrecognized_keys"===t.code?{message:null!==(t=xp.errToObj(e).message)&&void 0!==t?t:r}:{message:r}}}:{}))},t.prototype.strip=function(){return new t(up(up({},this._def),{unknownKeys:"strip"}))},t.prototype.passthrough=function(){return new t(up(up({},this._def),{unknownKeys:"passthrough"}))},t.prototype.setKey=function(e,t){var n;return this.augment(((n={})[e]=t,n))},t.prototype.merge=function(e){var n=Dp.mergeShapes(this._def.shape(),e._def.shape());return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return n},typeName:ff.ZodObject})},t.prototype.catchall=function(e){return new t(up(up({},this._def),{catchall:e}))},t.prototype.pick=function(e){var n=this,r={};return sp.objectKeys(e).map((function(e){r[e]=n.shape[e]})),new t(up(up({},this._def),{shape:function(){return r}}))},t.prototype.omit=function(e){var n=this,r={};return sp.objectKeys(this.shape).map((function(t){-1===sp.objectKeys(e).indexOf(t)&&(r[t]=n.shape[t])})),new t(up(up({},this._def),{shape:function(){return r}}))},t.prototype.deepPartial=function(){return Xp(this)},t.prototype.partial=function(e){var n,r=this,o={};if(e)return sp.objectKeys(this.shape).map((function(t){-1===sp.objectKeys(e).indexOf(t)?o[t]=r.shape[t]:o[t]=r.shape[t].optional()})),new t(up(up({},this._def),{shape:function(){return o}}));for(n in this.shape){var i=this.shape[n];o[n]=i.optional()}return new t(up(up({},this._def),{shape:function(){return o}}))},t.prototype.required=function(){var e,n={};for(e in this.shape){for(var r=this.shape[e];r instanceof vf;)r=r._def.innerType;n[e]=r}return new t(up(up({},this._def),{shape:function(){return n}}))},t.create=function(e,n){return new t(up({shape:function(){return e},unknownKeys:"strip",catchall:Jp.create(),typeName:ff.ZodObject},Rp(n)))},t.strictCreate=function(e,n){return new t(up({shape:function(){return e},unknownKeys:"strict",catchall:Jp.create(),typeName:ff.ZodObject},Rp(n)))},t.lazycreate=function(e,n){return new t(up({shape:e,unknownKeys:"strip",catchall:Jp.create(),typeName:ff.ZodObject},Rp(n)))},t}(Lp),tf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){var t=this,n=this._processInputParams(e).ctx;function r(e){var t,r,o,i,a;try{for(var s=pp(e),c=s.next();!c.done;c=s.next())if("valid"===(u=c.value).result.status)return u.result}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}try{for(var u,l=pp(e),d=l.next();!d.done;d=l.next())if("dirty"===(u=d.value).result.status)return(a=n.issues).push.apply(a,hp([],fp(u.ctx.issues),!1)),u.result}catch(e){o={error:e}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}return e=e.map((function(e){return new gp(e.ctx.issues)})),Ep(n,{code:mp.invalid_union,unionErrors:e}),Tp}return e=this._def.options,n.async?Promise.all(e.map((function(e){return lp(t,void 0,void 0,(function(){var t,r;return dp(this,(function(o){switch(o.label){case 0:return t=up(up({},n),{issues:[],parent:null}),r={},[4,e._parseAsync({data:n.data,path:n.path,parent:t})];case 1:return[2,(r.result=o.sent(),r.ctx=t,r)]}}))}))}))).then(r):r(e.map((function(e){var t=up(up({},n),{issues:[],parent:null});return{result:e._parseSync({data:n.data,path:n.path,parent:t}),ctx:t}})))},Object.defineProperty(t.prototype,"options",{get:function(){return this._def.options},enumerable:!1,configurable:!0}),t.create=function(e,n){return new t(up({options:e,typeName:ff.ZodUnion},Rp(n)))},t}(Lp);function nf(e,t){var n,r,o=_p(e),i=_p(t);if(e===t)return{valid:!0,data:e};if(o===bp.object&&i===bp.object){var a=sp.objectKeys(t),s=sp.objectKeys(e).filter((function(e){return-1!==a.indexOf(e)})),c=up(up({},e),t);try{for(var u=pp(s),l=u.next();!l.done;l=u.next()){var d=l.value;if(!(p=nf(e[d],t[d])).valid)return{valid:!1};c[d]=p.data}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return{valid:!0,data:c}}if(o!==bp.array||i!==bp.array)return{valid:!1};if(e.length!==t.length)return{valid:!1};for(var p,f=[],h=0;h<e.length;h++){if(!(p=nf(e[h],t[h])).valid)return{valid:!1};f.push(p.data)}return{valid:!0,data:f}}var rf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){function t(e,t){if(Ap(e)||Ap(t))return Tp;var o=nf(e.value,t.value);return o.valid?((Ip(e)||Ip(t))&&n.dirty(),{status:n.value,value:o.data}):(Ep(r,{code:mp.invalid_intersection_types}),Tp)}var n=(e=this._processInputParams(e)).status,r=e.ctx;return r.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((function(e){var n;return t(e=(n=fp(e,2))[0],n=n[1])})):t(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))},t.create=function(e,n,r){return new t(up({left:e,right:n,typeName:ff.ZodIntersection},Rp(r)))},t}(Lp),of=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){var t=this,n=(e=this._processInputParams(e)).status,r=e.ctx;return r.parsedType!==bp.array?(Ep(r,{code:mp.invalid_type,expected:bp.array,received:r.parsedType}),Tp):r.data.length<this._def.items.length?(Ep(r,{code:mp.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),Tp):(!this._def.rest&&r.data.length>this._def.items.length&&(Ep(r,{code:mp.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),n.dirty()),e=r.data.map((function(e,n){var o=t._def.items[n]||t._def.rest;return o?o._parse({data:e,path:hp(hp([],fp(r.path),!1),[n],!1),parent:r}):null})).filter((function(e){return!!e})),r.async?Promise.all(e).then((function(e){return Pp.mergeArray(n,e)})):Pp.mergeArray(n,e))},Object.defineProperty(t.prototype,"items",{get:function(){return this._def.items},enumerable:!1,configurable:!0}),t.prototype.rest=function(e){return new t(up(up({},this._def),{rest:e}))},t.create=function(e,n){return new t(up({items:e,typeName:ff.ZodTuple,rest:null},Rp(n)))},t}(Lp),af=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),Object.defineProperty(t.prototype,"keySchema",{get:function(){return this._def.keyType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueSchema",{get:function(){return this._def.valueType},enumerable:!1,configurable:!0}),t.prototype._parse=function(e){var t=this._processInputParams(e),n=(e=t.status,t.ctx);if(n.parsedType!==bp.object)return Ep(n,{code:mp.invalid_type,expected:bp.object,received:n.parsedType}),Tp;var r,o=[],i=this._def.keyType,a=this._def.valueType;for(r in n.data)o.push({key:i._parse({data:r,path:hp(hp([],fp(n.path),!1),[r],!1),parent:n}),value:a._parse({data:n.data[r],path:hp(hp([],fp(n.path),!1),[r],!1),parent:n})});return n.async?Pp.mergeObjectAsync(e,o):Pp.mergeObjectSync(e,o)},Object.defineProperty(t.prototype,"element",{get:function(){return this._def.valueType},enumerable:!1,configurable:!0}),t.create=function(e,n,r){return new t(n instanceof Lp?up({keyType:e,valueType:n,typeName:ff.ZodRecord},Rp(r)):up({keyType:zp.create(),valueType:e,typeName:ff.ZodRecord},Rp(n)))},t}(Lp),sf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){var t,n,r=this,o=(e=this._processInputParams(e)).status,i=e.ctx;if(i.parsedType!==bp.map)return Ep(i,{code:mp.invalid_type,expected:bp.map,received:i.parsedType}),Tp;var a=this._def.keyType,s=this._def.valueType,c=hp([],fp(i.data.entries()),!1).map((function(e,t){e=(n=fp(e,2))[0];var n=n[1];return{key:a._parse({data:e,path:hp(hp([],fp(i.path),!1),[t,"key"],!1),parent:i}),value:s._parse({data:n,path:hp(hp([],fp(i.path),!1),[t,"value"],!1),parent:i})}}));if(i.async){var u=new Map;return Promise.resolve().then((function(){return lp(r,void 0,void 0,(function(){var e,t,n,r,i,a,s;return dp(this,(function(l){switch(l.label){case 0:l.trys.push([0,6,7,8]),e=pp(c),t=e.next(),l.label=1;case 1:return t.done?[3,5]:[4,(n=t.value).key];case 2:return r=l.sent(),[4,n.value];case 3:if(i=l.sent(),"aborted"===r.status||"aborted"===i.status)return[2,Tp];"dirty"!==r.status&&"dirty"!==i.status||o.dirty(),u.set(r.value,i.value),l.label=4;case 4:return t=e.next(),[3,1];case 5:return[3,8];case 6:return a={error:a=l.sent()},[3,8];case 7:try{t&&!t.done&&(s=e.return)&&s.call(e)}finally{if(a)throw a.error}return[7];case 8:return[2,{status:o.value,value:u}]}}))}))}))}var l=new Map;try{for(var d=pp(c),p=d.next();!p.done;p=d.next()){var f=p.value,h=f.key,m=f.value;if("aborted"===h.status||"aborted"===m.status)return Tp;"dirty"!==h.status&&"dirty"!==m.status||o.dirty(),l.set(h.value,m.value)}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return{status:o.value,value:l}},t.create=function(e,n,r){return new t(up({valueType:n,keyType:e,typeName:ff.ZodMap},Rp(r)))},t}(Lp),cf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){var t=(e=this._processInputParams(e)).status,n=e.ctx;if(n.parsedType!==bp.set)return Ep(n,{code:mp.invalid_type,expected:bp.set,received:n.parsedType}),Tp;var r=this._def.valueType;function o(e){var n,r,o=new Set;try{for(var i=pp(e),a=i.next();!a.done;a=i.next()){var s=a.value;if("aborted"===s.status)return Tp;"dirty"===s.status&&t.dirty(),o.add(s.value)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return{status:t.value,value:o}}return e=hp([],fp(n.data.values()),!1).map((function(e,t){return r._parse({data:e,path:hp(hp([],fp(n.path),!1),[t],!1),parent:n})})),n.async?Promise.all(e).then(o):o(e)},t.create=function(e,n){return new t(up({valueType:e,typeName:ff.ZodSet},Rp(n)))},t}(Lp),uf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.validate=t.implement,t}return ap(t,e),t.prototype._parse=function(e){var t=this,n=this._processInputParams(e).ctx;if(n.parsedType!==bp.function)return Ep(n,{code:mp.invalid_type,expected:bp.function,received:n.parsedType}),Tp;function r(e,t){return Sp({data:e,path:n.path,errorMaps:[n.contextualErrorMap,n.schemaErrorMap,vp,yp].filter((function(e){return!!e})),issueData:{code:mp.invalid_arguments,argumentsError:t}})}function o(e,t){return Sp({data:e,path:n.path,errorMaps:[n.contextualErrorMap,n.schemaErrorMap,vp,yp].filter((function(e){return!!e})),issueData:{code:mp.invalid_return_type,returnTypeError:t}})}var i={errorMap:n.contextualErrorMap},a=n.data;return this._def.returns instanceof gf?Op((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return lp(t,void 0,void 0,(function(){var t,n,s;return dp(this,(function(c){switch(c.label){case 0:return t=new gp([]),[4,this._def.args.parseAsync(e,i).catch((function(n){throw t.addIssue(r(e,n)),t}))];case 1:return n=c.sent(),[4,a.apply(void 0,hp([],fp(n),!1))];case 2:return s=c.sent(),[4,this._def.returns._def.type.parseAsync(s,i).catch((function(e){throw t.addIssue(o(s,e)),t}))];case 3:return[2,c.sent()]}}))}))})):Op((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!(s=t._def.args.safeParse(e,i)).success)throw new gp([r(e,s.error)]);var s,c=a.apply(void 0,hp([],fp(s.data),!1));if(!(s=t._def.returns.safeParse(c,i)).success)throw new gp([o(c,s.error)]);return s.data}))},t.prototype.parameters=function(){return this._def.args},t.prototype.returnType=function(){return this._def.returns},t.prototype.args=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new t(up(up({},this._def),{args:of.create(e).rest(Wp.create())}))},t.prototype.returns=function(e){return new t(up(up({},this._def),{returns:e}))},t.prototype.implement=function(e){return this.parse(e)},t.prototype.strictImplement=function(e){return this.parse(e)},t.create=function(e,n,r){return new t(up({args:(e||of.create([])).rest(Wp.create()),returns:n||Wp.create(),typeName:ff.ZodFunction},Rp(r)))},t}(Lp),lf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),Object.defineProperty(t.prototype,"schema",{get:function(){return this._def.getter()},enumerable:!1,configurable:!0}),t.prototype._parse=function(e){return e=this._processInputParams(e).ctx,this._def.getter()._parse({data:e.data,path:e.path,parent:e})},t.create=function(e,n){return new t(up({getter:e,typeName:ff.ZodLazy},Rp(n)))},t}(Lp),df=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){var t;return e=(t=this._processInputParams(e)).status,(t=t.ctx).data!==this._def.value?(Ep(t,{code:mp.invalid_type,expected:this._def.value,received:t.data}),Tp):{status:e.value,value:t.data}},Object.defineProperty(t.prototype,"value",{get:function(){return this._def.value},enumerable:!1,configurable:!0}),t.create=function(e,n){return new t(up({value:e,typeName:ff.ZodLiteral},Rp(n)))},t}(Lp);function pf(e){return new hf({values:e,typeName:ff.ZodEnum})}var ff,hf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){return e=this._processInputParams(e).ctx,-1===this._def.values.indexOf(e.data)?(Ep(e,{code:mp.invalid_enum_value,options:this._def.values}),Tp):Op(e.data)},Object.defineProperty(t.prototype,"options",{get:function(){return this._def.values},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enum",{get:function(){var e,t,n={};try{for(var r=pp(this._def.values),o=r.next();!o.done;o=r.next()){var i=o.value;n[i]=i}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Values",{get:function(){var e,t,n={};try{for(var r=pp(this._def.values),o=r.next();!o.done;o=r.next()){var i=o.value;n[i]=i}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Enum",{get:function(){var e,t,n={};try{for(var r=pp(this._def.values),o=r.next();!o.done;o=r.next()){var i=o.value;n[i]=i}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),t.create=pf,t}(Lp),mf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return-1===(e=sp.getValidEnumValues(this._def.values)).indexOf(t.data)?(Ep(t,{code:mp.invalid_enum_value,options:sp.objectValues(e)}),Tp):Op(t.data)},t.create=function(e,n){return new t(up({values:e,typeName:ff.ZodNativeEnum},Rp(n)))},t}(Lp),gf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){var t=this,n=this._processInputParams(e).ctx;return n.parsedType!==bp.promise&&!1===n.async?(Ep(n,{code:mp.invalid_type,expected:bp.promise,received:n.parsedType}),Tp):(e=n.parsedType===bp.promise?n.data:Promise.resolve(n.data),Op(e.then((function(e){return t._def.type.parseAsync(e,{path:n.path,errorMap:n.contextualErrorMap})}))))},t.create=function(e,n){return new t(up({type:e,typeName:ff.ZodPromise},Rp(n)))},t}(Lp),yf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype.innerType=function(){return this._def.schema},t.prototype._parse=function(e){var t=this,n=(e=this._processInputParams(e)).status,r=e.ctx,o=this._def.effect||null;if("preprocess"===o.type)return e=o.transform(r.data),r.async?Promise.resolve(e).then((function(e){return t._def.schema._parseAsync({data:e,path:r.path,parent:r})})):this._def.schema._parseSync({data:e,path:r.path,parent:r});if("refinement"===o.type){var i={addIssue:function(e){Ep(r,e),e.fatal?n.abort():n.dirty()},get path(){return r.path}};function s(e){var t=o.refinement(e,i);if(r.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e}if(i.addIssue=i.addIssue.bind(i),!1!==r.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((function(e){return"aborted"===e.status?Tp:("dirty"===e.status&&n.dirty(),s(e.value).then((function(){return{status:n.value,value:e.value}})))}));var a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===a.status?Tp:("dirty"===a.status&&n.dirty(),s(a.value),{status:n.value,value:a.value})}if("transform"===o.type){if(!1!==r.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((function(e){return jp(e)?Promise.resolve(o.transform(e.value)).then(Op):e}));if(a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r}),!jp(a))return a;if((a=o.transform(a.value))instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return Op(a)}sp.assertNever(o)},t.create=function(e,n,r){return new t(up({schema:e,typeName:ff.ZodEffects,effect:n},Rp(r)))},t.createWithPreprocess=function(e,n,r){return new t(up({schema:n,effect:{type:"preprocess",transform:e},typeName:ff.ZodEffects},Rp(r)))},t}(Lp),vf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){return(e=this._processInputParams(e).ctx).parsedType===bp.undefined?Op(void 0):this._def.innerType._parse({data:e.data,path:e.path,parent:e})},t.prototype.unwrap=function(){return this._def.innerType},t.create=function(e,n){return new t(up({innerType:e,typeName:ff.ZodOptional},Rp(n)))},t}(Lp),bf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){return(e=this._processInputParams(e).ctx).parsedType===bp.null?Op(null):this._def.innerType._parse({data:e.data,path:e.path,parent:e})},t.prototype.unwrap=function(){return this._def.innerType},t.create=function(e,n){return new t(up({innerType:e,typeName:ff.ZodNullable},Rp(n)))},t}(Lp),wf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ap(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return e=t.data,t.parsedType===bp.undefined&&(e=this._def.defaultValue()),this._def.innerType._parse({data:e,path:t.path,parent:t})},t.prototype.removeDefault=function(){return this._def.innerType},t.create=function(e,t){return new vf(up({innerType:e,typeName:ff.ZodOptional},Rp(t)))},t}(Lp),_f=function(e,t){return e?Gp.create().refine(e,t):Gp.create()},Sf={object:ef.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodPromise="ZodPromise"}(ff=ff||{});var Ef=zp.create,xf=Bp.create,kf=Vp.create,Pf=qp.create,Tf=Fp.create,Of=Zp.create,Af=Hp.create,If=Gp.create,jf=Wp.create,Nf=Jp.create,Cf=Qp.create,Rf=Kp.create,Df=ef.create,Lf=ef.strictCreate,Mf=tf.create,Uf=rf.create,$f=of.create,zf=af.create,Bf=sf.create,Vf=cf.create,qf=uf.create,Ff=lf.create,Zf=df.create,Hf=hf.create,Gf=mf.create,Wf=gf.create,Jf=yf.create,Qf=vf.create,Kf=bf.create,Yf=yf.createWithPreprocess,Xf=Object.freeze({__proto__:null,ZodParsedType:bp,getParsedType:_p,makeIssue:Sp,EMPTY_PATH:[],addIssueToContext:Ep,ParseStatus:Pp,INVALID:Tp,DIRTY:function(e){return{status:"dirty",value:e}},OK:Op,isAborted:Ap,isDirty:Ip,isValid:jp,isAsync:Np,ZodType:Lp,ZodString:zp,ZodNumber:Bp,ZodBigInt:Vp,ZodBoolean:qp,ZodDate:Fp,ZodUndefined:Zp,ZodNull:Hp,ZodAny:Gp,ZodUnknown:Wp,ZodNever:Jp,ZodVoid:Qp,ZodArray:Kp,get objectUtil(){return Dp},ZodObject:ef,ZodUnion:tf,ZodIntersection:rf,ZodTuple:of,ZodRecord:af,ZodMap:sf,ZodSet:cf,ZodFunction:uf,ZodLazy:lf,ZodLiteral:df,ZodEnum:hf,ZodNativeEnum:mf,ZodPromise:gf,ZodEffects:yf,ZodTransformer:yf,ZodOptional:vf,ZodNullable:bf,ZodDefault:wf,custom:_f,Schema:Lp,ZodSchema:Lp,late:Sf,get ZodFirstPartyTypeKind(){return ff},any:If,array:Rf,bigint:kf,boolean:Pf,date:Tf,effect:Jf,enum:Hf,function:qf,instanceof:function(e,t){return void 0===t&&(t={message:"Input not instance of "+e.name}),_f((function(t){return t instanceof e}),t)},intersection:Uf,lazy:Ff,literal:Zf,map:Bf,nativeEnum:Gf,never:Nf,null:Af,nullable:Kf,number:xf,object:Df,oboolean:function(){return Pf().optional()},onumber:function(){return xf().optional()},optional:Qf,ostring:function(){return Ef().optional()},preprocess:Yf,promise:Wf,record:zf,set:Vf,strictObject:Lf,string:Ef,transformer:Jf,tuple:$f,undefined:Of,union:Mf,unknown:jf,void:Cf,ZodIssueCode:mp,quotelessJson:function(e){return JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:")},ZodError:gp,defaultErrorMap:yp,get overrideErrorMap(){return vp},setErrorMap:function(e){vp=e}});const eh=Xf.array(Xf.array(Xf.number()).length(2)),th=Xf.record((nh=Xf.record(Xf.unknown()),Xf.array(Xf.object({sizes:eh.or(Xf.literal("all")),params:nh}))));var nh;const rh=Xf.union([Xf.literal("block"),Xf.literal("inline"),Xf.literal("inline_left"),Xf.literal("inline_right"),Xf.literal("inline_left_right"),Xf.literal("generated")]),oh=Xf.union([Xf.literal("before"),Xf.literal("after"),Xf.literal("prepend"),Xf.literal("append")]),ih=Xf.union([Xf.literal("above"),Xf.literal("below")]),ah=Xf.union([Xf.literal("mpu"),Xf.literal("dmpu"),Xf.literal("leaderboard"),Xf.literal("sponsored-post"),Xf.literal("sponsored-brand"),Xf.literal("infinite-scroll")]),sh=Xf.union([Xf.literal("standard"),Xf.literal("incremental"),Xf.literal("skyscraper"),Xf.literal("anchored"),Xf.literal("native"),Xf.literal("oop"),Xf.literal("sponsored"),Xf.literal("interstitial")]),ch=Xf.object({refreshTime:Xf.number().optional(),adUnitNameInPath:Xf.string().optional(),adDensity:Xf.object({avoidanceDistance:Xf.number()}).optional(),roadblock:Xf.object({incrementalCap:Xf.number()}).optional()}),uh=Xf.object({text:Xf.string().optional(),style:Xf.string().optional(),position:ih.optional().default("above"),backgroundColor:Xf.string().optional(),applyLabelToAds:Xf.string().optional()}),lh=Xf.object({multiple:Xf.string().optional(),dynamicRoot:Xf.string().optional(),category:Xf.string().optional(),ignoreExclusion:Xf.string().optional(),fluid:Xf.string().optional(),allowList:Xf.string().optional(),additionalAvoidance:Xf.string().optional(),generatedMaximumSlots:Xf.number().optional(),generatedMinimumSlots:Xf.number().optional(),generatedEndSelector:Xf.string().optional(),generatedSlotHeight:Xf.number().optional(),generatedSlotGap:Xf.number().optional()}),dh=Xf.record(Xf.string()),ph=Xf.object({config:lh.optional().default({}),label:uh.optional().default({}),style:dh.optional().default({}),generatedContainerStyle:dh.optional().default({}),generatedSpacerStyle:dh.optional().default({})}),fh=Xf.object({name:Xf.string(),hook:Xf.string(),type:rh,position:oh,size:Xf.object({w:Xf.number(),h:Xf.number()}),multiple:Xf.boolean().optional(),style:Xf.record(Xf.string()).optional(),reserved:Xf.boolean().optional(),properties:ph.partial().nullable()}),hh=Xf.string(),mh=Xf.record(hh),gh=Xf.object({category:ah.optional(),slotAffinity:Xf.string().optional(),refresh:Xf.string().optional(),lazyload:Xf.string().optional(),shrinkWrap:Xf.string().optional(),position:Xf.union([Xf.literal("left"),Xf.literal("right")]).optional(),centerVertically:Xf.string().optional(),topPosition:Xf.number().optional(),centerHorizontally:Xf.string().optional(),disabledCountries:Xf.string().optional(),enabledCountries:Xf.string().optional(),addFluidSize:Xf.string().optional(),closeButton:Xf.string().optional(),fluid:Xf.string().optional(),rules:Xf.string().optional(),refreshDisable:Xf.string().optional(),hook:Xf.string().optional(),stayInSlot:Xf.string().optional(),doNotRestrict:Xf.string().optional(),ignoreAvoidance:Xf.string().optional(),inRoadblock:Xf.string().optional(),roadblockIncremental:Xf.string().optional()}),yh=Xf.object({name:Xf.string(),sizes:Xf.array(Xf.object({w:Xf.number(),h:Xf.number()})),type:sh,slotAffinity:Xf.string().optional(),stayInSlot:Xf.boolean().optional(),lazyload:Xf.boolean().optional(),targeting:Xf.record(Xf.array(Xf.string()).or(Xf.string())).optional().default({}),properties:gh.nullish().default({})}),vh=Xf.object({id:Xf.number().default(-1),platformId:Xf.number().default(-1),abTest:Xf.object({origin:Xf.string(),t_name:Xf.string(),t_id:Xf.string(),v_id:Xf.string(),v_name:Xf.string()}).optional(),linkedIds:Xf.array(Xf.number()).default([]),siteAdUnitPath:Xf.string().default(""),placementAdUnitPath:Xf.string().default(""),slots:Xf.array(fh).default([]),adunits:Xf.array(yh).default([]),settings:ch.default({})}),bh=Xf.record(Xf.union([Xf.number(),Xf.array(Xf.record(Xf.unknown()))])).default({}),wh=Xf.object({message:Xf.string().optional()}).default({}),_h=Xf.object({global:Xf.object({sellerID:Xf.string().nullish().default(null)}).optional(),adServer:Xf.object({enabled:Xf.boolean().default(!1)}),amazon:Xf.object({enabled:Xf.boolean().default(!1)}),amClio:Xf.object({enabled:Xf.boolean().default(!1)}),ias:Xf.object({enabled:Xf.boolean().default(!1)}),indexExchange:Xf.object({enabled:Xf.boolean().default(!1),id:Xf.string().default(""),mode:Xf.literal("standard")}),liveRamp:Xf.object({enabled:Xf.boolean().default(!1),configurationId:Xf.string().default("")}),pubmatic:Xf.object({enabled:Xf.boolean().default(!1),profileId:Xf.string().default("")}),prebid:Xf.object({enabled:Xf.boolean().default(!1),bidders:th.optional()})}),Sh=Xf.object({exp:Xf.number().default(-1),floorPrices:Xf.record(Xf.string(),Xf.number())}),Eh=Xf.object({id:Xf.number(),server:Xf.string(),ts:Xf.number(),debug:bh.default({}),error:wh,placement:vh,targeting:mh,config:_h.partial(),bidFloors:Sh}).strip().partial(),xh={w:0,h:0},kh=(e,t)=>t.w>e.w?t:e,Ph=(e,t)=>t.h>e.h?t:e;function Th(e){var t,n,r,o;const i=ro().toLowerCase();if(null===(t=e.properties)||void 0===t?void 0:t.enabledCountries){const t=null===(n=e.properties)||void 0===n?void 0:n.enabledCountries.toLowerCase().split(",").map((e=>e.trim()));if(-1===t.indexOf(i))return!1}if(null===(r=e.properties)||void 0===r?void 0:r.disabledCountries){const t=null===(o=e.properties)||void 0===o?void 0:o.disabledCountries.toLowerCase().split(",").map((e=>e.trim()));if(t.indexOf(i)>-1)return!1}return!0}function Oh(e,t,n){var r,o,i,a,s,c,u,l,d,p,f,h,m,g,y,v,b,w,_;const S=n;if((null===(r=e.properties)||void 0===r?void 0:r.category)&&(S.category=null===(o=e.properties)||void 0===o?void 0:o.category),(null===(i=e.properties)||void 0===i?void 0:i.position)&&(S.position=null===(a=e.properties)||void 0===a?void 0:a.position),(null===(s=e.properties)||void 0===s?void 0:s.refreshDisable)&&(S.refreshDisabled="true"===(null===(c=e.properties)||void 0===c?void 0:c.refreshDisable)),(null===(u=e.properties)||void 0===u?void 0:u.centerVertically)&&(S.verticallyCentered="true"===(null===(l=e.properties)||void 0===l?void 0:l.centerVertically)),(null===(d=e.properties)||void 0===d?void 0:d.topPosition)&&(S.topPosition=null===(p=e.properties)||void 0===p?void 0:p.topPosition),"true"===(null===(f=e.properties)||void 0===f?void 0:f.refresh)&&t.refreshTime&&(S.refresh=t.refreshTime),"true"===(null===(h=e.properties)||void 0===h?void 0:h.addFluidSize)&&S.gptInput.sizes&&S.gptInput.sizes.push("fluid"),"true"===(null===(m=e.properties)||void 0===m?void 0:m.fluid)&&(S.fluid=!0),"true"===(null===(g=e.properties)||void 0===g?void 0:g.ignoreAvoidance)&&(S.ignoreCategoryAvoidance=!0),"true"===(null===(y=e.properties)||void 0===y?void 0:y.closeButton)&&(S.closeButton=!0),"true"===(null===(v=e.properties)||void 0===v?void 0:v.inRoadblock)&&(S.inRoadblock=!0),"true"===(null===(b=e.properties)||void 0===b?void 0:b.roadblockIncremental)&&(S.roadblockIncremental=!0),!(null===(w=e.properties)||void 0===w?void 0:w.rules))return S;try{S.categoryAvoidanceRules=JSON.parse(null===(_=e.properties)||void 0===_?void 0:_.rules)}catch(t){Je.error(`Invalid JSON structure for rules of ad unit ${e.name}`)}return S}function Ah(e,t){return()=>e.placement?e.placement.adunits.filter((e=>"incremental"!==e.type)).filter(Th).map((n=>{var r,o;let i={mode:"standard"===n.type||"incremental"===n.type||"native"===n.type||"sponsored"===n.type?"slotify":n.type,name:n.name,width:n.sizes.reduce(kh,xh).w,height:n.sizes.reduce(Ph,xh).h,floorPrices:null===(r=e.bidFloors)||void 0===r?void 0:r.floorPrices,affinitySlotID:n.slotAffinity,gptInput:{sizes:n.sizes.map((e=>[e.w,e.h])),targeting:Object.assign(Object.assign({},n.targeting),{adUnitName:[n.name]})},adUnitPath:t(n.name)};return i=Oh(n,(null===(o=e.placement)||void 0===o?void 0:o.settings)||{},i),"sponsored"===n.type&&(i.category="sponsored-post",i.fluid=!0),i})):[]}function Ih(e,t){let n=0;const r={},o="${autoincrement}",i=e=>{const t={};return Object.entries(e.targeting).forEach((([n,i])=>{Array.isArray(i)&&(t[n]=i.map((t=>{if(t.includes(o)){r[e.name]||(r[e.name]={}),r[e.name][n]||(r[e.name][n]=1);const i=t.replace(o,r[e.name][n].toString());return r[e.name][n]++,i}return t})))})),t};return()=>{var r;if(!e.placement)return[];const o=null===(r=e.placement)||void 0===r?void 0:r.adunits.filter((e=>"incremental"===e.type)).filter(Th).map((r=>{var o,a;const s={mode:"slotify",name:`${r.name}${n}`,width:r.sizes.reduce(kh,xh).w,height:r.sizes.reduce(Ph,xh).h,floorPrices:null===(o=e.bidFloors)||void 0===o?void 0:o.floorPrices,gptInput:{sizes:r.sizes.map((e=>[e.w,e.h])),targeting:Object.assign(Object.assign({},i(r)),{adUnitName:[`${r.name}${n}`]})},adUnitPath:t(`${r.name}-${Math.min(10,n)}`)};return Oh(r,(null===(a=e.placement)||void 0===a?void 0:a.settings)||{},s),s}));return n+=1,o}}const jh=ze(),Nh={page_background:()=>jh.getComputedStyle(document.body,null).getPropertyValue("background-color"),page_text:()=>jh.getComputedStyle(document.body,null).getPropertyValue("color")},Ch=(e,t)=>Object.fromEntries(Object.entries(e).map((([e,n])=>[e,t.reduce(((e,[t,n])=>null==e?void 0:e.replace(new RegExp(t,"gmi"),n)),n)])));const Rh=function(e){var t;const n={static:[],dynamic:[],generated:[]};return Object.values((null===(t=e.placement)||void 0===t?void 0:t.slots)||{}).forEach((e=>{var t,r,o,i;if(null===(r=null===(t=e.properties)||void 0===t?void 0:t.label)||void 0===r?void 0:r.backgroundColor){const t=(null===(i=null===(o=e.properties)||void 0===o?void 0:o.label)||void 0===i?void 0:i.style)||"";e.properties.label.style=t.concat(" backgroundColor: ",e.properties.label.backgroundColor)}n.static.push(...function(e){var t,n;const{properties:r,size:o=!1}=e,i=bt(e,["properties","size"]);if("generated"===i.type.toLowerCase())return[];if(null===(t=null==r?void 0:r.config)||void 0===t?void 0:t.dynamicRoot)return[];const a=Object.entries(Nh).map((([e,t])=>[e,t()]));let s;const c="true"===(null===(n=null==r?void 0:r.config)||void 0===n?void 0:n.multiple);if(c)s=As(i.hook);else{s=[];const e=fs(i.hook);e&&s.push(e)}const u=[];return s.forEach((({isMultipleSlot:e,constantEntries:t,slotify:n,slots:r,properties:o,size:i})=>(a,s)=>{var c,u,l,d,p,f;const h=Object.assign({},n);e&&(h.name=`${h.name}-${s}`),r.push(Object.assign(Object.assign({},h),{name:h.name,genericName:n.name,type:h.type.toLowerCase(),ignoreExclusion:"true"===(null===(c=null==o?void 0:o.config)||void 0===c?void 0:c.ignoreExclusion)||!1,fluid:"true"===(null===(u=null==o?void 0:o.config)||void 0===u?void 0:u.fluid)||!1,adCategoryAllowList:(null===(d=null===(l=null==o?void 0:o.config)||void 0===l?void 0:l.allowList)||void 0===d?void 0:d.split(","))||[],additionalAvoidance:(null===(f=null===(p=null==o?void 0:o.config)||void 0===p?void 0:p.additionalAvoidance)||void 0===f?void 0:f.split(",").map((e=>({hook:e,coordinates:{top:0,bottom:0,left:0,right:0,height:0}}))))||[],hook:a,width:i?i.w:0,height:i?i.h:0,coordinates:{top:0,bottom:0,left:0,right:0},style:Ch((null==o?void 0:o.style)||{},t),label:Ch((null==o?void 0:o.label)||{},t)}))})({isMultipleSlot:c,constantEntries:a,slotify:i,slots:u,properties:r,size:o})),u}(e)),n.dynamic.push(...function(e){var t,n,r,o,i,a,s,c,u,l,d;const{properties:p,size:f=!1}=e,h=bt(e,["properties","size"]),m="generated"===h.type.toLowerCase();if(!(null===(t=null==p?void 0:p.config)||void 0===t?void 0:t.dynamicRoot))return[];const g=Object.entries(Nh).map((([e,t])=>[e,t()]));return[Object.assign(Object.assign(Object.assign({},h),{name:h.name,genericName:h.name,type:h.type.toLowerCase(),ignoreExclusion:"true"===(null===(n=null==p?void 0:p.config)||void 0===n?void 0:n.ignoreExclusion)||!1,adCategoryAllowList:(null===(o=null===(r=null==p?void 0:p.config)||void 0===r?void 0:r.allowList)||void 0===o?void 0:o.split(","))||[],fluid:"true"===(null===(i=null==p?void 0:p.config)||void 0===i?void 0:i.fluid)||!1,hook:null,width:f?f.w:0,height:f?f.h:0,dynamicConfig:{root:(null===(a=null==p?void 0:p.config)||void 0===a?void 0:a.dynamicRoot)||"",hook:h.hook},coordinates:{top:0,bottom:0,left:0,right:0},style:Ch((null==p?void 0:p.style)||{},g),label:Ch((null==p?void 0:p.label)||{},g)}),m?{generatedContainerStyle:Ch((null==p?void 0:p.generatedContainerStyle)||{},g),generatedSpacerStyle:Ch((null==p?void 0:p.generatedSpacerStyle)||{},g),generatedSlotsConfig:{maximumSlots:Number(null===(s=null==p?void 0:p.config)||void 0===s?void 0:s.generatedMaximumSlots)||1/0,minimumSlots:Number(null===(c=null==p?void 0:p.config)||void 0===c?void 0:c.generatedMinimumSlots)||0,endSelector:null===(u=null==p?void 0:p.config)||void 0===u?void 0:u.generatedEndSelector,slotGap:null===(l=null==p?void 0:p.config)||void 0===l?void 0:l.generatedSlotGap,slotHeight:null===(d=null==p?void 0:p.config)||void 0===d?void 0:d.generatedSlotHeight}}:{})]}(e)),n.generated.push(...function(e){var t,n;const{properties:r,size:o=!1}=e,i=bt(e,["properties","size"]);if(null===(t=null==r?void 0:r.config)||void 0===t?void 0:t.dynamicRoot)return[];if("generated"!==i.type.toLowerCase())return[];const a=Object.entries(Nh).map((([e,t])=>[e,t()]));let s;const c="true"===(null===(n=null==r?void 0:r.config)||void 0===n?void 0:n.multiple);if(c)s=As(i.hook);else{s=[];const e=fs(i.hook);e&&s.push(e)}const u=[];return s.forEach((({isMultipleSlot:e,constantEntries:t,slotify:n,slots:r,properties:o,size:i})=>(a,s)=>{var c,u,l,d,p,f,h,m,g,y,v;const b=Object.assign({},n);e&&(b.name=`${b.name}-${s}`),r.push(Object.assign(Object.assign({},b),{name:b.name,genericName:n.name,type:b.type.toLowerCase(),ignoreExclusion:"true"===(null===(c=null==o?void 0:o.config)||void 0===c?void 0:c.ignoreExclusion)||!1,fluid:"true"===(null===(u=null==o?void 0:o.config)||void 0===u?void 0:u.fluid)||!1,adCategoryAllowList:(null===(d=null===(l=null==o?void 0:o.config)||void 0===l?void 0:l.allowList)||void 0===d?void 0:d.split(","))||[],additionalAvoidance:(null===(f=null===(p=null==o?void 0:o.config)||void 0===p?void 0:p.additionalAvoidance)||void 0===f?void 0:f.split(",").map((e=>({hook:e,coordinates:{top:0,bottom:0,left:0,right:0,height:0}}))))||[],hook:a,width:i?i.w:0,height:i?i.h:0,coordinates:{top:0,bottom:0,left:0,right:0},style:Ch((null==o?void 0:o.style)||{},t),label:Ch((null==o?void 0:o.label)||{},t),generatedContainerStyle:Ch((null==o?void 0:o.generatedContainerStyle)||{},t),generatedSpacerStyle:Ch((null==o?void 0:o.generatedSpacerStyle)||{},t),generatedSlotsConfig:{maximumSlots:Number(null===(h=null==o?void 0:o.config)||void 0===h?void 0:h.generatedMaximumSlots)||1/0,minimumSlots:Number(null===(m=null==o?void 0:o.config)||void 0===m?void 0:m.generatedMinimumSlots)||0,endSelector:null===(g=null==o?void 0:o.config)||void 0===g?void 0:g.generatedEndSelector,slotGap:null===(y=null==o?void 0:o.config)||void 0===y?void 0:y.generatedSlotGap,slotHeight:null===(v=null==o?void 0:o.config)||void 0===v?void 0:v.generatedSlotHeight}}))})({isMultipleSlot:c,constantEntries:a,slotify:i,slots:u,properties:r,size:o})),u}(e))})),n},Dh=/(^\/+)|(\/+$)/g,Lh=(e="")=>e.replace(Dh,""),Mh=function(e){var t,n,r,o,i,a;const s={id:-1,platformId:-1,adUnitPath:"",linkedIds:[],adUnits:{standard:()=>[],incremental:()=>[]},slots:{static:[],dynamic:[],generated:[]},settings:{}},c=Jl(),u=`/${[null===(t=e.placement)||void 0===t?void 0:t.siteAdUnitPath,...c?[c]:[],null===(n=e.placement)||void 0===n?void 0:n.placementAdUnitPath].map(Lh).join("/")}`;return s.id=(null===(r=e.placement)||void 0===r?void 0:r.id)||s.id,s.platformId=(null===(o=e.placement)||void 0===o?void 0:o.platformId)||s.platformId,s.abTest=function(e){var t;if(null===(t=e.placement)||void 0===t?void 0:t.abTest)return{origin:e.placement.abTest.origin,t_name:e.placement.abTest.t_name,t_id:e.placement.abTest.t_id,v_id:e.placement.abTest.v_id,v_name:e.placement.abTest.v_name}}(e),s.adUnitPath=u,s.linkedIds=(null===(i=e.placement)||void 0===i?void 0:i.linkedIds)||s.linkedIds,s.slots=Rh(e),s.adUnits=((e,t)=>{const n=t.standard().filter((t=>{if(""===t.affinitySlotID||"string"!=typeof t.affinitySlotID)return!0;const n=e.static.filter((e=>e.name===t.affinitySlotID));return!!(n&&n.length>0)||(Je.error(`The ad unit '${t.name}' has a slot affinity '${t.affinitySlotID}' but no matching slot was found.`),!1)}));return 0===n.length&&Je.error("No standard ad units after removing orphans."),{standard:()=>n,incremental:t.incremental}})(s.slots,function(e,t){const n=n=>{var r;return(null===(r=e.placement)||void 0===r?void 0:r.settings.adUnitNameInPath)?`${t}/${n}`:t};return{standard:Ah(e,n),incremental:Ih(e,n)}}(e,u)),s.settings=function(e){var t;const n={};if(!e)return n;if(e.refreshTime){const t=Number(e.refreshTime);Number.isNaN(Number(t))||(n.refreshTime=t)}if(e.adUnitNameInPath){const{adUnitNameInPath:t}=e;n.adUnitNameInPath="true"===t}if(void 0!==(null===(t=e.adDensity)||void 0===t?void 0:t.avoidanceDistance)){const{avoidanceDistance:t}=e.adDensity;n.adDensity="number"==typeof t?{avoidanceDistance:t}:{avoidanceDistance:parseInt(t,10)}}return e.roadblock&&(n.roadblock={incrementalCap:e.roadblock.incrementalCap}),n}((null===(a=e.placement)||void 0===a?void 0:a.settings)||{}),s},Uh=(e,t)=>e.split(t).filter((e=>""!==e)),$h={ex:e=>Uh(e,"|"),kw:e=>Uh(e," "),format:e=>Uh(e,/,\s*/gim)},zh=function(e){var t;const n={};return e.targeting?(e.bidFloors&&(e.targeting.ex=[e.targeting.ex,null===(t=e.bidFloors)||void 0===t?void 0:t.exp].filter(Boolean).join("|")),Object.keys(e.targeting).forEach((t=>{n[t]=e.targeting?function(e,t){return Object.keys($h).includes(e)?$h[e](t):t}(t,e.targeting[t]):""})),n):n},Bh=function(e){if(e.config)return Object.entries(e.config).concat(Object.entries(Yl)).reduce(((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},e[t]),n)})),{global:{sellerID:null},adServer:{enabled:!1},amazon:{enabled:!1},amClio:{enabled:!1},ias:{enabled:!1},indexExchange:{enabled:!1,id:"",mode:"standard"},liveRamp:{enabled:!1,configurationId:""},pubmatic:{enabled:!1,profileId:""},prebid:{enabled:!1,bidders:{}}})},Vh=Eh.transform((e=>({debug:{},error:{},placement:Mh(e),targeting:zh(e),thirdPartyAPIConfig:Bh(e)}))),qh=Pt("sommelier_url"),Fh=ze(),Zh=()=>{var e;let t;const n=io();switch(n.device){case"desktop":t=np(n);break;case"tablet":t=rp(n);break;case"mobile":t=op(n);break;default:Je.error(`No config fallback available for device: ${n.device}. Using desktop config.`),t=np(n)}return Je.warn(`Using fallback config: ${(null===(e=null==t?void 0:t.placement)||void 0===e?void 0:e.id)||"(No ID)"}`),t};function Hh(){return wt(this,void 0,void 0,(function*(){Ri({category:"script",message:"Sommelier config requested"});const e=Ro("config",1,"ConfigRequest"),t=Fr.mark("Sommelier config requested"),n=yield wt(void 0,void 0,void 0,(function*(){const e=Ua()||"";let t=Fh.location.href;return"live"===qh?t=t.replace(/\.[a-z0-9-]+\.van-qa\.futureplc\.engineering/,"").replace(/(www\.)?local\.responsive\./,"www.").replace(/(www\.)?local\.progressive\./,"www."):qh&&(t=qh),(new od).setTemplateName(e).setScreenWidth(lo().width).setLocation(encodeURIComponent(t))})),r=yield n.execute().then((n=>(Fr.recordConfigLoad(),n.placement?n:(Ri({category:"config",message:"Sommelier config empty"}),Fr.mark("Sommelier config empty",t),Je.error("Sommelier config response empty."),Fr.recordConfigEmpty(),Di(),e(null,"REQUEST_STATUS_FAILED"),Zh())))).catch((n=>(Ri({category:"config",message:"Sommelier config request error"}),Fr.mark("Sommelier config request error",t),Je.error(`Sommelier config request failed: ${n.message}`),Di(),n instanceof zi?(Fr.recordConfigTimeout(),e(null,"REQUEST_STATUS_TIMEOUT")):(Fr.recordConfigLoadFail(),e(null,"REQUEST_STATUS_FAILED")),Zh())));zl(r);const o=Vh.safeParse(r);if(!0!==o.success){Ri({category:"config",message:"Sommelier config parse error"}),Fr.mark("Sommelier config parse error",t),Je.error("Unable to parse the config response, encountered the following issues: ",o.error.message),Fr.recordConfigParseError(),Di(),e(null,"REQUEST_STATUS_FAILED");const n=Vh.safeParse(Zh());return n.success?n.data:{}}return e(),Ri({category:"config",message:"Sommelier config loaded"}),Fr.mark("Sommelier config loaded",t),Object.freeze(o.data),o.data}))}const Gh=ze(),Wh=Pt("lrh");function Jh(e,t){void 0!==Gh.freyr&&Gh.freyr.cmd.push((()=>{var n;return null===(n=Gh.freyr)||void 0===n?void 0:n.pushAndUpdate(e,t)}))}const Qh=e=>{if(td){const t=td(e);if(!1===t)return!1;if(!0===t)return!0}return Boolean(e.roadblockIncremental)},Kh=e=>wt(void 0,void 0,void 0,(function*(){if(!1===(yield cl))return;Ct();const t=(yield It)?(e=>{var t;const{device:n}=io(),r=Xl&&n in Xl?Xl[n]:null===(t=e.config.placement.settings.roadblock)||void 0===t?void 0:t.incrementalCap;if(!r)return[];const o=r-e.roadblockIncrementalCount;if(o<=0)return[];const i=e.config.placement.adUnits.incremental().filter(Qh).slice(0,o);return e.roadblockIncrementalCount+=i.length,i})(e):e.config.placement.adUnits.incremental();if(0===t.length)return;const n=t.map((e=>t=>{const n=new Xs(t);return n.update({id:`bordeaux-incremental-ad-${e.incrementalAdIndex}`}),e.ads.push(n),e.incrementalAdIndex+=1,el(n)})(e));yield Promise.all(n)}));class Yh{constructor(){this.values=[]}push(e){this.values.push(e)}getValues(){return this.values}}var Xh,em;!function(e){e.INITIALISING="INITIALISING",e.INITIALISED="INITIALISED",e.CONFIG_RETRIEVED="CONFIG_RETRIEVED",e.CONSENT_RETRIEVED="CONSENT_RETRIEVED",e.THIRD_PARTIES_LOADED="THIRD_PARTIES_LOADED",e.STATIC_SLOTS_HANDLED="STATIC_SLOTS_HANDLED",e.STANDARD_ADS_HANDLED="STANDARD_ADS_HANDLED",e.HANDLING_INCREMENTAL_ADS="HANDLING_INCREMENTAL_ADS",e.ERROR="ERROR"}(Xh||(Xh={})),function(e){e.SET_CONTEXT_REFERENCES="SET_CONTEXT_REFERENCES",e.SET_SUBSYSTEMS_CONFIG="SET_SUBSYSTEMS_CONFIG",e.SETUP_USER_SYNC="SETUP_USER_SYNC",e.SETUP_AD_MANAGER="SETUP_AD_MANAGER",e.HANDLE_ADDITIONAL_SLOTS="HANDLE_ADDITIONAL_SLOTS",e.HANDLE_ERROR="HANDLE_ERROR"}(em||(em={}));const tm=function(e,t){return new vt(e,t)}({predictableActionArguments:!0,schema:{context:{}},id:"bordeaux",context:{config:{},slots:new Yh,ads:new Yh,standardAdIndex:0,incrementalAdIndex:0,roadblockIncrementalCount:0},initial:Xh.INITIALISING,states:{[Xh.INITIALISING]:{invoke:{src:()=>new Promise(((e,t)=>{rl().then((t=>wt(void 0,void 0,void 0,(function*(){const n=ze(),r=io();n.indexExchangeDeviceType=r.device,n.bordeauxAds=Promise.resolve(!0),function(){wt(this,void 0,void 0,(function*(){xo=yield go(),Oo()&&Ao.addEventListener("unload",(()=>{const e=ko.filter((e=>!To.includes(e.auction.id))).map((e=>(e.user.unload_time=(new Date).toISOString(),{ad_request_completed_event:e})));0!==e.length&&Qn(Po,{events:e})}))}))}(),(()=>{var e;const t=ze();((null===(e=null==t?void 0:t.document)||void 0===e?void 0:e.querySelectorAll('script[src="https://bordeaux.futurecdn.net/bordeaux.js"]'))||[]).length>1&&Ci("More than one Bordeaux script has been loaded on this page.")})(),Fn("debug_ads")?Nl():((e,{fingers:t=1,repetitions:n=1,timeout:r=500},o)=>{const i=ze();let a=0,s=null;e.addEventListener("touchstart",(e=>{s&&(i.clearTimeout(s),s=null);const c=e;c.touches&&c.touches.length===t&&(a++,s=i.setTimeout((()=>{a=0,s=null}),r)),a===n&&(a=0,o())}))})(document.body,{repetitions:10,fingers:2},(()=>{"bordeaux"===prompt("Tool")&&Nl()})),rd(),function(){wt(this,void 0,void 0,(function*(){go().then((e=>{void 0!==Gh.freyr&&Jh("userEvent",{id:e,tag:"hybridId"})})).catch((()=>{Je.warn("Failed to pass on HybridID")})),null!==Wh&&void 0!==Gh.freyr&&Jh("userEvent",{id:Wh,tag:"email_sha256"})}))}(),yield Pl,al=!0,il&&sl(!0),ll=!0,ul&&dl(!0),uc=!0,cc&&lc(!0),Fr.recordFrameworkRequest(),Fr.mark({message:"DOMContentLoaded event",time:t.timeStamp}),Fr.mark("Bordeaux framework loaded"),Dl&&Fr.recordAdsBlock(),((e={})=>{var t;t=t=>{Object.entries(e).forEach((([e,n])=>{t.setTag(e,n)}))},t(Pi)})({"device.size":r.device,"url.domain":n.location.hostname}),Ge.onLogError((e=>{Ci(e.logItem.args.toString())})),Ri({category:"script",message:"Bordeaux framework loaded"}),e()})))).catch((()=>{Ri({category:"script",message:"Bordeaux framework error"}),t()})),(ol=ol||new Promise((e=>{const t=ze();"complete"!==t.document.readyState?t.addEventListener("load",(()=>{e({timeStamp:tl()})})):e({timeStamp:tl()})})),ol).then((e=>{Fr.mark({message:"PageLoad event",time:e.timeStamp})}))})),onDone:Xh.INITIALISED,onError:Xh.ERROR},entry:[em.SET_CONTEXT_REFERENCES]},[Xh.INITIALISED]:{invoke:{src:()=>new Promise(((e,t)=>{Hh().then((t=>{Ri({category:"config",message:"Config retrieved"}),e(t)})).catch((()=>{Ri({category:"config",message:"Config error"}),t()}))})),onDone:{target:Xh.CONFIG_RETRIEVED,actions:(rm={config:(e,t)=>t.data},{type:ie,assignment:rm})},onError:Xh.ERROR}},[Xh.CONFIG_RETRIEVED]:{invoke:{src:()=>new Promise(((e,t)=>{Uo().then((()=>{Ri({category:"consent",message:"Consent retrieved"}),e()})).catch((()=>{Ri({category:"consent",message:"Consent error"}),t()}))})),onDone:Xh.CONSENT_RETRIEVED,onError:Xh.ERROR},entry:[em.SET_SUBSYSTEMS_CONFIG]},[Xh.CONSENT_RETRIEVED]:{invoke:{src:e=>new Promise(((t,n)=>{var r,o;(o=null===(r=e.config)||void 0===r?void 0:r.thirdPartyAPIConfig,wt(void 0,void 0,void 0,(function*(){Ri({category:"apis",message:"Third parties requested"});const e=Fr.mark("Third parties requested");yield Uo();const t=Ro("third_parties",1,"LoadingThirdParties");try{const e=o||Pa;xa(Promise.all([$i(e.adServer),(u=e.amClio,wt(void 0,void 0,void 0,(function*(){if(Ji=u,!u.enabled)return Je.warn("Not loading amClio API as it is not enabled"),Qi({enabled:!1,success:!1});Ri({category:"apis",message:"clean.io requested"});const e=Fr.mark("clean.io requested"),t=Ro("cleanio_script",1,"ThirdPartyScripts"),n=yield Promise.race([new Promise(((e,t)=>{setTimeout((()=>{t(new zi(`clean.io: ${Vi} [5000ms]`))}),Bi)})),new Promise(((e,t)=>{const n=ze(),r=n.document.createElement("script");r.id="bordeaux-am-clio",r.src=Wi,r.async=!0,r.onload=()=>e("success"),r.onerror=e=>t(e),n.document.body.appendChild(r)}))]).catch((e=>e instanceof Error?e:new Error(JSON.stringify(e))));return n instanceof Error?(Je.warn(n),n instanceof zi?(Ri({category:"apis",message:"clean.io timeout"}),Fr.mark("clean.io timeout",e),t(null,"REQUEST_STATUS_TIMEOUT")):(Ri({category:"apis",message:"clean.io failed"}),Fr.mark("clean.io failed",e),t(null,"REQUEST_STATUS_FAILED")),Qi({enabled:!0,success:!1})):(Ri({category:"apis",message:"clean.io loaded"}),Fr.mark("clean.io loaded",e),t(),Qi({enabled:!0,success:!0}))}))),(s=e.amazon,c=e.global.sellerID||null,wt(void 0,void 0,void 0,(function*(){if(Hi.schain&&c?Hi.schain.nodes[0].sid=c:delete Hi.schain,qi=s,!s.enabled)return Je.warn("Not loading Amazon API as it is not enabled"),Gi({enabled:!1,success:!1});if(!(yield zo("793")))return Gi({enabled:!0,success:!1});Ri({category:"apis",message:"Amazon requested"});const e=Fr.mark("Amazon requested"),t=Ro("amazon_script",1,"ThirdPartyScripts"),n=yield Promise.race([new Promise(((e,t)=>{setTimeout((()=>{t(new zi(`Amazon: ${Vi} [5000ms]`))}),Bi)})),new Promise(((e,t)=>{const n=Fi.document.createElement("script");n.id="amazon-script",n.src=Zi,n.onload=()=>e("success"),n.onerror=e=>t(e),Fi.document.body.appendChild(n)}))]).catch((e=>e instanceof Error?e:new Error(JSON.stringify(e))));return n instanceof Error?(Je.warn(n),n instanceof zi?(Ri({category:"apis",message:"Amazon timeout"}),Fr.mark("Amazon timeout",e),t(null,"REQUEST_STATUS_TIMEOUT")):(Ri({category:"apis",message:"Amazon failed"}),Fr.mark("Amazon failed",e),t(null,"REQUEST_STATUS_FAILED")),Gi({enabled:!0,success:!1})):void 0===Fi.apstag||null===Fi.apstag||null===Fi.apstag.init?(Je.warn("Amazon API setup failed: apstag is not available."),t(null,"REQUEST_STATUS_FAILED"),Gi({enabled:!0,success:!1})):(!0!==Fi.apstag.inited&&(Fi.apstag.init(Hi),Fi.apstag.inited=!0),Ri({category:"apis",message:"Amazon loaded"}),Fr.mark("Amazon loaded",e),t(),Gi({enabled:!0,success:!0}))}))),wt(void 0,void 0,void 0,(function*(){Ri({category:"apis",message:"GPT requested"});const e=Fr.mark("GPT requested"),t=Ro("gpt_script",1,"ThirdPartyScripts");try{yield new Promise(((e,t)=>{var n;Ki.googletag=Ki.googletag||{cmd:[]},Ki.googletag.cmd=(null===(n=Ki.googletag)||void 0===n?void 0:n.cmd)||[];const r=Ki.document.createElement("script");r.id="gpt-api-script",r.src=Yi,r.async=!0,r.onload=()=>e("success"),r.onerror=e=>t(e),Ki.document.body.appendChild(r)}))}catch(n){return Je.warn(n),Ri({category:"apis",message:"GPT failed"}),Fr.mark("GPT failed",e),t(null,"REQUEST_STATUS_FAILED"),Xi({enabled:!0,success:!1})}const n=yield new Promise((n=>{Ki.googletag&&Ki.googletag.cmd?Ki.googletag.cmd.push((()=>{Ri({category:"apis",message:"GPT loaded"}),Fr.mark("GPT loaded",e),t(),n(!0)})):(Ri({category:"apis",message:"GPT failed"}),Fr.mark("GPT failed",e),t(null,"REQUEST_STATUS_FAILED"),n(!1))}));return Xi({enabled:!0,success:n})})),(a=e.ias,wt(void 0,void 0,void 0,(function*(){if(ra=a,!a.enabled)return Je.warn("Not loading IAS API as it is not enabled"),oa({enabled:!1,success:!1});Ri({category:"apis",message:"IAS requested"});const e=Fr.mark("IAS requested"),t=Ro("ias_script",1,"ThirdPartyScripts"),n=yield Promise.race([new Promise(((e,t)=>{setTimeout((()=>{t(new zi(`IAS: ${Vi} [5000ms]`))}),Bi)})),new Promise(((e,t)=>{const n=ea.document.createElement("script");n.id="ias-script",n.src=ta,n.async=!0,n.onload=()=>e("success"),n.onerror=e=>t(e),ea.document.body.appendChild(n)}))]).catch((e=>e instanceof Error?e:new Error(JSON.stringify(e))));return n instanceof Error?(Je.warn(n),n instanceof zi?(Ri({category:"apis",message:"IAS timeout"}),Fr.mark("IAS timeout",e),t(null,"REQUEST_STATUS_TIMEOUT")):(Ri({category:"apis",message:"IAS failed"}),Fr.mark("IAS failed",e),t(null,"REQUEST_STATUS_FAILED")),oa({enabled:!0,success:!1})):(ea.__iasPET=ea.__iasPET||{queue:[],setTargetingForGPT:()=>{},pubId:na},ea.__iasPET.queue=ea.__iasPET.queue||[],ea.__iasPET.pubId=na,Ri({category:"apis",message:"IAS loaded"}),Fr.mark("IAS loaded",e),t(),oa({enabled:!0,success:!0}))}))),(i=e.indexExchange,wt(void 0,void 0,void 0,(function*(){if(sa=i,!i.enabled)return Je.warn("Not loading Index Exchange API as it is not enabled"),ca({enabled:!1,success:!1});if(!(yield zo("10")))return ca({enabled:!0,success:!1});Ri({category:"apis",message:"Index Exchange requested"});const e=Fr.mark("Index Exchange requested"),t=Ro("iex_script",1,"ThirdPartyScripts"),n=yield Promise.race([new Promise(((e,t)=>{setTimeout((()=>{t(new zi(`Index Excahange: ${Vi} [5000ms]`))}),Bi)})),ua(i)]).catch((e=>e instanceof Error?e:new Error(JSON.stringify(e))));if(n instanceof Error)return Je.warn(n),n instanceof zi?(Ri({category:"apis",message:"Index Exchange timeout"}),Fr.mark("Index Exchange timeout",e),t(null,"REQUEST_STATUS_TIMEOUT")):(Ri({category:"apis",message:"Index Exchange failed"}),Fr.mark("Index Exchange failed",e),t(null,"REQUEST_STATUS_FAILED")),ca({enabled:!0,success:!1});const r=yield new Promise(la);return r?(Ri({category:"apis",message:"Index Exchange loaded"}),Fr.mark("Index Exchange loaded",e),t()):(Ri({category:"apis",message:"Index Exchange failed"}),Fr.mark("Index Exchange failed",e),t(null,"REQUEST_STATUS_FAILED")),ca({enabled:!0,success:r})}))),(r=e.liveRamp,wt(void 0,void 0,void 0,(function*(){if(fa=r,pa=`https://ats-wrapper.privacymanager.io/ats-modules/${r.configurationId}/ats.js`,!r.enabled)return Je.warn("Not loading LiveRamp API as it is not enabled"),ha({enabled:!1,success:!1});if(!(yield zo("97")))return ha({enabled:!0,success:!1});Ri({category:"apis",message:"LiveRamp requested"});const e=Fr.mark("LiveRamp requested"),t=Ro("liveramp_script",1,"ThirdPartyScripts"),n=yield Promise.race([new Promise(((e,t)=>{setTimeout((()=>{t(new zi(`LiveRamp: ${Vi} [5000ms]`))}),Bi)})),new Promise(((e,t)=>{const n=da.document.createElement("script");n.src=pa,n.onload=()=>e("success"),n.onerror=e=>t(e),n.async=!0,n.defer=!0,da.document.body.appendChild(n)}))]).catch((e=>e instanceof Error?e:new Error(JSON.stringify(e))));return n instanceof Error?(Je.warn(n),n instanceof zi?(Ri({category:"apis",message:"LiveRamp timeout"}),Fr.mark("LiveRamp timeout",e),t(null,"REQUEST_STATUS_TIMEOUT")):(Ri({category:"apis",message:"LiveRamp failed"}),Fr.mark("LiveRamp failed",e),t(null,"REQUEST_STATUS_FAILED")),ha({enabled:!0,success:!1})):(Ri({category:"apis",message:"LiveRamp loaded"}),Fr.mark("LiveRamp loaded",e),t(),ha({enabled:!0,success:!0}))}))),(n=e.pubmatic,wt(void 0,void 0,void 0,(function*(){if(ya=n,!n.enabled)return Je.warn("Not loading Pubmatic API as it is not enabled"),va({enabled:!1,success:!1});if(!(yield zo("76")))return va({enabled:!0,success:!1});Ri({category:"apis",message:"Pubmatic requested"});const e=Fr.mark("Pubmatic requested"),t=Ro("pubmatic_script",1,"ThirdPartyScripts"),r=yield Promise.race([new Promise(((e,t)=>{setTimeout((()=>{t(new zi(`Pubmatic: ${Vi} [5000ms]`))}),Bi)})),ba(n)]).catch((e=>e instanceof Error?e:new Error(JSON.stringify(e))));return r instanceof Error?(Je.warn(r),r instanceof zi?(Ri({category:"apis",message:"Pubmatic timeout"}),Fr.mark("Pubmatic timeout",e),t(null,"REQUEST_STATUS_TIMEOUT")):(Ri({category:"apis",message:"Pubmatic failed"}),Fr.mark("Pubmatic failed",e),t(null,"REQUEST_STATUS_FAILED")),va({enabled:!0,success:!1})):(Ri({category:"apis",message:"Pubmatic loaded"}),Fr.mark("Pubmatic loaded",e),t(),va({enabled:!0,success:!0}))}))),Ea(e.prebid,e.global.sellerID||null)])),yield ka}catch(e){Je.error(`Error setting up third party APIs: ${e}`)}var n,r,i,a,s,c,u;Fr.mark("Third parties loaded",e),t()}))).then((()=>{Fr.recordThirdPartiesLoad(),Ri({category:"apis",message:"Third parties loaded"}),t()})).catch((()=>{Ri({category:"apis",message:"Third parties error"}),n()}))})),onDone:Xh.THIRD_PARTIES_LOADED,onError:Xh.ERROR}},[Xh.THIRD_PARTIES_LOADED]:{invoke:{src:e=>new Promise(((t,n)=>{const r=[];e.config.placement.slots.static.forEach(((t,n)=>{const o=new Xs(t);o.update({id:`bordeaux-static-slot-${n}`}),e.slots.push(o);const i=Ws(o);r.push(i)})),Promise.all(r).then((()=>{Ri({category:"slots",message:"Static slots handled"}),t()})).catch((()=>{Ri({category:"slots",message:"Static slots error"}),n()}))})),onDone:Xh.STATIC_SLOTS_HANDLED,onError:Xh.ERROR},entry:[em.SETUP_USER_SYNC,em.SETUP_AD_MANAGER]},[Xh.STATIC_SLOTS_HANDLED]:{invoke:{src:e=>new Promise(((t,n)=>{pl.then((r=>{const o=[];!0===r&&e.config.placement.adUnits.standard().forEach((t=>{const n=new Xs(t);n.update({id:`bordeaux-standard-ad-${e.standardAdIndex}`}),e.ads.push(n),e.standardAdIndex+=1;const r=el(n);o.push(r)})),Promise.all(o).then((()=>wt(void 0,void 0,void 0,(function*(){e.ads.getValues().forEach((e=>{const t=e.getProperty("gptInput");t.targeting=Object.assign(t.targeting,ac(e)),e.update({gptInput:t})})),yield(()=>{Fr.mark("Slotify start standard handling");const e=[];return Rs.getValues().forEach((t=>{if("slotify"!==t.getProperty("mode"))return;if(void 0===t.getProperty("affinitySlotID"))return void Je.error(`Slotify standard handling error - Affinity undefined for ${t.getProperty("name")}`);let n;if(Cs.getValues().forEach((e=>{e.getProperty("name")===t.getProperty("affinitySlotID")&&(n=e)})),void 0===n)return void Je.error(`Slotify standard handling error - Slot undefined for ${t.getProperty("name")}`);if(void 0!==n.getProperty("adID"))return void Je.error(`Slotify standard handling error - Slot already filled for ${t.getProperty("name")}`);if(void 0!==t.getProperty("slotID"))return void Je.error(`Slotify standard handling error - Ad already placed for ${t.getProperty("name")}`);const r=Ms(t,n);e.push(r)})),Promise.all(e)})(),yield us(e.ads.getValues()),Fr.recordAdsLoad(),Ri({category:"ads",message:"Static ads handled"}),t()})))).catch((()=>{Ri({category:"ads",message:"Static ads error"}),n()}))}))})),onDone:Xh.STANDARD_ADS_HANDLED,onError:Xh.ERROR},entry:[em.HANDLE_ADDITIONAL_SLOTS]},[Xh.STANDARD_ADS_HANDLED]:{invoke:{src:e=>new Promise((t=>{const n=t=>{const n=t.getProperty("gptInput");n.targeting=Object.assign(n.targeting,ac(t)),t.update({gptInput:n}),us([t]),Kh(e)};Kh(e).then((()=>{Vs(n),Ri({category:"ads",message:"Incremental ads handled"}),t()}))})),onDone:Xh.HANDLING_INCREMENTAL_ADS,onError:Xh.ERROR}},[Xh.HANDLING_INCREMENTAL_ADS]:{on:{ERROR:Xh.ERROR}},[Xh.ERROR]:{entry:[em.HANDLE_ERROR]}}},{actions:{[em.SET_CONTEXT_REFERENCES]:e=>{var t,n;t=e.ads,sc=t,(e=>{wc=e,gc.document.addEventListener("visibilitychange",(()=>{yc=!document.hidden}),!1),(()=>{let e;gc.addEventListener("mousemove",(()=>{gc.clearTimeout(e),vc=!0,e=gc.setTimeout((()=>{vc=!1}),6e4)}))})(),(()=>{let e;gc.addEventListener("scroll",(()=>{gc.clearTimeout(e),bc=!0,e=gc.setTimeout((()=>{bc=!1}),6e4)}),!!mc&&{passive:!0})})(),It.then((e=>{_c=e})),dc.then((e=>{Sc=e})),ze().setInterval(kc,1e3)})(e.ads),(e=>{Tt=e})(e.ads),(e=>{Vc=e})(e.ads),n=e.slots,Fc=n,(e=>{Ac=e})(e.ads),(e=>{Lc=e})(e.slots)},[em.SET_SUBSYSTEMS_CONFIG]:e=>{var t,n,r,o,i;qs(null===(t=e.config.placement.settings.adDensity)||void 0===t?void 0:t.avoidanceDistance,e.ads,e.slots),o=null===(n=e.config.placement)||void 0===n?void 0:n.id,Hc=o,i=null===(r=e.config.placement)||void 0===r?void 0:r.platformId,Wc=i,li(Object.assign({},e.config.targeting)),function(e){wt(this,void 0,void 0,(function*(){const t=ze();if((null==e?void 0:e.abTest)&&t.ga){const n=((e,t)=>Ku(t.analytics_ga_data)?{dimension26:JSON.stringify(e),nonInteraction:!0}:Object.assign(Object.assign({},t.analytics_ga_data),{dimension26:JSON.stringify(e),nonInteraction:!0}))(e.abTest,t);t.ga("send","event",e.abTest.origin,"ab test initiated","ads placement",n)}}))}(e.config.placement)},[em.SETUP_USER_SYNC]:()=>{(()=>{const e=ze(),t=Uo(),n=$o();if(Mi.enabled){const r=new Qc;return Qu.map((o=>o(r,Da,e,t,n)))}Promise.resolve()})()},[em.SETUP_AD_MANAGER]:e=>{var t;t=e.ads,wt(void 0,void 0,void 0,(function*(){rs=t;const e=yield wt(void 0,void 0,void 0,(function*(){const e=yield $o();return!(!(e&&e.ccpaApplies&&e.consent)||e.consent.uspString.length<3)&&"Y"===e.consent.uspString[2]})),n=yield go(),{googletag:r}=ns;r?(n&&r.pubads().setPublisherProvidedId(n),r.pubads().enableAsyncRendering(),r.pubads().collapseEmptyDivs(!0),r.pubads().enableSingleRequest(),r.pubads().disableInitialLoad(),r.pubads().setCentering(!0),e&&r.pubads().setPrivacySettings({restrictDataProcessing:!0}),r.pubads().addEventListener("slotVisibilityChanged",is),r.pubads().addEventListener("slotRenderEnded",as),r.pubads().addEventListener("slotOnload",ss),r.pubads().addEventListener("impressionViewable",cs),r.setAdIframeTitle("Advertisement"),r.enableServices()):Je.error("googletag is unavailable, unable to initialise.")}))},[em.HANDLE_ADDITIONAL_SLOTS]:e=>{e.config.placement.slots.dynamic.forEach(((t,n)=>wt(void 0,void 0,void 0,(function*(){t.id=`bordeaux-dynamic-slot-${n}`;let r=0;((e,t)=>{if(void 0===e.dynamicConfig)return void Je.error("Error in handle dynamic slot, config is undefined");const n=()=>{if(void 0===e.dynamicConfig)return void Je.error("Error in handle dynamic slot callback, config is undefined");const n=e.name.replace(/[\s-]/g,""),r=Array.from(As(e.dynamicConfig.hook)).filter((e=>"true"!==e.dataset[n]));0!==r.length&&(r.forEach((e=>{e.dataset[n]="true"})),"generated"===e.type.toLowerCase()?r.forEach((n=>{Ys(new Xs(Object.assign(Object.assign({},e),{hook:n})),t)})):t(r))};if(ec){const t=Array.from(As(e.dynamicConfig.root));r=n,t.forEach((e=>{new MutationObserver(r).observe(e,{childList:!0}),r()}))}var r,o;o=()=>{n()},rc.push(o),nc=!0})(t,(n=>{n.forEach((n=>{const o=Object.assign(Object.assign(Object.assign({},t),{hook:n,name:`${t.name}-${r}`,id:`${t.id}-${r}`}),"generated"===t.type.toLowerCase()?{type:"block",position:"append"}:{}),i=new Xs(o);e.slots.push(i),Ws(i),r+=1}))}))})))),e.config.placement.slots.generated.forEach(((t,n)=>wt(void 0,void 0,void 0,(function*(){t.id=`bordeaux-generated-slot-${n}`;let r=0;const o=new Xs(t);Ys(o,(n=>{n.forEach((n=>{const o=Object.assign(Object.assign({},t),{hook:n,name:`${t.name}-${r}`,id:`${t.id}-${r}`,type:"block",position:"append"}),i=new Xs(o);e.slots.push(i),Ws(i),r+=1}))}))}))))},[em.HANDLE_ERROR]:()=>{Fr.recordFrameworkCrash()}}}),nm=$e(tm);var rm;nm.onTransition((e=>{Je.info(e.value)})),nm.start()})()})();