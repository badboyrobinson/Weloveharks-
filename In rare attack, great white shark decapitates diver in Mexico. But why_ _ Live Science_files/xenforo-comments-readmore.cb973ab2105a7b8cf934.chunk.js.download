/*! xenforo-comments-readmore.5653b92b Mon Mar 06 2023 16:51:37 GMT+0000 (Coordinated Universal Time) */
(window.vanillaJsonp=window.vanillaJsonp||[]).push([["xenforo-comments-readmore"],{"./src/responsive/js/app/xenforo_comments_readmore.js":function(n,e,t){"use strict";t.r(e);var r,i={settings:function(){return{content:document.querySelectorAll(".js-read-more"),originalContentArr:[],truncatedContentArr:[],moreLink:"Read More",lessLink:"Less Link"}},init:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r=Object.assign({},this.settings(),n),this.bindEvents()},bindEvents:function(){i.truncateText()},countWords:function(n){return n.split(/\s+/).length},ellipseContent:function(n,e){return n.split(/\s+/).slice(0,e).join(" ")+"..."},truncateText:function(){for(var n=0;n<r.content.length;n++){var e=r.content[n].innerHTML,t=r.content[n].dataset.rmWords,o=i.ellipseContent(e,t),s=i.countWords(e);if(r.originalContentArr.push(e),r.truncatedContentArr.push(o),t<s){r.content[n].innerHTML=r.truncatedContentArr[n];var c=n;i.createLink(c)}}i.handleClick(r.content)},createLink:function(n){var e=document.createElement("span");e.className="read-more__link-wrap",e.innerHTML='<a id="read-more_'.concat(n,'" class="read-more__link" style="cursor:pointer;">').concat(r.moreLink,"</a>"),r.content[n].parentNode.insertBefore(e,r.content[n].nextSibling)},handleClick:function(n){for(var e=document.querySelectorAll(".read-more__link"),t=0,i=e.length;t<i;t++)e[t].addEventListener("click",(function(){var e=this.getAttribute("id").split("_")[1];n[e].classList.toggle("is-expanded"),"true"!==this.dataset.clicked?(n[e].innerHTML=r.originalContentArr[e],this.innerHTML=r.lessLink,this.dataset.clicked=!0):(n[e].innerHTML=r.truncatedContentArr[e],this.innerHTML=r.moreLink,this.dataset.clicked=!1)}))},openAll:function(){for(var n=document.querySelectorAll(".read-more__link"),e=0;e<n.length;e++)content[e].innerHTML=r.truncatedContentArr[e],n[e].innerHTML=r.moreLink}};i.init({lessLink:"Read Less"})}}]);
//# sourceMappingURL=xenforo-comments-readmore.cb973ab2105a7b8cf934.chunk.js.map