/*! nav-subscribe.a782cba1 Thu Mar 30 2023 16:54:58 GMT+0000 (Coordinated Universal Time) */
(window.vanillaJsonp=window.vanillaJsonp||[]).push([["nav-subscribe"],{"./src/progressive/ts/legacy-responsive/nav-subscribe-responsive.ts":function(e,n,t){"use strict";t.r(n);var o=t("./node_modules/fastdom/fastdom.js"),i=t.n(o),s=t("./node_modules/tsmonad/dist/tsmonad.js"),c=t("./src/progressive/ts/utils/monadic-dom.ts"),a=s.Maybe.sequence,r=function(e){i.a.measure((function(){a({subscribeButtonDesktop:Object(c.a)("".concat(e," .nav-subscribe .subscribe-text"),document),widgetContainer:Object(c.a)(".nav-subscribe-widget-container",document)}).fmap((function(e){return Object.assign({},e,{subscribeButtonDesktop:e.subscribeButtonDesktop,widgetContainer:e.widgetContainer})})).caseOf({just:function(n){var t=n.subscribeButtonDesktop,o=n.widgetContainer,s=o.firstElementChild;if(s){var c,a,r,u,d=function(){return window.innerWidth<1e3},b=!1;a=function(e){window.ga("send","event","Navigation",e,"Subscribe",Object.assign({},window.analytics_ga_data,{dimension39:window.location.pathname}))},r=function(){b&&(b=!1,i.a.mutate((function(){o.classList.remove("visible"),a("Dropdown closed")})))},u=function(){b||(b=!0,i.a.mutate((function(){o.classList.add("visible"),document.addEventListener("click",(function e(n){if(b){var t=n.target;t&&!t.closest(".nav-subscribe-widget-container")&&b&&(r(),document.removeEventListener("click",e))}else document.removeEventListener("click",e)})),a("Dropdown opened")})))},(c=t).addEventListener("mouseover",(function(){var e=setTimeout((function(){d()||b||u()}),300),n=function(){e&&clearTimeout(e)};c.addEventListener("mouseout",n),setTimeout((function(){c.removeEventListener("mouseout",n)}),300)})),c.addEventListener("click",(function(e){b||(e.stopPropagation(),u())})),s.addEventListener("mouseout",(function(n){if(b&&!d()){var t=n.relatedTarget;t&&(t.closest(".nav-subscribe-widget-container")||t.closest(e)||r())}}))}},nothing:function(){return console.log("No nav subscribe button present")}})}))};window.reliableDOMContentLoaded.then((function(){r(".burgerbar")})).catch((function(e){return console.log(e)}))}}]);
//# sourceMappingURL=nav-subscribe.b53de85adc4a05f7b0a7.chunk.js.map